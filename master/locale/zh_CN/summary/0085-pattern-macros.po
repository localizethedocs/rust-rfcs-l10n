msgid ""
msgstr ""
"Project-Id-Version: The Rust RFC Book\n"
"POT-Creation-Date: 2025-12-01T05:53:02Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: zh_CN\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/0085-pattern-macros.md:1
msgid "Start Date: 2014-05-21"
msgstr ""

#: src/0085-pattern-macros.md:2
msgid "RFC PR: [rust-lang/rfcs#85](https://github.com/rust-lang/rfcs/pull/85)"
msgstr ""

#: src/0085-pattern-macros.md:3
msgid ""
"Rust Issue: [rust-lang/rust#14473](https://github.com/rust-lang/rust/"
"issues/14473)"
msgstr ""

#: src/0085-pattern-macros.md:5
msgid "Summary"
msgstr ""

#: src/0085-pattern-macros.md:7
msgid "Allow macro expansion in patterns, i.e."
msgstr ""

#: src/0085-pattern-macros.md:16
msgid "Motivation"
msgstr ""

#: src/0085-pattern-macros.md:18
msgid ""
"This is consistent with allowing macros in expressions etc.  It's also a "
"year-old [open issue](https://github.com/mozilla/rust/issues/6830)."
msgstr ""

#: src/0085-pattern-macros.md:20
msgid ""
"I have [implemented](https://github.com/mozilla/rust/pull/14298) this "
"feature already and I'm [using it](https://github.com/kmcallister/html5/"
"blob/937684f107090741c8e87135efc6e5476489857b/src/tree_builder/mod.rs#L111-"
"L117) to [condense](https://github.com/kmcallister/html5/"
"blob/937684f107090741c8e87135efc6e5476489857b/src/tree_builder/mod.rs#L261-"
"L269) some ubiquitous patterns in the [HTML parser](https://github.com/"
"kmcallister/html5) I'm writing.  This makes the code more concise and easier "
"to cross-reference with the spec."
msgstr ""

#: src/0085-pattern-macros.md:22
msgid "Drawbacks / alternatives"
msgstr ""

#: src/0085-pattern-macros.md:24
msgid "A macro invocation in this position:"
msgstr ""

#: src/0085-pattern-macros.md:31
msgid "could potentially expand to any of three different syntactic elements:"
msgstr ""

#: src/0085-pattern-macros.md:33
msgid "A pattern, i.e. `Foo(x)`"
msgstr ""

#: src/0085-pattern-macros.md:34
msgid "The left side of a `match` arm, i.e. `Foo(x) | Bar(x) if x > 5`"
msgstr ""

#: src/0085-pattern-macros.md:35
msgid "An entire `match` arm, i.e. `Foo(x) | Bar(x) if x > 5 => 1`"
msgstr ""

#: src/0085-pattern-macros.md:37
msgid ""
"This RFC proposes only the first of these, but the others would be more "
"useful in some cases.  Supporting multiple of the above would be "
"significantly more complex."
msgstr ""

#: src/0085-pattern-macros.md:39
msgid ""
"Another alternative is to use a macro for the entire `match` expression, e.g."
msgstr ""

#: src/0085-pattern-macros.md:48
msgid ""
"This doesn't involve any language changes, but requires writing a "
"complicated procedural macro.  (My sustained attempts to do things like this "
"with MBE macros have all failed.)  Perhaps I could alleviate some of the "
"pain with a library for writing `match`\\-like macros, or better use of the "
"existing parser in `libsyntax`."
msgstr ""

#: src/0085-pattern-macros.md:50
msgid "The `my_match!` approach is also not very composable."
msgstr ""

#: src/0085-pattern-macros.md:52
msgid ""
"Another small drawback: `rustdoc` [can't document](https://github.com/"
"kmcallister/rust/blob/af65e3e9824087a472de3fea3c7cb1efcec4550b/src/"
"librustdoc/clean.rs#L1287-L1291) the name of a function argument which is "
"produced by a pattern macro."
msgstr ""

#: src/0085-pattern-macros.md:54
msgid "Unresolved questions"
msgstr ""

#: src/0085-pattern-macros.md:56
msgid "None, as far as I know."
msgstr ""
