msgid ""
msgstr ""
"Project-Id-Version: The Rust RFC Book\n"
"POT-Creation-Date: 2025-12-01T05:53:02Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: zh_CN\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/0968-closure-return-type-syntax.md:1
msgid "Feature Name: N/A"
msgstr ""

#: src/0968-closure-return-type-syntax.md:2
msgid "Start Date: 2015-03-16"
msgstr ""

#: src/0968-closure-return-type-syntax.md:3
msgid ""
"RFC PR: [rust-lang/rfcs#968](https://github.com/rust-lang/rfcs/pull/968)"
msgstr ""

#: src/0968-closure-return-type-syntax.md:4
msgid ""
"Rust Issue: [rust-lang/rust#23420](https://github.com/rust-lang/rust/"
"issues/23420)"
msgstr ""

#: src/0968-closure-return-type-syntax.md:6
msgid "Summary"
msgstr ""

#: src/0968-closure-return-type-syntax.md:8
msgid "Restrict closure return type syntax for future compatibility."
msgstr ""

#: src/0968-closure-return-type-syntax.md:10
msgid "Motivation"
msgstr ""

#: src/0968-closure-return-type-syntax.md:12
msgid ""
"Today's closure return type syntax juxtaposes a type and an expression. This "
"is dangerous: if we choose to extend the type grammar to be more acceptable, "
"we can easily break existing code."
msgstr ""

#: src/0968-closure-return-type-syntax.md:16
msgid "Detailed design"
msgstr ""

#: src/0968-closure-return-type-syntax.md:18
msgid ""
"The current closure syntax for annotating the return type is `|Args| -> Type "
"Expr`, where `Type` is the return type and `Expr` is the body of the "
"closure. This syntax is future hostile and relies on being able to determine "
"the end point of a type. If we extend the syntax for types, we could cause "
"parse errors in existing code."
msgstr ""

#: src/0968-closure-return-type-syntax.md:24
msgid ""
"An example from history is that we extended the type grammar to include "
"things like `Fn(..)`. This would have caused the following, previous, legal "
"-- closure not to parse: `|| -> Foo (Foo)`. As a simple fix, this RFC "
"proposes that if a return type annotation is supplied, the body must be "
"enclosed in braces: `|| -> Foo { (Foo) }`. Types are already juxtaposed with "
"open braces in `fn` items, so this should not be an additional danger for "
"future evolution."
msgstr ""

#: src/0968-closure-return-type-syntax.md:32
msgid "Drawbacks"
msgstr ""

#: src/0968-closure-return-type-syntax.md:34
msgid ""
"This design is minimally invasive but perhaps unfortunate in that it's not "
"obvious that braces would be required. But then, return type annotations are "
"very rarely used."
msgstr ""

#: src/0968-closure-return-type-syntax.md:38
msgid "Alternatives"
msgstr ""

#: src/0968-closure-return-type-syntax.md:40
msgid ""
"I am not aware of any alternate designs. One possibility would be to remove "
"return type annotations altogether, perhaps relying on type ascription or "
"other annotations to force the inferencer to figure things out, but they are "
"useful in rare scenarios. In particular type ascription would not be able to "
"handle a higher-ranked signature like `for<'a> &'a X -> &'a Y` without "
"improving the type checker implementation in other ways (in particular, we "
"don't infer generalization over lifetimes at present, unless we can figure "
"it out from the expected type or explicit annotations)."
msgstr ""

#: src/0968-closure-return-type-syntax.md:50
msgid "Unresolved questions"
msgstr ""

#: src/0968-closure-return-type-syntax.md:52
msgid "None."
msgstr ""
