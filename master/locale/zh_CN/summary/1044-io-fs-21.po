msgid ""
msgstr ""
"Project-Id-Version: The Rust RFC Book\n"
"POT-Creation-Date: 2025-12-22T09:04:43Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/1044-io-fs-2.1.md:1
msgid "Feature Name: `fs2`"
msgstr ""

#: src/1044-io-fs-2.1.md:2
msgid "Start Date: 2015-04-04"
msgstr ""

#: src/1044-io-fs-2.1.md:3
msgid ""
"RFC PR: [rust-lang/rfcs#1044](https://github.com/rust-lang/rfcs/pull/1044)"
msgstr ""

#: src/1044-io-fs-2.1.md:4
msgid ""
"Rust Issue: [rust-lang/rust#24796](https://github.com/rust-lang/rust/"
"issues/24796)"
msgstr ""

#: src/1044-io-fs-2.1.md:6
msgid "Summary"
msgstr ""

#: src/1044-io-fs-2.1.md:8
msgid ""
"Expand the scope of the `std::fs` module by enhancing existing "
"functionality, exposing lower-level representations, and adding a few new "
"functions."
msgstr ""

#: src/1044-io-fs-2.1.md:11
msgid "Motivation"
msgstr ""

#: src/1044-io-fs-2.1.md:13
msgid ""
"The current `std::fs` module serves many of the basic needs of interacting "
"with a filesystem, but is missing a lot of useful functionality. For "
"example, none of these operations are possible in stable Rust today:"
msgstr ""

#: src/1044-io-fs-2.1.md:17
msgid "Inspecting a file's modification/access times"
msgstr ""

#: src/1044-io-fs-2.1.md:18
msgid "Reading low-level information like that contained in `libc::stat`"
msgstr ""

#: src/1044-io-fs-2.1.md:19
msgid "Inspecting the unix permission bits on a file"
msgstr ""

#: src/1044-io-fs-2.1.md:20
msgid "Blanket setting the unix permission bits on a file"
msgstr ""

#: src/1044-io-fs-2.1.md:21
msgid "Leveraging `DirEntry` for the extra metadata it might contain"
msgstr ""

#: src/1044-io-fs-2.1.md:22
msgid "Reading the metadata of a symlink (not what it points at)"
msgstr ""

#: src/1044-io-fs-2.1.md:23
msgid "Resolving all symlink in a path"
msgstr ""

#: src/1044-io-fs-2.1.md:25
msgid ""
"There is some more functionality listed in the [RFC issue](https://github."
"com/rust-lang/rfcs/issues/939), but this RFC will not attempt to solve the "
"entirety of that issue at this time. This RFC strives to expose APIs for "
"much of the functionality listed above that is on the track to becoming "
"`#[stable]` soon."
msgstr ""

#: src/1044-io-fs-2.1.md:32
msgid "Non-goals of this RFC"
msgstr ""

#: src/1044-io-fs-2.1.md:34
msgid ""
"There are a few areas of the `std::fs` API surface which are **not** "
"considered goals for this RFC. It will be left for future RFCs to add new "
"APIs for these areas:"
msgstr ""

#: src/1044-io-fs-2.1.md:38
msgid ""
"Enhancing `copy` to copy directories recursively or configuring how copying "
"happens."
msgstr ""

#: src/1044-io-fs-2.1.md:40
msgid "Enhancing or stabilizing `walk` and its functionality."
msgstr ""

#: src/1044-io-fs-2.1.md:41
msgid "Temporary files or directories"
msgstr ""

#: src/1044-io-fs-2.1.md:43
msgid "Detailed design"
msgstr ""

#: src/1044-io-fs-2.1.md:45
msgid ""
"First, a vision for how lowering APIs in general will be presented, and then "
"a number of specific APIs will each be proposed. Many of the proposed APIs "
"are independent from one another and this RFC may not be implemented all-in-"
"one-go but instead piecemeal over time, allowing the designs to evolve "
"slightly in the meantime."
msgstr ""

#: src/1044-io-fs-2.1.md:51
msgid "Lowering APIs"
msgstr ""

#: src/1044-io-fs-2.1.md:53
msgid "The vision for the `os` module"
msgstr ""

#: src/1044-io-fs-2.1.md:55
msgid ""
"One of the principles of [IO reform](https://github.com/rust-lang/rfcs/blob/"
"master/text/0517-io-os-reform.md#vision-for-io) was to:"
msgstr ""

#: src/1044-io-fs-2.1.md:57
msgid ""
"Provide hooks for integrating with low-level and/or platform-specific APIs."
msgstr ""

#: src/1044-io-fs-2.1.md:59
msgid ""
"The original RFC went into some amount of detail for how this would look, in "
"particular by use of the `os` module. Part of the goal of this RFC is to "
"flesh out that vision in more detail."
msgstr ""

#: src/1044-io-fs-2.1.md:63
msgid ""
"Ultimately, the organization of `os` is planned to look something like the "
"following:"
msgstr ""

#: src/1044-io-fs-2.1.md:81
msgid ""
"APIs whose behavior is platform-specific are provided only within the `std::"
"os` hierarchy, making it easy to audit for usage of such APIs.  Organizing "
"the platform modules internally in the same way as `std` makes it easy to "
"find relevant extensions when working with `std`."
msgstr ""

#: src/1044-io-fs-2.1.md:86
msgid ""
"It is emphatically _not_ the goal of the `std::os::*` modules to provide "
"bindings to _all_ system APIs for each platform; this work is left to "
"external crates. The goals are rather to:"
msgstr ""

#: src/1044-io-fs-2.1.md:90
msgid ""
"Facilitate interop between abstract types like `File` that `std` provides "
"and the underlying system. This is done via \"lowering\": extension traits "
"like [`AsRawFd`](http://static.rust-lang.org/doc/master/std/os/unix/io/trait."
"AsRawFd.html) allow you to extract low-level, platform-specific "
"representations out of `std` types like `File` and `TcpStream`."
msgstr ""

#: src/1044-io-fs-2.1.md:95
msgid ""
"Provide high-level but platform-specific APIs that feel like those in the "
"rest of `std`. Just as with the rest of `std`, the goal here is not to "
"include all possible functionality, but rather the most commonly-used or "
"fundamental."
msgstr ""

#: src/1044-io-fs-2.1.md:100
msgid ""
"Lowering makes it possible for external crates to provide APIs that work "
"\"seamlessly\" with `std` abstractions. For example, a crate for Linux might "
"provide an `epoll` facility that can work directly with `std::fs::File` and "
"`std::net::TcpStream` values, completely hiding the internal use of file "
"descriptors. Eventually, such a crate could even be merged into `std::os::"
"unix`, with minimal disruption -- there is little distinction between `std` "
"and other crates in this regard."
msgstr ""

#: src/1044-io-fs-2.1.md:108
msgid "Concretely, lowering has two ingredients:"
msgstr ""

#: src/1044-io-fs-2.1.md:110
msgid ""
"Introducing one or more \"raw\" types that are generally direct aliases for "
"C types (more on this in the next section)."
msgstr ""

#: src/1044-io-fs-2.1.md:113
msgid ""
"Providing an extension trait that makes it possible to extract a raw type "
"from a `std` type. In some cases, it's possible to go the other way around "
"as well. The conversion can be by reference or by value, where the latter is "
"used mainly to avoid the destructor associated with a `std` type (e.g. to "
"extract a file descriptor from a `File` and eliminate the `File` object, "
"without closing the file)."
msgstr ""

#: src/1044-io-fs-2.1.md:120
msgid ""
"While we do not seek to exhaustively bind types or APIs from the underlying "
"system, it _is_ a goal to provide lowering operations for every high-level "
"type to a system-level data type, whenever applicable. This RFC proposes "
"several such lowerings that are currently missing from `std::fs`."
msgstr ""

#: src/1044-io-fs-2.1.md:128
msgid "`std::os::platform::raw`"
msgstr ""

#: src/1044-io-fs-2.1.md:130
msgid ""
"Each of the primitives in the standard library will expose the ability to be "
"lowered into its component abstraction, facilitating the need to define "
"these abstractions and organize them in the platform-specific modules. This "
"RFC proposes the following guidelines for doing so:"
msgstr ""

#: src/1044-io-fs-2.1.md:135
msgid ""
"Each platform will have a `raw` module inside of `std::os` which houses all "
"of its platform specific definitions."
msgstr ""

#: src/1044-io-fs-2.1.md:137
msgid ""
"Only type definitions will be contained in `raw` modules, no function "
"bindings, methods, or trait implementations."
msgstr ""

#: src/1044-io-fs-2.1.md:139
msgid ""
"Cross-platform types (e.g. those shared on all `unix` platforms) will be "
"located in the respective cross-platform module. Types which only differ in "
"the width of an integer type are considered to be cross-platform."
msgstr ""

#: src/1044-io-fs-2.1.md:142
msgid ""
"Platform-specific types will exist only in the `raw` module for that "
"platform. A platform-specific type may have different field names, "
"components, or just not exist on other platforms."
msgstr ""

#: src/1044-io-fs-2.1.md:146
msgid ""
"Differences in integer widths are not considered to be enough of a platform "
"difference to define in each separate platform's module, meaning that it "
"will be possible to write code that uses `os::unix` but doesn't compile on "
"all Unix platforms. It is believed that most consumers of these types will "
"continue to store the same type (e.g. not assume it's an `i32`) throughout "
"the application or immediately cast it to a known type."
msgstr ""

#: src/1044-io-fs-2.1.md:153
msgid ""
"To reiterate, it is not planned for each `raw` module to provide "
"_exhaustive_ bindings to each platform. Only those abstractions which the "
"standard library is lowering into will be defined in each `raw` module."
msgstr ""

#: src/1044-io-fs-2.1.md:157
msgid "Lowering `Metadata` (all platforms)"
msgstr ""

#: src/1044-io-fs-2.1.md:159
msgid ""
"Currently the `Metadata` structure exposes very few pieces of information "
"about a file. Some of this is because the information is not available "
"across all platforms, but some of it is also because the standard library "
"does not have the appropriate abstraction to return at this time (e.g. time "
"stamps). The raw contents of `Metadata` (a `stat` on Unix), however, should "
"be accessible via lowering no matter what."
msgstr ""

#: src/1044-io-fs-2.1.md:166
msgid ""
"The following trait hierarchy and new structures will be added to the "
"standard library."
msgstr ""

#: src/1044-io-fs-2.1.md:172
msgid "// `dwFileAttributes` field\n"
msgstr ""

#: src/1044-io-fs-2.1.md:173
msgid "// `ftCreationTime` field\n"
msgstr ""

#: src/1044-io-fs-2.1.md:174
msgid "// `ftLastAccessTime` field\n"
msgstr ""

#: src/1044-io-fs-2.1.md:175
msgid "// `ftLastWriteTime` field\n"
msgstr ""

#: src/1044-io-fs-2.1.md:176
msgid "// `nFileSizeHigh`/`nFileSizeLow` fields\n"
msgstr ""

#: src/1044-io-fs-2.1.md:189
msgid ""
"// Accessors for fields available in `raw::stat` for *all* unix platforms\n"
msgstr ""

#: src/1044-io-fs-2.1.md:190
msgid "// st_dev field\n"
msgstr ""

#: src/1044-io-fs-2.1.md:191
msgid "// st_ino field\n"
msgstr ""

#: src/1044-io-fs-2.1.md:192
msgid "// st_mode field\n"
msgstr ""

#: src/1044-io-fs-2.1.md:193
msgid "// st_nlink field\n"
msgstr ""

#: src/1044-io-fs-2.1.md:194
msgid "// st_uid field\n"
msgstr ""

#: src/1044-io-fs-2.1.md:195
msgid "// st_gid field\n"
msgstr ""

#: src/1044-io-fs-2.1.md:196
msgid "// st_rdev field\n"
msgstr ""

#: src/1044-io-fs-2.1.md:197
msgid "// st_size field\n"
msgstr ""

#: src/1044-io-fs-2.1.md:198
msgid "// st_blksize field\n"
msgstr ""

#: src/1044-io-fs-2.1.md:199
msgid "// st_blocks field\n"
msgstr ""

#: src/1044-io-fs-2.1.md:200
msgid "// st_atime field, (sec, nsec)\n"
msgstr ""

#: src/1044-io-fs-2.1.md:201
msgid "// st_mtime field, (sec, nsec)\n"
msgstr ""

#: src/1044-io-fs-2.1.md:202
msgid "// st_ctime field, (sec, nsec)\n"
msgstr ""

#: src/1044-io-fs-2.1.md:205
msgid "// st_flags, st_gen, st_lspare, st_birthtim, st_qspare\n"
msgstr ""

#: src/1044-io-fs-2.1.md:211
msgid "// ...\n"
msgstr ""

#: src/1044-io-fs-2.1.md:213
msgid "// ... same public fields as libc::stat\n"
msgstr ""

#: src/1044-io-fs-2.1.md:224
msgid ""
"The goal of this hierarchy is to expose all of the information in the OS-"
"level metadata in as cross-platform of a method as possible while adhering "
"to the design principles of the standard library."
msgstr ""

#: src/1044-io-fs-2.1.md:228
msgid ""
"The interesting part about working in a \"cross platform\" manner here is "
"that the makeup of `libc::stat` on unix platforms can vary quite a bit "
"between platforms. For example some platforms have a `st_birthtim` field "
"while others do not. To enable as much ergonomic usage as possible, the `os::"
"unix` module will expose the _intersection_ of metadata available in `libc::"
"stat` across all unix platforms. The information is still exposed in a raw "
"fashion (in terms of the values returned), but methods are required as the "
"raw structure is not exposed. The unix platforms then leverage the more fine-"
"grained modules in `std::os` (e.g. `linux` and `macos`) to return the raw "
"`libc::stat` structure. This will allow full access to the information in "
"`libc::stat` in all platforms with clear opt-in to when you're using "
"platform-specific information."
msgstr ""

#: src/1044-io-fs-2.1.md:240
msgid ""
"One of the major goals of the `os::unix::fs` design is to enable as much "
"functionality as possible when programming against \"unix in general\" while "
"still allowing applications to choose to only program against macos, for "
"example."
msgstr ""

#: src/1044-io-fs-2.1.md:244
msgid "Fate of `Metadata::{accessed, modified}`"
msgstr ""

#: src/1044-io-fs-2.1.md:246
msgid ""
"At this time there is no suitable type in the standard library to represent "
"the return type of these two functions. The type would either have to be "
"some form of time stamp or moment in time, both of which are difficult "
"abstractions to add lightly."
msgstr ""

#: src/1044-io-fs-2.1.md:251
msgid ""
"Consequently, both of these functions will be **deprecated** in favor of "
"requiring platform-specific code to access the modification/access time of "
"files. This information is all available via the `MetadataExt` traits listed "
"above."
msgstr ""

#: src/1044-io-fs-2.1.md:256
msgid ""
"Eventually, once a `std` type for cross-platform timestamps is available, "
"these methods will be re-instated as returning that type."
msgstr ""

#: src/1044-io-fs-2.1.md:259
msgid "Lowering and setting `Permissions` (Unix)"
msgstr ""

#: src/1044-io-fs-2.1.md:261
msgid "**Note**: this section only describes behavior on unix."
msgstr ""

#: src/1044-io-fs-2.1.md:263
msgid ""
"Currently there is no stable method of inspecting the permission bits on a "
"file, and it is unclear whether the current unstable methods of doing so, "
"`PermissionsExt::mode`, should be stabilized. The main question around this "
"piece of functionality is whether to provide a higher level abstraction (e."
"g. similar to the `bitflags` crate) for the permission bits on unix."
msgstr ""

#: src/1044-io-fs-2.1.md:269
msgid ""
"This RFC proposes considering the methods for stabilization as-is and not "
"pursuing a higher level abstraction of the unix permission bits. To "
"facilitate in their inspection and manipulation, however, the following "
"constants will be added:"
msgstr ""

#: src/1044-io-fs-2.1.md:298
msgid ""
"Finally, the `set_permissions` function of the `std::fs` module is also "
"proposed to be marked `#[stable]` soon as a method of blanket setting "
"permissions for a file."
msgstr ""

#: src/1044-io-fs-2.1.md:302
msgid "Constructing `Permissions`"
msgstr ""

#: src/1044-io-fs-2.1.md:304
msgid ""
"Currently there is no method to construct an instance of `Permissions` on "
"any platform. This RFC proposes adding the following APIs:"
msgstr ""

#: src/1044-io-fs-2.1.md:316
msgid ""
"This RFC does not propose yet adding a cross-platform way to construct a "
"`Permissions` structure due to the radical differences between how unix and "
"windows handle permissions."
msgstr ""

#: src/1044-io-fs-2.1.md:320
msgid "Creating directories with permissions"
msgstr ""

#: src/1044-io-fs-2.1.md:322
msgid ""
"Currently the standard library does not expose an API which allows setting "
"the permission bits on unix or security attributes on Windows. This RFC "
"proposes adding the following API to `std::fs`:"
msgstr ""

#: src/1044-io-fs-2.1.md:330
msgid ""
"/// Creates a new set of options with default mode/security settings for "
"all\n"
"    /// platforms and also non-recursive.\n"
msgstr ""

#: src/1044-io-fs-2.1.md:334
msgid ""
"/// Indicate that directories create should be created recursively, "
"creating\n"
"    /// all parent directories if they do not exist with the same security "
"and\n"
"    /// permissions settings.\n"
msgstr ""

#: src/1044-io-fs-2.1.md:339
msgid ""
"/// Create the specified directory with the options configured in this\n"
"    /// builder.\n"
msgstr ""

#: src/1044-io-fs-2.1.md:352
msgid ""
"// once a `SECURITY_ATTRIBUTES` abstraction exists, this will be added\n"
msgstr ""

#: src/1044-io-fs-2.1.md:360
msgid ""
"This sort of builder is also extendable to other flavors of functions in the "
"future, such as [C++'s template parameter](http://en.cppreference.com/w/cpp/"
"experimental/fs/create_directory):"
msgstr ""

#: src/1044-io-fs-2.1.md:366
msgid ""
"/// Use the specified directory as a \"template\" for permissions and "
"security\n"
"/// settings of the new directories to be created.\n"
"///\n"
"/// On unix this will issue a `stat` of the specified directory and new\n"
"/// directories will be created with the same permission bits. On Windows\n"
"/// this will trigger the use of the `CreateDirectoryEx` function.\n"
msgstr ""

#: src/1044-io-fs-2.1.md:375
msgid ""
"At this time, however, it is not proposed to add this method to `DirBuilder`."
msgstr ""

#: src/1044-io-fs-2.1.md:378
msgid "Adding `FileType`"
msgstr ""

#: src/1044-io-fs-2.1.md:380
msgid ""
"Currently there is no enumeration or newtype representing a list of \"file "
"types\" on the local filesystem. This is partly done because the need is not "
"so high right now. Some situations, however, imply that it is more efficient "
"to learn the file type at once instead of testing for each individual file "
"type itself."
msgstr ""

#: src/1044-io-fs-2.1.md:385
msgid ""
"For example some platforms' `DirEntry` type can know the `FileType` without "
"an extra syscall. If code were to test a `DirEntry` separately for whether "
"it's a file or a directory, it may issue more syscalls necessary than if it "
"instead learned the type and then tested that if it was a file or directory."
msgstr ""

#: src/1044-io-fs-2.1.md:390
msgid ""
"The full set of file types, however, is not always known nor portable across "
"platforms, so this RFC proposes the following hierarchy:"
msgstr ""

#: src/1044-io-fs-2.1.md:404
msgid ""
"Extension traits can be added in the future for testing for other more "
"flavorful kinds of files on various platforms (such as unix sockets on unix "
"platforms)."
msgstr ""

#: src/1044-io-fs-2.1.md:407
msgid "Dealing with `is_{file,dir}` and `file_type` methods"
msgstr ""

#: src/1044-io-fs-2.1.md:409
msgid ""
"Currently the `fs::Metadata` structure exposes stable `is_file` and `is_dir` "
"accessors. The struct will also grow a `file_type` accessor for this newtype "
"struct being added. It is proposed that `Metadata` will retain the `is_{file,"
"dir}` convenience methods, but no other \"file type testers\" will be added."
msgstr ""

#: src/1044-io-fs-2.1.md:415
msgid "Enhancing symlink support"
msgstr ""

#: src/1044-io-fs-2.1.md:417
msgid ""
"Currently the `std::fs` module provides a `soft_link` and `read_link` "
"function, but there is no method of doing other symlink related tasks such "
"as:"
msgstr ""

#: src/1044-io-fs-2.1.md:420
msgid "Testing whether a file is a symlink"
msgstr ""

#: src/1044-io-fs-2.1.md:421
msgid "Reading the metadata of a symlink, not what it points to"
msgstr ""

#: src/1044-io-fs-2.1.md:423
msgid "The following APIs will be added to `std::fs`:"
msgstr ""

#: src/1044-io-fs-2.1.md:426
msgid ""
"/// Returns the metadata of the file pointed to by `p`, and this function,\n"
"/// unlike `metadata` will **not** follow symlinks.\n"
msgstr ""

#: src/1044-io-fs-2.1.md:431
msgid "Binding `realpath`"
msgstr ""

#: src/1044-io-fs-2.1.md:433
msgid ""
"There's a [long-standing issue](https://github.com/rust-lang/rust/"
"issues/11857) that the unix function `realpath` is not bound, and this RFC "
"proposes adding the following API to the `fs` module:"
msgstr ""

#: src/1044-io-fs-2.1.md:439
msgid ""
"/// Canonicalizes the given file name to an absolute path with all `..`, `."
"`,\n"
"/// and symlink components resolved.\n"
"///\n"
"/// On unix this function corresponds to the return value of the `realpath`\n"
"/// function, and on Windows this corresponds to the `GetFullPathName` "
"function.\n"
"///\n"
"/// Note that relative paths given to this function will use the current "
"working\n"
"/// directory as a base, and the current working directory is not managed in "
"a\n"
"/// thread-local fashion, so this function may need to be synchronized with\n"
"/// other calls to `env::change_dir`.\n"
msgstr ""

#: src/1044-io-fs-2.1.md:452
msgid "Tweaking `PathExt`"
msgstr ""

#: src/1044-io-fs-2.1.md:454
msgid ""
"Currently the `PathExt` trait is unstable, yet it is quite convenient! The "
"main motivation for its `#[unstable]` tag is that it is unclear how much "
"functionality should be on `PathExt` versus the `std::fs` module itself. "
"Currently a small subset of functionality is offered, but it is unclear what "
"the guiding principle for the contents of this trait are."
msgstr ""

#: src/1044-io-fs-2.1.md:460
msgid "This RFC proposes a few guiding principles for this trait:"
msgstr ""

#: src/1044-io-fs-2.1.md:462
msgid ""
"Only read-only operations in `std::fs` will be exposed on `PathExt`. All "
"operations which require modifications to the filesystem will require "
"calling methods through `std::fs` itself."
msgstr ""

#: src/1044-io-fs-2.1.md:466
msgid ""
"Some inspection methods on `Metadata` will be exposed on `PathExt`, but only "
"those where it logically makes sense for `Path` to be the `self` receiver. "
"For example `PathExt::len` will not exist (size of the file), but `PathExt::"
"is_dir` will exist."
msgstr ""

#: src/1044-io-fs-2.1.md:471
msgid "Concretely, the `PathExt` trait will be expanded to:"
msgstr ""

#: src/1044-io-fs-2.1.md:488
msgid "Expanding `DirEntry`"
msgstr ""

#: src/1044-io-fs-2.1.md:490
msgid ""
"Currently the `DirEntry` API is quite minimalistic, exposing very few of the "
"underlying attributes. Platforms like Windows actually contain an entire "
"`Metadata` inside of a `DirEntry`, enabling much more efficient walking of "
"directories in some situations."
msgstr ""

#: src/1044-io-fs-2.1.md:495
msgid "The following APIs will be added to `DirEntry`:"
msgstr ""

#: src/1044-io-fs-2.1.md:499
msgid ""
"/// This function will return the filesystem metadata for this directory\n"
"    /// entry. This is equivalent to calling `fs::symlink_metadata` on the\n"
"    /// path returned.\n"
"    ///\n"
"    /// On Windows this function will always return `Ok` and will not issue "
"a\n"
"    /// system call, but on unix this will always issue a call to `stat` to\n"
"    /// return metadata.\n"
msgstr ""

#: src/1044-io-fs-2.1.md:508
msgid ""
"/// Return what file type this `DirEntry` contains.\n"
"    ///\n"
"    /// On some platforms this may not require reading the metadata of the\n"
"    /// underlying file from the filesystem, but on other platforms it may "
"be\n"
"    /// required to do so.\n"
msgstr ""

#: src/1044-io-fs-2.1.md:515
msgid "/// Returns the file name for this directory entry.\n"
msgstr ""

#: src/1044-io-fs-2.1.md:521
msgid "// read the d_ino field\n"
msgstr ""

#: src/1044-io-fs-2.1.md:527
msgid "Drawbacks"
msgstr ""

#: src/1044-io-fs-2.1.md:529
msgid ""
"This is quite a bit of surface area being added to the `std::fs` API, and it "
"may perhaps be best to scale it back and add it in a more incremental "
"fashion instead of all at once. Most of it, however, is fairly "
"straightforward, so it seems prudent to schedule many of these features for "
"the 1.1 release."
msgstr ""

#: src/1044-io-fs-2.1.md:534
msgid ""
"Exposing raw information such as `libc::stat` or `WIN32_FILE_ATTRIBUTE_DATA` "
"possibly can hamstring altering the implementation in the future. At this "
"point, however, it seems unlikely that the exposed pieces of information "
"will be changing much."
msgstr ""

#: src/1044-io-fs-2.1.md:539
msgid "Alternatives"
msgstr ""

#: src/1044-io-fs-2.1.md:541
msgid ""
"Instead of exposing accessor methods in `MetadataExt` on Windows, the raw "
"`WIN32_FILE_ATTRIBUTE_DATA` could be returned. We may change, however, to "
"using `BY_HANDLE_FILE_INFORMATION` one day which would make the return value "
"from this function more difficult to implement."
msgstr ""

#: src/1044-io-fs-2.1.md:546
msgid ""
"A `std::os::MetadataExt` trait could be added to access truly common "
"information such as modification/access times across all platforms. The "
"return value would likely be a `u64` \"something\" and would be clearly "
"documented as being a lossy abstraction and also only having a platform-"
"specific meaning."
msgstr ""

#: src/1044-io-fs-2.1.md:551
msgid ""
"The `PathExt` trait could perhaps be implemented on `DirEntry`, but it "
"doesn't necessarily seem appropriate for all the methods and using inherent "
"methods also seems more logical."
msgstr ""

#: src/1044-io-fs-2.1.md:555
msgid "Unresolved questions"
msgstr ""

#: src/1044-io-fs-2.1.md:557
msgid ""
"What is the ultimate role of crates like `liblibc`, and how do we draw the "
"line between them and `std::os` definitions?"
msgstr ""
