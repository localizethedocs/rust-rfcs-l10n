msgid ""
msgstr ""
"Project-Id-Version: The Rust RFC Book\n"
"POT-Creation-Date: 2025-12-01T05:53:05Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: zh_CN\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/2797-project-ffi-unwind.md:1
msgid "Feature Name: `project-unwind-FFI`"
msgstr ""

#: src/2797-project-ffi-unwind.md:2
msgid "Start Date: 2019-10-27"
msgstr ""

#: src/2797-project-ffi-unwind.md:3
msgid ""
"RFC PR: [rust-lang/rfcs#2797](https://github.com/rust-lang/rfcs/pull/2797)"
msgstr ""

#: src/2797-project-ffi-unwind.md:4
msgid "Rust Issue: N/A"
msgstr ""

#: src/2797-project-ffi-unwind.md:6
msgid "Summary"
msgstr ""

#: src/2797-project-ffi-unwind.md:9
msgid ""
"To create a \"project group\" with the purpose of designing subsequent RFCs "
"to extend the language to support unwinding that crosses FFI boundaries"
msgstr ""

#: src/2797-project-ffi-unwind.md:11
msgid ""
"The \"project group\" term is newly introduced: it is a specific type of "
"working group whose goal is to flesh out a particular proposal or complete a "
"project."
msgstr ""

#: src/2797-project-ffi-unwind.md:14
msgid ""
"This project group plans to recommend specifications of how \"C unwind\" "
"will work on major platforms."
msgstr ""

#: src/2797-project-ffi-unwind.md:16
msgid ""
"The primary goal is to enable Rust panics to propagate safely across foreign "
"frames."
msgstr ""

#: src/2797-project-ffi-unwind.md:18
msgid ""
"A future goal may be to enable foreign exceptions to propagate across Rust "
"frames."
msgstr ""

#: src/2797-project-ffi-unwind.md:20
msgid ""
"We do not plan to allow catching or throwing foreign exceptions from Rust "
"code"
msgstr ""

#: src/2797-project-ffi-unwind.md:23
msgid "Motivation"
msgstr ""

#: src/2797-project-ffi-unwind.md:26
msgid ""
"Unwinding through Rust's `extern \"C\"` ABI is [Undefined Behavior](https://"
"doc.rust-lang.org/reference/behavior-considered-undefined.html). There is an "
"[existing plan](https://github.com/rust-lang/rust/issues/52652) to make the "
"behavior of Rust's `panic` well-defined by causing Rust functions defined "
"with `extern \"C\"` to abort the application whenever an uncaught `panic` "
"would otherwise escape into the caller. Unfortunately, previous attempts to "
"stabilize this behavior have caused existing, working projects to break."
msgstr ""

#: src/2797-project-ffi-unwind.md:33
msgid ""
"The problem here is not that the existing projects break _per se_: they are "
"relying on [Undefined Behavior](https://doc.rust-lang.org/reference/behavior-"
"considered-undefined.html), so breakage is to be expected as a possibility. "
"The problem is that there is no alternative available to them that would "
"allow them to keep working (even if they are continuing to rely on behavior "
"that is not yet fully specified)."
msgstr ""

#: src/2797-project-ffi-unwind.md:39
msgid ""
"Previous attempts to provide a well-defined mechanism for unwinding across "
"FFI boundaries have failed to reach consensus. Notably, two proposed RFCs "
"generated over 400 comments between them before ultimately being closed:"
msgstr ""

#: src/2797-project-ffi-unwind.md:43
msgid "[rust-lang/rfcs#2699](https://github.com/rust-lang/rfcs/pull/2699)"
msgstr ""

#: src/2797-project-ffi-unwind.md:44
msgid "[rust-lang/rfcs#2753](https://github.com/rust-lang/rfcs/pull/2753)"
msgstr ""

#: src/2797-project-ffi-unwind.md:46
msgid ""
"GitHub comment threads become difficult to follow for discussions this "
"lengthy, and the disagreements in these threads have felt less productive "
"than we believe they could be if more structure were provided."
msgstr ""

#: src/2797-project-ffi-unwind.md:50
msgid ""
"We would also like to demonstrate the Rust lang team's commitment to "
"providing such a mechanism without needing to agree in advance on what "
"language changes will be stabilized in order to do so."
msgstr ""

#: src/2797-project-ffi-unwind.md:54
msgid "Prototyping 'shepherded' project groups"
msgstr ""

#: src/2797-project-ffi-unwind.md:57
msgid ""
"With this RFC, we formally announce the formation of a project-specific, "
"shepherded \"project group\" to adopt responsibility for driving progress on "
"specifying unwinding behavior at FFI boundaries."
msgstr ""

#: src/2797-project-ffi-unwind.md:61
msgid "What is a \"project group\"?"
msgstr ""

#: src/2797-project-ffi-unwind.md:63
msgid ""
"The \"project group\" term has not previously been used: it is intended to "
"formalize a concept that has existed informally for some time, under a "
"number of names (including \"working group\")."
msgstr ""

#: src/2797-project-ffi-unwind.md:67
msgid ""
"A \"project group\" is a group of people working on a particular project at "
"the behest of an official Rust team. Project groups must have:"
msgstr ""

#: src/2797-project-ffi-unwind.md:70
msgid "A **charter** defining the project's scope"
msgstr ""

#: src/2797-project-ffi-unwind.md:71
msgid ""
"A **liaison** with an official Rust team (who may or may not also be a "
"shepherd)"
msgstr ""

#: src/2797-project-ffi-unwind.md:72
msgid ""
"A small number of **shepherds**, who are responsible for summarizing "
"conversations and keeping the lang team abreast of interesting developments."
msgstr ""

#: src/2797-project-ffi-unwind.md:74
msgid ""
"A GitHub repository hosted under the `rust-lang` organization containing the "
"charter and instructions for how community members can monitor the group's "
"progress and/or participate."
msgstr ""

#: src/2797-project-ffi-unwind.md:78
msgid ""
"[This blog post](http://smallcultfollowing.com/babysteps/blog/2019/09/11/aic-"
"shepherds-3-0/) explains in detail the role of the shepherds."
msgstr ""

#: src/2797-project-ffi-unwind.md:81
msgid "Project group roadmap and RFCs"
msgstr ""

#: src/2797-project-ffi-unwind.md:83
msgid ""
"The first step of the project group is to define a **roadmap** indicating "
"the planned sequence in which it will design and propose particular "
"behaviors and features.  Once the project group feels it has completed work "
"on some item in the roadmap, that item will be submitted as an RFC or FCP "
"for review by the lang team and the community at large."
msgstr ""

#: src/2797-project-ffi-unwind.md:88
msgid "Stabilizing unspecified \"TBD\" behavior"
msgstr ""

#: src/2797-project-ffi-unwind.md:91
msgid ""
"We would like to be able to provide features in stable Rust where some of "
"the details are only partially specified. For example, we might add a new "
"ABI \"C unwind\" that can be used from stable Rust, while explicitly leaving "
"the behavior when a foreign exception unwinds across such a boundary "
"unspecified. In such cases, we would attempt to provide some bounds on what "
"might happen -- for example, we might state that a Rust panic propagating "
"across a \"C unwind\" boundary must be preserved and handled as normal."
msgstr ""

#: src/2797-project-ffi-unwind.md:100
msgid ""
"In some cases, we intend to mark some of this unspecified behavior as \"To "
"Be Determined\" (TBD). This classification is meant to convey that the "
"behavior is behavior we intend to specify as part of this group, although we "
"have not done so _yet_. This categorization is purely intental to the "
"working group, however; such behavior would remain formally unspecified "
"until an RFC or other binding decision is reached."
msgstr ""

#: src/2797-project-ffi-unwind.md:108
msgid "Details of the FFI-unwind project group"
msgstr ""

#: src/2797-project-ffi-unwind.md:110
msgid "[Repository](https://github.com/rust-lang/project-ffi-unwind)"
msgstr ""

#: src/2797-project-ffi-unwind.md:112
msgid "Initial shepherds:"
msgstr ""

#: src/2797-project-ffi-unwind.md:114
msgid "[acfoltzer (Adam)](https://github.com/acfoltzer)"
msgstr ""

#: src/2797-project-ffi-unwind.md:115
msgid "[batmanaod (Kyle)](https://github.com/batmanaod)"
msgstr ""

#: src/2797-project-ffi-unwind.md:117
msgid "Lang team liaisons:"
msgstr ""

#: src/2797-project-ffi-unwind.md:119
msgid "[nikmoatsakis (Niko)](https://github.com/nikmoatsakis)"
msgstr ""

#: src/2797-project-ffi-unwind.md:120
msgid "[joshtriplett (Josh)](https://github.com/joshtriplett)"
msgstr ""

#: src/2797-project-ffi-unwind.md:122
msgid "Charter"
msgstr ""

#: src/2797-project-ffi-unwind.md:125
msgid "The FFI-unwind project group has the following initial scope:"
msgstr ""

#: src/2797-project-ffi-unwind.md:127
msgid "to define the details of the \"C unwind\" ABI on major Tier 1 platforms"
msgstr ""

#: src/2797-project-ffi-unwind.md:128
msgid ""
"in particular, to define with sufficient detail to enable the use cases "
"described in the Motivation section of this RFC"
msgstr ""

#: src/2797-project-ffi-unwind.md:131
msgid "Certain elements are considered out of scope, at least to start:"
msgstr ""

#: src/2797-project-ffi-unwind.md:133
msgid ""
"We do not expect to add new mechanisms for interacting with or throwing "
"foreign exceptions."
msgstr ""

#: src/2797-project-ffi-unwind.md:135
msgid ""
"However, if we specify what happens when a foreign exception passes into "
"Rust code, then we must also specify how that exception will interact with "
"pre-existing mechanisms like destructors and `catch_unwind`. We just don't "
"intend to create new mechanisms."
msgstr ""

#: src/2797-project-ffi-unwind.md:142
msgid "Constraints and considerations"
msgstr ""

#: src/2797-project-ffi-unwind.md:144
msgid ""
"In its work, the project-group should consider various constraints and "
"considerations:"
msgstr ""

#: src/2797-project-ffi-unwind.md:147
msgid ""
"The possibility that C++ may adopt new unwinding mechanisms in the future."
msgstr ""

#: src/2797-project-ffi-unwind.md:148
msgid ""
"The possibility that Rust may alter its unwinding mechanism in the future -- "
"in particular, the project group must not propose a design that would "
"constrain Rust's unwinding implementation on any target."
msgstr ""

#: src/2797-project-ffi-unwind.md:152
msgid "Participation in the project group"
msgstr ""

#: src/2797-project-ffi-unwind.md:154
msgid ""
"Like any Rust group, the FFI-unwind project group intends to operate in a "
"public and open fashion and welcomes participation. Visit the [repository]"
"(https://github.com/rust-lang/project-ffi-unwind) for more details."
msgstr ""

#: src/2797-project-ffi-unwind.md:158
msgid "Drawbacks"
msgstr ""

#: src/2797-project-ffi-unwind.md:161
msgid ""
"The adoption of project groups for major language design efforts is a change "
"in the status quo. We believe that this change will be an improvement over "
"the current RFC-centric process, but we should be wary of unintended "
"consequences of from such a change."
msgstr ""

#: src/2797-project-ffi-unwind.md:165
msgid ""
"[Stabilization of \"TBD\" features](stabilizing-unspecified-tbd-behavior) "
"may be surprising or confusing to users, and it will encourage reliance on "
"(some) unspecified behavior."
msgstr ""

#: src/2797-project-ffi-unwind.md:169
msgid "Prior art"
msgstr ""

#: src/2797-project-ffi-unwind.md:172
msgid ""
"Although the term \"project group\" is new, some existing efforts, such as "
"the Unsafe Code Guidelines effort and the work around defining const "
"evaluation, were organized in a similar fashion."
msgstr ""

#: src/2797-project-ffi-unwind.md:176
msgid ""
"In addition to the [blog post Niko Matsakis](http://smallcultfollowing.com/"
"babysteps/blog/2019/09/11/aic-shepherds-3-0/) about shepherding, James Munns "
"wrote a [more formal shepherding proposal](https://jamesmunns.com/blog/"
"shepherding-3-1/)."
msgstr ""

#: src/2797-project-ffi-unwind.md:180
msgid ""
"The [governance WG](https://github.com/rust-lang/wg-governance) and [lang-"
"team meta working group](https://github.com/rust-lang/lang-team/tree/master/"
"working-groups/meta) were both formed at least in part to improve the "
"process for large-scale design efforts. One existing proposal is for "
"[\"staged RFCs\"](http://smallcultfollowing.com/babysteps/blog/2018/06/20/"
"proposal-for-a-staged-rfc-process/); this may be considered a precursor to "
"the current \"shepherded project group\" proposal."
msgstr ""

#: src/2797-project-ffi-unwind.md:187
msgid "Unresolved questions and Future possibilities"
msgstr ""

#: src/2797-project-ffi-unwind.md:190
msgid ""
"Since this RFC merely formalizes the creation of the project group, it "
"intentionally leaves all technical details within the project's scope "
"unresolved."
msgstr ""

#: src/2797-project-ffi-unwind.md:194
msgid "Future possibilities"
msgstr ""

#: src/2797-project-ffi-unwind.md:197
msgid ""
"The project group will start with a fairly [limited scope](#charter), but if "
"the initial effort to design and stabilize a safe cross-language unwinding "
"feature on a limited set of platforms goes well, there are many related "
"areas of potential exploration. Three noteworthy examples are:"
msgstr ""

#: src/2797-project-ffi-unwind.md:202
msgid ""
"Catching foreign unwinding (e.g. Rust catching C++ exceptions, or C++ "
"catching Rust `panic`s)"
msgstr ""

#: src/2797-project-ffi-unwind.md:204
msgid ""
"Defining coercions among `fn`s using ABIs with different `unwind` behavior"
msgstr ""

#: src/2797-project-ffi-unwind.md:206
msgid ""
"Monitoring progress, or even participating in discussion about, the [ISO C "
"and C++ proposal](http://open-std.org/JTC1/SC22/WG21/docs/papers/2018/"
"p1095r0.pdf) for cross-language error handling"
msgstr ""
