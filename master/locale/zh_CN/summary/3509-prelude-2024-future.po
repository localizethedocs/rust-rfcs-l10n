msgid ""
msgstr ""
"Project-Id-Version: The Rust RFC Book\n"
"POT-Creation-Date: 2025-12-01T05:53:05Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/3509-prelude-2024-future.md:1
msgid "Feature Name:  `prelude_2024_future`"
msgstr ""

#: src/3509-prelude-2024-future.md:2
msgid "Start Date:  2023-10-05"
msgstr ""

#: src/3509-prelude-2024-future.md:3
msgid ""
"RFC PR: [rust-lang/rfcs#3509](https://github.com/rust-lang/rfcs/pull/3509)"
msgstr ""

#: src/3509-prelude-2024-future.md:4
msgid ""
"Rust Issue: [rust-lang/rust#121042](https://github.com/rust-lang/rust/"
"issues/121042)"
msgstr ""

#: src/3509-prelude-2024-future.md:6
msgid "Summary"
msgstr ""

#: src/3509-prelude-2024-future.md:9
msgid ""
"This RFC describes the inclusion of the `Future` and `IntoFuture` traits in "
"the 2024 edition prelude."
msgstr ""

#: src/3509-prelude-2024-future.md:11
msgid "Motivation"
msgstr ""

#: src/3509-prelude-2024-future.md:14
msgid ""
"When an `async fn` is desugared we obtain an anonymous type with a signature "
"of `impl Future`. In order to use this type we must first be able to _name_ "
"it, which can only be done if the  `Future` trait in scope. Currently this "
"can be a little inconvenient since it requires `std::future::Future` to be "
"manually imported."
msgstr ""

#: src/3509-prelude-2024-future.md:16
msgid ""
"`IntoFuture` comes up regularly when writing operations that accept a "
"`Future`. Adding `IntoFuture` makes it easy to call `.into_future()` to "
"bridge between code accepting only `Future` and code supplying an "
"`IntoFuture` impl, as well as making it easy to write new code that accepts "
"any `IntoFuture` impl."
msgstr ""

#: src/3509-prelude-2024-future.md:18
msgid ""
"Both of these traits are generally useful, come up regularly, don't conflict "
"with anything, and will not produce any surprising behavior if added to the "
"prelude. And most other reifications of control-flow effects have their "
"respective types and traits included in the prelude header. To support "
"iteration we include both the `Iterator` and `IntoIterator` traits in the "
"prelude. To support fallibility we include both `Option` and `Result` in the "
"prelude. This RFC proposes we include both `Future` and `IntoFuture` to "
"match."
msgstr ""

#: src/3509-prelude-2024-future.md:20
msgid "Guide-level explanation"
msgstr ""

#: src/3509-prelude-2024-future.md:23
msgid ""
"In Rust 2024, you can name and make use of the `Future` and `IntoFuture` "
"traits without explicitly importing them, since they appear in the Rust 2024 "
"prelude. For instance, you can write a function that accepts or returns an "
"`impl Future`, or one that accepts any `impl IntoFuture`. Let's start with "
"an example which takes an `impl IntoFuture`:"
msgstr ""

#: src/3509-prelude-2024-future.md:29 src/3509-prelude-2024-future.md:37
msgid "\"{}, meow\""
msgstr ""

#: src/3509-prelude-2024-future.md:33
msgid ""
"In the Rust 2021 edition this code would require an explicit import of the "
"`IntoFuture` trait. When migrating to the 2024 edition the import of the "
"`IntoFuture` trait would be taken care of by the prelude, and the code could "
"remove the explicit import:"
msgstr ""

#: src/3509-prelude-2024-future.md:41
msgid "Reference-level explanation"
msgstr ""

#: src/3509-prelude-2024-future.md:44
msgid ""
"This RFC proposes we include both `Future` and `IntoFuture` as part of the "
"2024 prelude. The prelude in `std` re-exports the prelude in `core`. So the "
"only change we need to make is in the prelude in `core`, changing it to both "
"include `Future` and `IntoFuture`:"
msgstr ""

#: src/3509-prelude-2024-future.md:47
msgid "// core::prelude::rust_2024\n"
msgstr ""

#: src/3509-prelude-2024-future.md:55
msgid "Tradeoffs"
msgstr ""

#: src/3509-prelude-2024-future.md:58
msgid ""
"Both the `Future` and `IntoFuture` definitions in the standard library are "
"considered _canonical_: there exist no widespread alternative definitions in "
"the Rust ecosystem. Simply having both traits in scope is unlikely to lead "
"to any issues, and the only likely noticeable outcome is that authoring "
"async code will require slightly less effort."
msgstr ""

#: src/3509-prelude-2024-future.md:60
msgid "Rationale and alternatives"
msgstr ""

#: src/3509-prelude-2024-future.md:63
msgid "Include `Future` in 2024, re-consider `IntoFuture` in 2027"
msgstr ""

#: src/3509-prelude-2024-future.md:65
msgid ""
"This RFC takes what could be called a: _\"systems-based perspective\"_. "
"We're arguing that the core property which qualifies the `Future` and "
"`IntoFuture` traits for inclusion in the prelude is their fundamental "
"relationship to the language. Similar to how `Iterator` and `Result` "
"correspond to core control-flow effects, `Future` and `IntoFuture` do too."
msgstr ""

#: src/3509-prelude-2024-future.md:67
msgid ""
"However, it's possible to use different criteria for what should be included "
"in the prelude. One example is what could be referred to as a: _\"merit-"
"based perspective\"_. From this perspective, items would only qualify for "
"inclusion once they've crossed some usage threshold. From that perspective "
"the `Future` trait would likely qualify since it's in wide use. But "
"`IntoFuture` likely would not since it's a newer trait which sees less use."
msgstr ""

#: src/3509-prelude-2024-future.md:69
msgid ""
"Both of these perspectives can be applied to other scenarios too. Let's say "
"we're finally able to stabilize the `Try` trait; should this be included in "
"the following prelude? From a systems-based perspective, the answer would be "
"\"yes\", since it's a fundamental operation which enables types to be named. "
"From the merit-based perspective the answer would likely be \"no\", since it "
"will be a new trait with limited usage. But it might be re-considered once "
"it sees enough usage."
msgstr ""

#: src/3509-prelude-2024-future.md:71
msgid ""
"We believe that taking a merit-based perspective makes sense if the upsides "
"of a choice also carry notable downsides. But as covered in the "
"\"tradeoffs\" section of this RFC, there don't appear to be any meaningful "
"downsides. So instead it seems better to base our evaluation on how the "
"traits relate to the language, rather than on how much usage they see."
msgstr ""

#: src/3509-prelude-2024-future.md:73
msgid "Prior art"
msgstr ""

#: src/3509-prelude-2024-future.md:76
msgid "New inclusions in the Rust 2021 edition"
msgstr ""

#: src/3509-prelude-2024-future.md:78
msgid "The Rust 2021 edition includes three new traits:"
msgstr ""

#: src/3509-prelude-2024-future.md:80
msgid "`FromIterator` - conversion from an iterator to a type"
msgstr ""

#: src/3509-prelude-2024-future.md:81
msgid "`TryFrom` - fallible conversion"
msgstr ""

#: src/3509-prelude-2024-future.md:82
msgid "`TryInto` - fallible conversion (inverted)"
msgstr ""

#: src/3509-prelude-2024-future.md:84
msgid ""
"All three of these traits represent fundamental operations present in Rust. "
"This is a natural supplement to other fundamental operations present in "
"earlier editions such as `Try`, `Into`, and `IntoIterator`. I'd argue that "
"`Future` and `IntoFuture` have an equal, if not more fundamental "
"relationship to the Rust language than `TryFrom` or `FromIterator` do."
msgstr ""

#: src/3509-prelude-2024-future.md:86
msgid "Unresolved questions"
msgstr ""

#: src/3509-prelude-2024-future.md:89
msgid "None at this time."
msgstr ""

#: src/3509-prelude-2024-future.md:91
msgid "Future possibilities"
msgstr ""

#: src/3509-prelude-2024-future.md:94
msgid "Inclusion of `Try` in a future prelude"
msgstr ""

#: src/3509-prelude-2024-future.md:96
msgid ""
"As  in the \"alternatives and rationale\" section of this RFC, if we apply "
"the same reasoning we're using in this RFC to the `Try` trait. Then once "
"stabilized the `Try` trait's fundamental relationship to the language would "
"qualify it for inclusion in an future edition's prelude as well."
msgstr ""
