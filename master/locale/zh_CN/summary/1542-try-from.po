msgid ""
msgstr ""
"Project-Id-Version: The Rust RFC Book\n"
"POT-Creation-Date: 2025-12-01T05:53:03Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/1542-try-from.md:1
msgid "Feature Name: `try_from`"
msgstr ""

#: src/1542-try-from.md:2
msgid "Start Date: 2016-03-10"
msgstr ""

#: src/1542-try-from.md:3
msgid ""
"RFC PR: [rust-lang/rfcs#1542](https://github.com/rust-lang/rfcs/pull/1542)"
msgstr ""

#: src/1542-try-from.md:4
msgid ""
"Rust Issue: [rust-lang/rfcs#33147](https://github.com/rust-lang/rust/"
"issues/33417)"
msgstr ""

#: src/1542-try-from.md:6
msgid "Summary"
msgstr ""

#: src/1542-try-from.md:9
msgid ""
"The standard library provides the `From` and `Into` traits as standard ways "
"to convert between types. However, these traits only support _infallible_ "
"conversions. This RFC proposes the addition of `TryFrom` and `TryInto` "
"traits to support these use cases in a standard way."
msgstr ""

#: src/1542-try-from.md:14
msgid "Motivation"
msgstr ""

#: src/1542-try-from.md:17
msgid ""
"Fallible conversions are fairly common, and a collection of ad-hoc traits "
"has arisen to support them, both [within the standard library](https://doc."
"rust-lang.org/1.7.0/std/str/trait.FromStr.html) and [in third party crates]"
"(http://sfackler.github.io/rust-postgres/doc/v0.11.4/postgres/trait."
"IntoConnectParams.html). A standardized set of traits following the pattern "
"set by `From` and `Into` will ease these APIs by providing a standardized "
"interface as we expand the set of fallible conversions."
msgstr ""

#: src/1542-try-from.md:24
msgid ""
"One specific avenue of expansion that has been frequently requested is "
"fallible integer conversion traits. Conversions between integer types may "
"currently be performed with the `as` operator, which will silently truncate "
"the value if it is out of bounds of the target type. Code which needs to "
"down-cast values must manually check that the cast will succeed, which is "
"both tedious and error prone. A fallible conversion trait reduces code like "
"this:"
msgstr ""

#: src/1542-try-from.md:41
msgid "to simply:"
msgstr ""

#: src/1542-try-from.md:48
msgid "Detailed design"
msgstr ""

#: src/1542-try-from.md:51
msgid "Two traits will be added to the `core::convert` module:"
msgstr ""

#: src/1542-try-from.md:67
msgid ""
"In a fashion similar to `From` and `Into`, a blanket implementation of "
"`TryInto` is provided for all `TryFrom` implementations:"
msgstr ""

#: src/1542-try-from.md:80
msgid ""
"In addition, implementations of `TryFrom` will be provided to convert "
"between _all combinations_ of integer types:"
msgstr ""

#: src/1542-try-from.md:95
msgid "\"out of range integral type conversion attempted\""
msgstr ""

#: src/1542-try-from.md:103 src/1542-try-from.md:106
msgid "// ...\n"
msgstr ""

#: src/1542-try-from.md:110
msgid ""
"This notably includes implementations that are actually infallible, "
"including implementations between a type and itself. A common use case for "
"these kinds of conversions is when interacting with a C API and converting, "
"for example, from a `u64` to a `libc::c_long`. `c_long` may be `u32` on some "
"platforms but `u64` on others, so having an `impl TryFrom<u64> for u64` "
"ensures that conversions using these traits will compile on all "
"architectures.  Similarly, a conversion from `usize` to `u32` may or may not "
"be fallible depending on the target architecture."
msgstr ""

#: src/1542-try-from.md:119
msgid ""
"The standard library provides a reflexive implementation of the `From` trait "
"for all types: `impl<T> From<T> for T`. We could similarly provide a "
"\"lifting\" implementation of `TryFrom`:"
msgstr ""

#: src/1542-try-from.md:133
msgid ""
"However, this implementation would directly conflict with our goal of having "
"uniform `TryFrom` implementations between all combinations of integer types. "
"In addition, it's not clear what value such an implementation would actually "
"provide, so this RFC does _not_ propose its addition."
msgstr ""

#: src/1542-try-from.md:138
msgid "Drawbacks"
msgstr ""

#: src/1542-try-from.md:141
msgid ""
"It is unclear if existing fallible conversion traits can backwards-"
"compatibly be subsumed into `TryFrom` and `TryInto`, which may result in an "
"awkward mix of ad-hoc traits in addition to `TryFrom` and `TryInto`."
msgstr ""

#: src/1542-try-from.md:145
msgid "Alternatives"
msgstr ""

#: src/1542-try-from.md:148
msgid ""
"We could avoid general traits and continue making distinct conversion traits "
"for each use case."
msgstr ""

#: src/1542-try-from.md:151
msgid "Unresolved questions"
msgstr ""

#: src/1542-try-from.md:154
msgid ""
"Are `TryFrom` and `TryInto` the right names? There is some precedent for the "
"`try_` prefix: `TcpStream::try_clone`, `Mutex::try_lock`, etc."
msgstr ""

#: src/1542-try-from.md:157
msgid ""
"What should be done about `FromStr`, `ToSocketAddrs`, and other ad-hoc "
"fallible conversion traits? An upgrade path may exist in the future with "
"specialization, but it is probably too early to say definitively."
msgstr ""

#: src/1542-try-from.md:161
msgid ""
"Should `TryFrom` and `TryInto` be added to the prelude? This would be the "
"first prelude addition since the 1.0 release."
msgstr ""
