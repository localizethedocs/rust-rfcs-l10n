msgid ""
msgstr ""
"Project-Id-Version: The Rust RFC Book\n"
"POT-Creation-Date: 2025-12-01T05:53:02Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: en\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/0490-dst-syntax.md:1
msgid "Start Date: 2014-11-29"
msgstr ""

#: src/0490-dst-syntax.md:2
msgid "RFC PR: [490](https://github.com/rust-lang/rfcs/pull/490)"
msgstr ""

#: src/0490-dst-syntax.md:3
msgid "Rust Issue: [19607](https://github.com/rust-lang/rust/issues/19607)"
msgstr ""

#: src/0490-dst-syntax.md:5
msgid "Summary"
msgstr ""

#: src/0490-dst-syntax.md:7
msgid ""
"Change the syntax for dynamically sized type parameters from `Sized? T` to "
"`T: ?Sized`, and change the syntax for traits for dynamically sized types to "
"`trait Foo for ?Sized`. Extend this new syntax to work with `where` clauses."
msgstr ""

#: src/0490-dst-syntax.md:11
msgid "Motivation"
msgstr ""

#: src/0490-dst-syntax.md:13
msgid "History of the DST syntax"
msgstr ""

#: src/0490-dst-syntax.md:15
msgid ""
"When dynamically sized types were first designed, and even when they were "
"first being implemented, the syntax for dynamically sized type parameters "
"had not been fully settled on. Initially, dynamically sized type parameters "
"were denoted by a leading `unsized` keyword:"
msgstr ""

#: src/0490-dst-syntax.md:22 src/0490-dst-syntax.md:43
#: src/0490-dst-syntax.md:63 src/0490-dst-syntax.md:129
msgid "// etc.\n"
msgstr ""

#: src/0490-dst-syntax.md:26
msgid ""
"This is the syntax used in Niko Matsakis’s [initial design for DST](http://"
"smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/). This syntax "
"makes sense to those who are familiar with DST, but has some issues which "
"could be perceived as problems for those learning to work with dynamically "
"sized types:"
msgstr ""

#: src/0490-dst-syntax.md:32
msgid ""
"It implies that the parameter _must_ be unsized, where really it’s only "
"optional;"
msgstr ""

#: src/0490-dst-syntax.md:34
msgid ""
"It does not visually relate to the `Sized` trait, which is fundamentally "
"related to declaring a type as unsized (removing the default `Sized` bound)."
msgstr ""

#: src/0490-dst-syntax.md:37
msgid ""
"Later, Felix S. Klock II [came up with an alternative syntax](http://blog."
"pnkfx.org/blog/2014/03/13/an-insight-regarding-dst-grammar-for-rust/) using "
"the `type` keyword:"
msgstr ""

#: src/0490-dst-syntax.md:47
msgid ""
"The inspiration behind this is that the union of all sized types and all "
"unsized types is simply all types. Thus, it makes sense for the most general "
"type parameter to be written as `type T`."
msgstr ""

#: src/0490-dst-syntax.md:51
msgid ""
"This syntax resolves the first problem listed above (i.e., it no longer "
"implies that the type _must_ be unsized), but does not resolve the second. "
"Additionally, it is possible that some people could be confused by the use "
"of the `type` keyword, as it contains little meaning—one would assume a bare "
"`T` as a _type_ parameter to be a type already, so what does adding a `type` "
"keyword mean?"
msgstr ""

#: src/0490-dst-syntax.md:57
msgid ""
"Perhaps because of these concerns, the syntax for dynamically sized type "
"parameters has since been changed one more time, this time to use the "
"`Sized` trait’s name followed by a question mark:"
msgstr ""

#: src/0490-dst-syntax.md:67
msgid ""
"This syntax simply removes the implicit `Sized` bound on every type "
"parameter using the `?` symbol. It resolves the problem about not mentioning "
"`Sized` that the first two syntaxes didn’t. It also hints towards being "
"related to sizedness, resolving the problem that plagued `type`. It also "
"successfully states that unsizedness is only _optional_—that the parameter "
"may be sized or unsized. This syntax has stuck, and is the syntax used "
"today. Additionally, it could potentially be extended to other traits: for "
"example, a new pointer type that cannot be dropped, `&uninit`, could be "
"added, requiring that it be written to before being dropped.  However, many "
"generic functions assume that any parameter passed to them can be dropped. "
"`Drop` could be made a default bound to resolve this, and `Drop?` would "
"remove this bound from a type parameter."
msgstr ""

#: src/0490-dst-syntax.md:79
msgid "The problem with `Sized? T`"
msgstr ""

#: src/0490-dst-syntax.md:81
msgid ""
"There is some inconsistency present with the `Sized` syntax. After going "
"through multiple syntaxes for DST, all of which were keywords preceding type "
"parameters, the `Sized?` annotation stayed _before_ the type parameter’s "
"name when it was adopted as the syntax for dynamically sized type "
"parameters. This can be considered inconsistent in some ways—`Sized?` looks "
"like a bound, contains a trait name like a bound does, and changes what "
"types can unify with the type parameter like a bound does, but does not come "
"_after_ the type parameter’s name like a bound does. This also is "
"inconsistent with Rust’s general pattern of not using C-style variable "
"declarations (`int x`) but instead using a colon and placing the type after "
"the name (`x: int`). (A type parameter is not strictly a variable "
"declaration, but is similar: it declares a new name in a scope.) These "
"problems together make `Sized?` the only marker that comes before type "
"parameter or even variable names, and with the addition of negative bounds, "
"it looks even more inconsistent:"
msgstr ""

#: src/0490-dst-syntax.md:97
msgid "// Normal bound\n"
msgstr ""

#: src/0490-dst-syntax.md:98
msgid "// Negative bound\n"
msgstr ""

#: src/0490-dst-syntax.md:100
msgid "// Generalising ‘anti-bound’\n"
msgstr ""

#: src/0490-dst-syntax.md:105
msgid ""
"The syntax also looks rather strange when recent features like associated "
"types and `where` clauses are considered:"
msgstr ""

#: src/0490-dst-syntax.md:109
msgid "// This `where` clause syntax doesn’t work today, but perhaps should:\n"
msgstr ""

#: src/0490-dst-syntax.md:115
msgid ""
"Furthermore, the `?` on `Sized?` comes after the trait name, whereas most "
"unary-operator-like symbols in the Rust language come before what they are "
"attached to."
msgstr ""

#: src/0490-dst-syntax.md:119
msgid ""
"This RFC proposes to change the syntax for dynamically sized type parameters "
"to `T: ?Sized` to resolve these issues."
msgstr ""

#: src/0490-dst-syntax.md:122
msgid "Detailed design"
msgstr ""

#: src/0490-dst-syntax.md:124
msgid "Change the syntax for dynamically sized type parameters to `T: ?Sized`:"
msgstr ""

#: src/0490-dst-syntax.md:133
msgid ""
"Change the syntax for traits for dynamically-sized types to have a prefix `?"
"` instead of a postfix one:"
msgstr ""

#: src/0490-dst-syntax.md:140
msgid "Allow using this syntax in `where` clauses:"
msgstr ""

#: src/0490-dst-syntax.md:146
msgid "Drawbacks"
msgstr ""

#: src/0490-dst-syntax.md:148
msgid ""
"The current syntax uses position to distinguish between removing and adding "
"bounds, while the proposed syntax only uses a symbol. Since `?Sized` is "
"actually an anti-bound (it removes a bound), it (in some ways) makes sense "
"to put it on the opposite side of a type parameter to show this."
msgstr ""

#: src/0490-dst-syntax.md:153
msgid ""
"Only a single character separates adding a `Sized` bound and removing an "
"implicit one. This shouldn’t be a problem in general, as adding a `Sized` "
"bound to a type parameter is pointless (because it is implicitly there "
"already). A lint could be added to check for explicit default bounds if this "
"turns out to be a problem."
msgstr ""

#: src/0490-dst-syntax.md:159
msgid "Alternatives"
msgstr ""

#: src/0490-dst-syntax.md:161
msgid ""
"Choose one of the previous syntaxes or a new syntax altogether. The "
"drawbacks of the previous syntaxes are discussed in the ‘History of the DST "
"syntax’ section of this RFC."
msgstr ""

#: src/0490-dst-syntax.md:165
msgid ""
"Change the syntax to `T: Sized?` instead. This is less consistent with "
"things like negative bounds (which would probably be something like `T: !"
"Foo`), and uses a suffix operator, which is less consistent with other parts "
"of Rust’s syntax. It is, however, closer to the current syntax (`Sized? T`), "
"and looks more natural because of how `?` is used in natural languages such "
"as English."
msgstr ""

#: src/0490-dst-syntax.md:171
msgid "Unresolved questions"
msgstr ""

#: src/0490-dst-syntax.md:173
msgid "None."
msgstr ""
