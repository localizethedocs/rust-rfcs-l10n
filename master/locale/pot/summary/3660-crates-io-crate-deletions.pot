msgid ""
msgstr ""
"Project-Id-Version: The Rust RFC Book\n"
"POT-Creation-Date: 2025-12-01T05:53:06Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: en\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/3660-crates-io-crate-deletions.md:1
msgid "Start Date: 2024-06-20"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:2
msgid ""
"RFC PR: [rust-lang/rfcs#3660](https://github.com/rust-lang/rfcs/pull/3660)"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:4
msgid "Summary"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:6
msgid ""
"This RFC proposes a mechanism for crate authors to delete their crates from "
"crates.io under certain conditions."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:9
msgid "Motivation"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:11
msgid ""
"There are a variety of reasons why a crate author might want to delete a "
"crate from crates.io:"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:13
msgid "You published something accidentally."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:14
msgid "You wanted to test crates.io."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:15
msgid "You published content you didn't intend to be public."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:16
msgid ""
"You want to rename a crate. (The only way to rename a package is to re-"
"publish it under a new name)"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:18
msgid "The current [crates.io usage policy](https://crates.io/policies) says:"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:20
msgid ""
"Crate deletion by their owners is not possible to keep the registry as "
"immutable as possible."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:22
msgid ""
"This restriction makes sense for the majority of crates that have been "
"around for a while and are actively used, but the above list of reasons "
"shows that there are valid use cases for allowing crate authors to delete "
"their crates without having to contact the crates.io team."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:24
msgid ""
"To make this process easier for our users and to reduce the workload of the "
"crates.io team dealing with such support requests, we propose to codify our "
"current set of informal rules into a formal policy that allows crate authors "
"to delete their crates themselves under certain conditions (see below)."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:27
msgid "Proposal"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:29
msgid ""
"We propose to allow crate authors to delete their **crates** from crates.io "
"under the following conditions:"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:31
msgid "The crate has been published for less than 72 hours,"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:32
msgid "or if all the following conditions are met:"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:33
msgid "The crate has a single owner,"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:34
msgid ""
"The crate is not depended upon by any other crate on crates.io (i.e. it has "
"no reverse dependencies),"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:35
msgid ""
"The crate has been downloaded less than 100 times for each month it has been "
"published."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:37
msgid "This crate owner action will be enabled by a new API endpoint:"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:39
msgid "`DELETE /api/v1/crates/:crate_id`"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:42
msgid "Drawbacks"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:44
msgid "Why should we _not_ do this?"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:46
msgid ""
"The main drawback of this proposal is that it makes the crates.io registry "
"less immutable. This could lead to confusion if a crate is deleted that is "
"depended on by other projects that are not published on crates.io "
"themselves. However, we believe that the conditions we propose are strict "
"enough to prevent this from happening in practice due to the additional "
"download threshold."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:51
msgid "Rationale and alternatives"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:53
msgid "Why is this design the best in the space of possible designs?"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:55
msgid ""
"The proposed design is based on the current informal rules that the crates."
"io team uses to decide whether to delete a crate. These rules have been "
"derived from the npm registry, which has a similar policy (see below). We "
"believe that the proposed conditions are strict enough to prevent accidental "
"deletions while still allowing crate authors to delete their crates in the "
"cases where it makes sense."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:59
msgid ""
"What other designs have been considered and what is the rationale for not "
"choosing them?"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:61
msgid ""
"We considered not having restrictions on the number of reverse dependencies, "
"but since that would leave the package index in an inconsistent state, we "
"decided to require that the crate has no reverse dependencies. Situations "
"like the [`everything` package on npm](https://uncenter.dev/posts/npm-"
"install-everything/) require manual intervention anyway, so we decided to "
"keep the restrictions strict."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:64
msgid "What is the impact of not doing this?"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:66
msgid ""
"The proposed design is based on the current informal rules that the crates."
"io team uses to decide whether to delete a crate or version. If we don't "
"implement this proposal, we will continue to rely on the crates.io team to "
"handle these requests manually, which is time-consuming and error-prone."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:68
msgid "Prior art"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:70
msgid "npm"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:72
msgid ""
"The main inspiration for this proposal comes from the npm registry, which "
"has a similar policy for deleting packages and versions:"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:74
msgid "https://docs.npmjs.com/policies/unpublish"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:75
msgid "https://docs.npmjs.com/unpublishing-packages-from-the-registry"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:77
msgid ""
"The npm registry started with a more permissive policy, but had to tighten "
"it over time. It started out with a policy that allowed package owners to "
"delete their packages at any time, but this led to a number of issues, [such "
"as packages being deleted that were depended on by other packages](https://"
"en.wikipedia.org/wiki/Npm_left-pad_incident). Their policy was later changed "
"to require that packages can only be deleted within 72 hours of being "
"published, and then [changed again in January 2020](https://blog.npmjs.org/"
"post/190553543620/changes-to-npmunpublish-policy-january-2020) to allow "
"deletions outside the 72-hour window under certain conditions."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:82
msgid "PyPI"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:84
msgid ""
"The Python Package Index (PyPI) still allows package owners to delete their "
"packages (or a subset of released files) at any time. A member of the PyPI "
"team has proposed to [stop allowing deleting things from PyPI](https://"
"discuss.python.org/t/stop-allowing-deleting-things-from-pypi/17227) due to "
"the same issues that the npm registry faced. The most current proposed "
"ruleset can be found [here](https://discuss.python.org/t/stop-allowing-"
"deleting-things-from-pypi/17227/71)."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:87
msgid ""
"Their proposal is also inspired by the npm registry policy, but notably does "
"not include a reverse dependency restriction. It seems that PyPI might not "
"currently be tracking dependencies between packages, which would make it "
"harder for them to implement such a restriction."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:89
msgid "Others"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:91
msgid ""
"<https://discuss.python.org/t/stop-allowing-deleting-things-from-"
"pypi/17227/59> contains a list of other package registries and their "
"deletion policies."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:94
msgid "Unresolved questions"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:96
msgid ""
"Should names of deleted crates be blocked so that they can't be re-used?"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:98
msgid ""
"The reason for this would be to prevent someone else from re-publishing a "
"crate with the same name, which could lead to potential security issues. Due "
"to the restrictions on the number of downloads and reverse dependencies, "
"this seems like a low risk though. The advantage of allowing others to re-"
"use such names is that it allows name-squatted/placeholder crates to be "
"released back to the community without the crates.io team having to manually "
"intervene."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:102
msgid "The npm registry blocks re-use of deleted package names for 24 hours."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:105
msgid "Future possibilities"
msgstr ""

#: src/3660-crates-io-crate-deletions.md:107
msgid ""
"It is conceivable that the restrictions could be adjusted in the future if "
"the crates.io team finds that the proposed restrictions are too strict or "
"too lenient. For example, the download threshold could be adjusted based on "
"how well the proposed ruleset will work in practice."
msgstr ""

#: src/3660-crates-io-crate-deletions.md:109
msgid ""
"Once the backend of crates.io has been updated to support this feature, we "
"could also consider adding a web interface for crate owners to delete their "
"crates and versions directly from the crates.io website. Similarly, we could "
"add a subcommand to the `cargo` CLI, either implemented as a plugin or as "
"part of the main `cargo` codebase."
msgstr ""
