msgid ""
msgstr ""
"Project-Id-Version: The Rust RFC Book\n"
"POT-Creation-Date: 2025-12-01T05:53:02Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: en\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/0503-prelude-stabilization.md:1
msgid "Start Date: 2014-12-20"
msgstr ""

#: src/0503-prelude-stabilization.md:2
msgid ""
"RFC PR: [rust-lang/rfcs#503](https://github.com/rust-lang/rfcs/pull/503)"
msgstr ""

#: src/0503-prelude-stabilization.md:3
msgid ""
"Rust Issue: [rust-lang/rust#20068](https://github.com/rust-lang/rust/"
"issues/20068)"
msgstr ""

#: src/0503-prelude-stabilization.md:5
msgid "Summary"
msgstr ""

#: src/0503-prelude-stabilization.md:7
msgid ""
"Stabilize the `std::prelude` module by removing some of the less commonly "
"used functionality of it."
msgstr ""

#: src/0503-prelude-stabilization.md:10
msgid "Motivation"
msgstr ""

#: src/0503-prelude-stabilization.md:12
msgid ""
"The prelude of the standard library is included into all Rust programs by "
"default, and is consequently quite an important module to consider when "
"stabilizing the standard library. Some of the primary tasks of the prelude "
"are:"
msgstr ""

#: src/0503-prelude-stabilization.md:16
msgid ""
"The prelude is used to represent imports that would otherwise occur in "
"nearly all Rust modules. The threshold for entering the prelude is "
"consequently quite high as it is unlikely to be able to change in a "
"backwards compatible fashion as-is."
msgstr ""

#: src/0503-prelude-stabilization.md:20
msgid ""
"Primitive types such as `str` and `char` are unable to have inherent methods "
"attached to them. In order to provide methods extension traits must be used. "
"All of these traits are members of the prelude in order to enable methods on "
"language-defined types."
msgstr ""

#: src/0503-prelude-stabilization.md:25
msgid ""
"This RFC currently focuses on removing functionality from the prelude rather "
"than adding it. New additions can continue to happen before 1.0 and will be "
"evaluated on a case-by-case basis. The rationale for removal or inclusion "
"will be provided below."
msgstr ""

#: src/0503-prelude-stabilization.md:30
msgid "Detailed Design"
msgstr ""

#: src/0503-prelude-stabilization.md:32
msgid ""
"The current `std::prelude` module was copied into the document of this RFC, "
"and each reexport should be listed below and categorized. The rationale for "
"inclusion of each type is included inline."
msgstr ""

#: src/0503-prelude-stabilization.md:36
msgid "Reexports to retain"
msgstr ""

#: src/0503-prelude-stabilization.md:38
msgid "This section provides the exact prelude that this RFC proposes:"
msgstr ""

#: src/0503-prelude-stabilization.md:41
msgid ""
"// Boxes are a ubiquitous type in Rust used for representing an allocation "
"with\n"
"// a known fixed address. It is also one of the canonical examples of an "
"owned\n"
"// type, appearing in many examples and tests. Due to its common usage, the "
"Box\n"
"// type is present.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:46
msgid ""
"// These two traits are present to provide methods on the `char` primitive "
"type.\n"
"// The two traits will be collapsed into one `CharExt` trait in the `std::"
"char`\n"
"// module, however instead of reexporting two traits.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:51
msgid ""
"// One of the most common operations when working with references in Rust is "
"the\n"
"// `clone()` method to promote the reference to an owned value. As one of "
"the\n"
"// core concepts in Rust used by virtually all programs, this trait is "
"included\n"
"// in the prelude.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:57
msgid ""
"// It is expected that these traits will be used in generic bounds much "
"more\n"
"// frequently than there will be manual implementations. This common usage "
"in\n"
"// bounds to provide the fundamental ability to compare two values is the "
"reason\n"
"// for the inclusion of these traits in the prelude.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:63
msgid ""
"// Iterators are one of the most core primitives in the standard library "
"which is\n"
"// used to interoperate between any sort of sequence of data. Due to the\n"
"// widespread use, these traits and extension traits are all present in the\n"
"// prelude.\n"
"//\n"
"// The `Iterator*Ext` traits can be removed if generalized where clauses "
"for\n"
"// methods are implemented, and they are currently included to represent "
"the\n"
"// functionality provided today. The various traits other than `Iterator`, "
"such\n"
"// as `DoubleEndedIterator` and `ExactSizeIterator` are provided in order "
"to\n"
"// ensure that the methods are available like the `Iterator` methods.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:79
msgid ""
"// As core language concepts and frequently used bounds on generics, these "
"kinds\n"
"// are all included in the prelude by default. Note, however, that the "
"exact\n"
"// set of kinds in the prelude will be determined by the stabilization of "
"this\n"
"// module.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:85
msgid ""
"// One of Rust's fundamental principles is ownership, and understanding "
"movement\n"
"// of types is key to this. The drop function, while a convenience, "
"represents\n"
"// the concept of ownership and relinquishing ownership, so it is included.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:90
msgid ""
"// As described below, very few `ops` traits will continue to remain in the\n"
"// prelude. `Drop`, however, stands out from the other operations for many "
"of\n"
"// the similar reasons as to the `drop` function.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:95
msgid ""
"// Similarly to the `cmp` traits, these traits are expected to be bounds on\n"
"// generics quite commonly to represent a pending computation that can be\n"
"// executed.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:100
msgid ""
"// The `Option` type is one of Rust's most common and ubiquitous types,\n"
"// justifying its inclusion into the prelude along with its two variants.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:104
msgid ""
"// In order to provide methods on raw pointers, these two traits are "
"included\n"
"// into the prelude. It is expected that these traits will be renamed to\n"
"// `PtrExt` and `MutPtrExt`.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:109
msgid "// This type is included for the same reasons as the `Option` type.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:112
msgid ""
"// The slice family of traits are all provided in order to export methods on "
"the\n"
"// language slice type. The `SlicePrelude` and `SliceAllocPrelude` will be\n"
"// collapsed into one `SliceExt` trait by the `std::slice` module. Many of "
"the\n"
"// remaining traits require generalized where clauses on methods to be "
"merged\n"
"// into the `SliceExt` trait, which may not happen for 1.0.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:121
msgid ""
"// These traits, like the above traits, are providing inherent methods on\n"
"// slices, but are not candidates for merging into `SliceExt`. Nevertheless\n"
"// these common operations are included for the purpose of adding methods "
"on\n"
"// language-defined types.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:127
msgid ""
"// The str family of traits provide inherent methods on the `str` type. The\n"
"// `StrPrelude`, `StrAllocating`, and `UnicodeStrPrelude` traits will all "
"be\n"
"// collapsed into one `StrExt` trait to be reexported in the prelude. The "
"`Str`\n"
"// trait itself will be handled in the stabilization of the `str` module, "
"but\n"
"// for now is included for consistency. Similarly, the `StrVector` trait is\n"
"// still undergoing stabilization but remains for consistency.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:137
msgid ""
"// As the standard library's default owned string type, `String` is provided "
"in\n"
"// the prelude. Many of the same reasons for `Box`'s inclusion apply to "
"`String`\n"
"// as well.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:142
msgid ""
"// Converting types to a `String` is seen as a common-enough operation for\n"
"// including this trait in the prelude.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:146
msgid "// Included for the same reasons as `String` and `Box`.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:151
msgid "Reexports to remove"
msgstr ""

#: src/0503-prelude-stabilization.md:153
msgid ""
"All of the following reexports are currently present in the prelude and are "
"proposed for removal by this RFC."
msgstr ""

#: src/0503-prelude-stabilization.md:157
msgid ""
"// While currently present in the prelude, these traits do not need to be "
"in\n"
"// scope to use the language syntax associated with each trait. These traits "
"are\n"
"// also only rarely used in bounds on generics and are consequently\n"
"// predominately used for `impl` blocks. Due to this lack of need to be "
"included\n"
"// into all modules in Rust, these traits are all removed from the prelude.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:168
msgid ""
"// Now that tuple indexing is a feature of the language, these traits are "
"no\n"
"// longer necessary and can be deprecated.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:174
msgid ""
"// Interoperating with ascii data is not necessarily a core language "
"operation\n"
"// and the ascii module itself is currently undergoing stabilization. The "
"design\n"
"// will likely end up with only one trait (as opposed to the many listed "
"here).\n"
"// The prelude will be responsible for providing unicode-respecting methods "
"on\n"
"// primitives while requiring that ascii-specific manipulation is imported\n"
"// manually.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:183
msgid ""
"// Inclusion of this trait is mostly a relic of old behavior and there is "
"very\n"
"// little need for the `into_cow` method to be ubiquitously available. "
"Although\n"
"// mostly used in bounds on generics, this trait is not itself as commonly "
"used\n"
"// as `FnMut`, for example.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:189
msgid ""
"// The `c_str` module is currently undergoing stabilization as well, but "
"it's\n"
"// unlikely for `to_c_str` to be a common operation in almost all Rust code "
"in\n"
"// existence, so this trait, if it survives stabilization, is removed from "
"the\n"
"// prelude.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:195
msgid ""
"// This trait is `#[experimental]` in the `std::cmp` module and the prelude "
"is\n"
"// intended to be a stable subset of Rust. If later marked #[stable] the "
"trait\n"
"// may re-enter the prelude but it will be removed until that time.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:200
msgid ""
"// Actual usage of the `Ordering` enumeration and its variants is quite rare "
"in\n"
"// Rust code. Implementors of the `Ord` and `PartialOrd` traits will likely "
"be\n"
"// required to import these names, but it is not expected that Rust code at\n"
"// large will require these names to be in the prelude.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:206
msgid ""
"// With language-defined `..` syntax there is no longer a need for the "
"`range`\n"
"// function to remain in the prelude. This RFC does, however, recommend "
"leaving\n"
"// this function in the prelude until the `..` syntax is implemented in "
"order to\n"
"// provide a smoother deprecation strategy.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:212
msgid ""
"// The FromIterator trait does not need to be present in the prelude as it "
"is\n"
"// not adding methods to iterators and is mostly only required to be "
"imported by\n"
"// implementors, which is not common enough for inclusion.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:217
msgid ""
"// Like `cmp::Equiv`, these two iterators are `#[experimental]` and are\n"
"// consequently removed from the prelude.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:221
msgid ""
"// I/O stabilization will have its own RFC soon, and part of that RFC "
"involves\n"
"// creating a `std::io::prelude` module which will become the home for "
"these\n"
"// traits. This RFC proposes leaving these in the current prelude, however,\n"
"// until the I/O stabilization is complete.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:227
msgid ""
"// These two traits are relics of an older `std::num` module which need not "
"be\n"
"// included in the prelude any longer. Their methods are not called often, "
"nor\n"
"// are they taken as bounds frequently enough to justify inclusion into the\n"
"// prelude.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:233
msgid ""
"// As part of the Path stabilization RFC, these traits and structures will "
"be\n"
"// removed from the prelude. Note that the ergonomics of opening a File "
"today\n"
"// will decrease in the sense that `Path` must be imported, but eventually\n"
"// importing `Path` will not be necessary due to the `AsPath` trait. More\n"
"// details can be found in the path stabilization RFC.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:240
msgid ""
"// This function is included in the prelude as a convenience function for "
"the\n"
"// `FromStr::from_str` associated function. Inclusion of this method, "
"however,\n"
"// is inconsistent with respect to the lack of inclusion of a `default` "
"method,\n"
"// for example. It is also not necessarily seen as `from_str` being common\n"
"// enough to justify its inclusion.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:247
msgid ""
"// This trait is currently only implemented for `Vec<Ascii>` which is likely "
"to\n"
"// be removed as part of `std::ascii` stabilization, obsoleting the need for "
"the\n"
"// trait and its inclusion in the prelude.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:252
msgid ""
"// The focus of Rust's story about concurrent program has been constantly\n"
"// shifting since it was incepted, and the prelude doesn't necessarily "
"always\n"
"// keep up. Message passing is only one form of concurrent primitive that "
"Rust\n"
"// provides, and inclusion in the prelude can provide the wrong impression "
"that\n"
"// it is the *only* concurrent primitive that Rust offers. In order to\n"
"// facilitate a more unified front in Rust's concurrency story, these "
"primitives\n"
"// will be removed from the prelude (and soon moved to std::sync as well).\n"
"//\n"
"// Additionally, while spawning a new thread is a common operation in "
"concurrent\n"
"// programming, it is not a frequent operation in code in general. For "
"example\n"
"// even highly concurrent applications may end up only calling `spawn` in "
"one or\n"
"// two locations which does not necessarily justify its inclusion in the "
"prelude\n"
"// for all Rust code in existence.\n"
msgstr ""

#: src/0503-prelude-stabilization.md:271
msgid "Move to an inner `v1` module"
msgstr ""

#: src/0503-prelude-stabilization.md:273
msgid ""
"This RFC also proposes moving all reexports to `std::prelude::v1` module "
"instead of just inside `std::prelude`. The compiler will then start "
"injecting `use std::prelude::v1::*`."
msgstr ""

#: src/0503-prelude-stabilization.md:277
msgid ""
"This is a pre-emptive move to help provide room to grow the prelude module "
"over time. It is unlikely that any reexports could ever be added to the "
"prelude backwards-compatibly, so newer preludes (which may happen over time) "
"will have to live in new modules. If the standard library grows multiple "
"preludes over time, then it is expected for crates to be able to specify "
"which prelude they would like to be compiled with. This feature is left as "
"an open question, however, and movement to an inner `v1` module is simply "
"preparation for this possible move happening in the future."
msgstr ""

#: src/0503-prelude-stabilization.md:286
msgid ""
"The versioning scheme for the prelude over time (if it happens) is also left "
"as an open question by this RFC."
msgstr ""

#: src/0503-prelude-stabilization.md:289
msgid "Drawbacks"
msgstr ""

#: src/0503-prelude-stabilization.md:291
msgid ""
"A fairly large amount of functionality was removed from the prelude in order "
"to hone in on the driving goals of the prelude, but this unfortunately means "
"that many imports must be added throughout code currently using these "
"reexports. It is expected, however, that the most painful removals will have "
"roughly equal ergonomic replacements in the future. For example:"
msgstr ""

#: src/0503-prelude-stabilization.md:297
msgid ""
"Removal of `Path` and friends will retain the current level of ergonomics "
"with no imports via the `AsPath` trait."
msgstr ""

#: src/0503-prelude-stabilization.md:299
msgid ""
"Removal of `iter::range` will be replaced via the _more_ ergonomic `..` "
"syntax."
msgstr ""

#: src/0503-prelude-stabilization.md:302
msgid ""
"Many other cases which may be initially seen as painful to migrate are "
"intended to become aligned with other Rust conventions and practices today. "
"For example getting into the habit of importing implemented traits (such as "
"the `ops` traits) is consistent with how many implementations will work. "
"Similarly removal of synchronization primitives allows for consistence in "
"usage of all concurrent primitives that Rust provides."
msgstr ""

#: src/0503-prelude-stabilization.md:309
msgid "Alternatives"
msgstr ""

#: src/0503-prelude-stabilization.md:311
msgid ""
"A number of alternatives were discussed above, and this section can "
"otherwise largely be filled with various permutations of moving reexports "
"between the \"keep\" and \"remove\" sections above."
msgstr ""

#: src/0503-prelude-stabilization.md:315
msgid "Unresolved Questions"
msgstr ""

#: src/0503-prelude-stabilization.md:317
msgid ""
"This RFC is fairly aggressive about removing functionality from the prelude, "
"but is unclear how necessary this is. If Rust grows the ability to backwards-"
"compatibly modify the prelude in some fashion (for example introducing "
"multiple preludes that can be opted into) then the aggressive removal may "
"not be necessary."
msgstr ""

#: src/0503-prelude-stabilization.md:323
msgid ""
"If user-defined preludes are allowed in some form, it is also unclear about "
"how this would impact the inclusion of reexports in the standard library's "
"prelude in some form."
msgstr ""
