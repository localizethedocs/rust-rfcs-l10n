msgid ""
msgstr ""
"Project-Id-Version: The Rust RFC Book\n"
"POT-Creation-Date: 2025-12-01T05:53:03Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"Language: zh_TW\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/1229-compile-time-asserts.md:1
msgid "Feature Name: compile_time_asserts"
msgstr ""

#: src/1229-compile-time-asserts.md:2
msgid "Start Date: 2015-07-30"
msgstr ""

#: src/1229-compile-time-asserts.md:3
msgid ""
"RFC PR: [rust-lang/rfcs#1229](https://github.com/rust-lang/rfcs/pull/1229)"
msgstr ""

#: src/1229-compile-time-asserts.md:4
msgid ""
"Rust Issue: [rust-lang/rust#28238](https://github.com/rust-lang/rust/"
"issues/28238)"
msgstr ""

#: src/1229-compile-time-asserts.md:6
msgid "Summary"
msgstr "摘要"

#: src/1229-compile-time-asserts.md:8
msgid ""
"If the constant evaluator encounters erroneous code during the evaluation of "
"an expression that is not part of a true constant evaluation context a "
"warning must be emitted and the expression needs to be translated normally."
msgstr ""

#: src/1229-compile-time-asserts.md:12
msgid "Definition of constant evaluation context"
msgstr ""

#: src/1229-compile-time-asserts.md:14
msgid "There are exactly five places where an expression needs to be constant."
msgstr ""

#: src/1229-compile-time-asserts.md:16
msgid ""
"the initializer of a constant `const foo: ty = EXPR` or `static foo: ty = "
"EXPR`"
msgstr ""

#: src/1229-compile-time-asserts.md:17
msgid "the size of an array `[T; EXPR]`"
msgstr ""

#: src/1229-compile-time-asserts.md:18
msgid "the length of a repeat expression `[VAL; LEN_EXPR]`"
msgstr ""

#: src/1229-compile-time-asserts.md:19
msgid "C-Like enum variant discriminant values"
msgstr ""

#: src/1229-compile-time-asserts.md:20
msgid "patterns"
msgstr ""

#: src/1229-compile-time-asserts.md:22
msgid ""
"In the future the body of `const fn` might also be interpreted as a constant "
"evaluation context."
msgstr ""

#: src/1229-compile-time-asserts.md:25
msgid ""
"Any other expression might still be constant evaluated, but it could just as "
"well be compiled normally and executed at runtime."
msgstr ""

#: src/1229-compile-time-asserts.md:28
msgid "Motivation"
msgstr "動機"

#: src/1229-compile-time-asserts.md:30
msgid ""
"Expressions are const-evaluated even when they are not in a const "
"environment."
msgstr ""

#: src/1229-compile-time-asserts.md:32
msgid "For example"
msgstr ""

#: src/1229-compile-time-asserts.md:39
msgid ""
"will not cause a compiler error currently, while `5 << 42` will. If the "
"constant evaluator gets smart enough, it will be able to const evaluate the "
"`blub` function. This would be a breaking change, since the code would not "
"compile anymore. (this occurred in https://github.com/rust-lang/rust/"
"pull/26848)."
msgstr ""

#: src/1229-compile-time-asserts.md:44
msgid "Detailed design"
msgstr "詳細設計"

#: src/1229-compile-time-asserts.md:46
msgid ""
"The PRs https://github.com/rust-lang/rust/pull/26848 and https://github.com/"
"rust-lang/rust/pull/25570 will be setting a precedent for warning about such "
"situations (WIP, not pushed yet)."
msgstr ""

#: src/1229-compile-time-asserts.md:49
msgid ""
"When the constant evaluator fails while evaluating a normal expression, a "
"warning will be emitted and normal translation needs to be resumed."
msgstr ""

#: src/1229-compile-time-asserts.md:52
msgid "Drawbacks"
msgstr ""

#: src/1229-compile-time-asserts.md:54
msgid ""
"None, if we don't do anything, the const evaluator cannot get much smarter."
msgstr ""

#: src/1229-compile-time-asserts.md:56
msgid "Alternatives"
msgstr "替代方案"

#: src/1229-compile-time-asserts.md:58
msgid "allow breaking changes"
msgstr ""

#: src/1229-compile-time-asserts.md:60
msgid ""
"Let the compiler error on things that will unconditionally panic at runtime."
msgstr ""

#: src/1229-compile-time-asserts.md:62
msgid "insert an unconditional panic instead of generating regular code"
msgstr ""

#: src/1229-compile-time-asserts.md:64
msgid "GNAT (an Ada compiler) does this already:"
msgstr ""

#: src/1229-compile-time-asserts.md:74
msgid ""
"The anonymous subtype `Integer range 15 .. 20` only accepts values in `[15, "
"20]`. This knowledge is used by GNAT to emit the following warning during "
"compilation:"
msgstr ""

#: src/1229-compile-time-asserts.md:77
msgid ""
"```\n"
"warning: value not in range of subtype of \"Standard.Integer\" defined at "
"line 2\n"
"warning: \"Constraint_Error\" will be raised at run time\n"
"```"
msgstr ""

#: src/1229-compile-time-asserts.md:82
msgid ""
"I don't have a GNAT with `-emit-llvm` handy, but here's the asm with `-O0`:"
msgstr ""

#: src/1229-compile-time-asserts.md:98
msgid "Unresolved questions"
msgstr "未解決的問題"

#: src/1229-compile-time-asserts.md:100
msgid ""
"Const-eval the body of `const fn` that are never used in a constant "
"environment"
msgstr ""

#: src/1229-compile-time-asserts.md:102
msgid ""
"Currently a `const fn` that is called in non-const code is treated just like "
"a normal function."
msgstr ""

#: src/1229-compile-time-asserts.md:104
msgid ""
"In case there is a statically known erroneous situation in the body of the "
"function, the compiler should raise an error, even if the function is never "
"called."
msgstr ""

#: src/1229-compile-time-asserts.md:107
msgid "The same applies to unused associated constants."
msgstr ""
