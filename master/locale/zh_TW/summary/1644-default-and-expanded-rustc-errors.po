msgid ""
msgstr ""
"Project-Id-Version: The Rust RFC Book\n"
"POT-Creation-Date: 2025-12-01T05:53:03Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: zh_TW\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/1644-default-and-expanded-rustc-errors.md:1
msgid "Feature Name: `default_and_expanded_errors_for_rustc`"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:2
msgid "Start Date: 2016-06-07"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:3
msgid ""
"RFC PR: [rust-lang/rfcs#1644](https://github.com/rust-lang/rfcs/pull/1644)"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:4
msgid ""
"Rust Issue: [rust-lang/rust#34826](https://github.com/rust-lang/rust/"
"issues/34826) [rust-lang/rust#34827](https://github.com/rust-lang/rust/"
"issues/34827)"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:7
msgid "Summary"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:8
msgid ""
"This RFC proposes an update to error reporting in rustc. Its focus is to "
"change the format of Rust error messages and improve --explain capabilities "
"to focus on the user's code. The end goal is for errors and explain text to "
"be more readable, more friendly to new users, while still helping Rust "
"coders fix bugs as quickly as possible. We expect to follow this RFC with a "
"supplemental RFC that provides a writing style guide for error messages and "
"explain text with a focus on readability and education."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:15
msgid "Motivation"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:17
msgid "Default error format"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:19
msgid ""
"Rust offers a unique value proposition in the landscape of languages in part "
"by codifying concepts like ownership and borrowing. Because these concepts "
"are unique to Rust, it's critical that the learning curve be as smooth as "
"possible. And one of the most important tools for lowering the learning "
"curve is providing excellent errors that serve to make the concepts less "
"intimidating, and to help 'tell the story' about what those concepts mean in "
"the context of the programmer's code."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:25
#: src/1644-default-and-expanded-rustc-errors.md:67
msgid "\\[as text\\]"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:44
msgid ""
"\\[as image\\] ![Image of new error flow](http://www.jonathanturner.org/"
"images/old_errors_3.png)"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:47
msgid "_Example of a borrow check error in the current compiler_"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:49
msgid ""
"Though a lot of time has been spent on the current error messages, they have "
"a couple flaws which make them difficult to use. Specifically, the current "
"error format:"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:52
msgid ""
"Repeats the file position on the left-hand side. This offers no additional "
"information, but instead makes the error harder to read."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:54
msgid ""
"Prints messages about lines often out of order. This makes it difficult for "
"the developer to glance at the error and recognize why the error is occurring"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:56
msgid ""
"Lacks a clear visual break between errors. As more errors occur it becomes "
"more difficult to tell them apart."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:58
msgid ""
"Uses technical terminology that is difficult for new users who may be "
"unfamiliar with compiler terminology or terminology specific to Rust."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:61
msgid ""
"This RFC details a redesign of errors to focus more on the source the "
"programmer wrote. This format addresses the above concerns by eliminating "
"clutter, following a more natural order for help messages, and pointing the "
"user to both \"what\" the error is and \"why\" the error is occurring by "
"using color-coded labels. Below you can see the same error again, this time "
"using the proposed format:"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:81
msgid "\\[as image\\]"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:83
msgid ""
"<a href=\"http://www.jonathanturner.org/images/new_errors_3.png\"><img "
"src=\"http://www.jonathanturner.org/images/new_errors_3.png\" height=\"200\" "
"width=\"750\" ></a>"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:85
msgid "_Example of the same borrow check error in the proposed format_"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:87
msgid "Expanded error format (revised --explain)"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:89
msgid ""
"Languages like Elm have shown how effective an educational tool error "
"messages can be if the explanations like our --explain text are mixed with "
"the user's code. As mentioned earlier, it's crucial for Rust to be easy-to-"
"use, especially since it introduces a fair number of concepts that may be "
"unfamiliar to the user. Even experienced users may need to use --explain "
"text from time to time when they encounter unfamiliar messages."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:95
msgid ""
"While we have --explain text today, it uses generic examples that require "
"the user to mentally translate the given example into what works for their "
"specific situation."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:111
msgid "_Example of the current --explain (showing E0507)_"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:113
msgid ""
"To help users, this RFC proposes a new `--explain errors`. This new mode is "
"more textual error reporting mode that gives additional explanation to help "
"better understand compiler messages. The end result is a richer, on-demand "
"error reporting style."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:140
msgid "Detailed design"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:142
msgid ""
"The RFC is separated into two parts: the format of error messages and the "
"format of expanded error messages (using `--explain errors`)."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:145
msgid "Format of error messages"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:147
msgid ""
"The proposal is a lighter error format focused on the code the user wrote. "
"Messages that help understand why an error occurred appear as labels on the "
"source. The goals of this new format are to:"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:151
msgid "Create something that's visually easy to parse"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:152
msgid "Remove noise/unnecessary information"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:153
msgid ""
"Present information in a way that works well for new developers, post-"
"onboarding, and experienced developers without special configuration"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:155
msgid ""
"Draw inspiration from Elm as well as Dybuk and other systems that have "
"already improved on the kind of errors that Rust has."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:158
msgid ""
"In order to accomplish this, the proposed design needs to satisfy a number "
"of constraints to make the result maximally flexible across various "
"terminals:"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:161
msgid ""
"Multiple errors beside each other should be clearly separate and not muddled "
"together."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:162
msgid ""
"Each error message should draw the eye to where the error occurs with "
"sufficient context to understand why the error occurs."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:164
msgid ""
"Each error should have a \"header\" section that is visually distinct from "
"the code section."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:165
msgid ""
"Code should visually stand out from text and other error messages. This "
"allows the developer to immediately recognize their code."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:167
msgid ""
"Error messages should be just as readable when not using colors (eg for "
"users of black-and-white terminals, color-impaired readers, weird color "
"schemes that we can't predict, or just people that turn colors off)"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:170
msgid ""
"Be careful using “ascii art” and avoid unicode. Instead look for ways to "
"show the information concisely that will work across the broadest number of "
"terminals. We expect IDEs to possibly allow for a more graphical error in "
"the future."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:173
msgid ""
"Where possible, use labels on the source itself rather than sentence "
"\"notes\" at the end."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:174
msgid ""
"Keep filename:line easy to spot for people who use editors that let them "
"click on errors"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:176
msgid "Header"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:183
msgid ""
"The header still serves the original purpose of knowing: a) if it's a "
"warning or error, b) the text of the warning/error, and c) the location of "
"this warning/error. We keep the error code, now a part of the error "
"indicator, as a way to help improve search results."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:187
msgid "Line number column"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:200
msgid ""
"The line number column lets you know where the error is occurring in the "
"file. Because we only show lines that are of interest for the given error/"
"warning, we elide lines if they are not annotated as part of the message (we "
"currently use the heuristic to elide after one un-annotated line)."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:204
msgid ""
"Inspired by Dybuk and Elm, the line numbers are separated with a 'wall', a "
"separator formed from pipe('|') characters, to clearly distinguish what is a "
"line number from what is source at a glance."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:207
msgid ""
"As the wall also forms a way to visually separate distinct errors, we "
"propose extending this concept to also support span-less notes and hints. "
"For example:"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:216
msgid "Source area"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:228
msgid ""
"The source area shows the related source code for the error/warning. The "
"source is laid out in the order it appears in the source file, giving the "
"user a way to map the message against the source they wrote."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:232
msgid ""
"Key parts of the code are labeled with messages to help the user understand "
"the message."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:234
msgid ""
"The primary label is the label associated with the main warning/error. It "
"explains the **what** of the compiler message. By reading it, the user can "
"begin to understand what the root cause of the error or warning is. This "
"label is colored to match the level of the message (yellow for warning, red "
"for error) and uses the ^^^ underline."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:239
msgid ""
"Secondary labels help to understand the error and use blue text and --- "
"underline. These labels explain the **why** of the compiler message. You can "
"see one such example in the above message where the secondary labels explain "
"that there is already another borrow going on. In another example, we see "
"another way that primary and secondary work together to tell the whole story "
"for why the error occurred."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:245
msgid ""
"Taken together, primary and secondary labels create a 'flow' to the message. "
"Flow in the message lets the user glance at the colored labels and quickly "
"form an educated guess as to how to correctly update their code."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:249
msgid ""
"Note: We'll talk more about additional style guidance for wording to help "
"create flow in the subsequent style RFC."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:252
msgid "Expanded error messages"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:254
msgid ""
"Currently, --explain text focuses on the error code. You invoke the compiler "
"with `--explain <error code>` and receive a verbose description of what "
"causes errors of that number. The resulting message can be helpful, but it "
"uses generic sample code which makes it feel less connected to the user's "
"code."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:259
msgid ""
"We propose adding a new `--explain errors`. By passing this to the compiler "
"(or to cargo), the compiler will switch to an expanded error form which "
"incorporates the same source and label information the user saw in the "
"default message with more explanation text."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:285
msgid "_Example of an expanded error message_"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:287
msgid ""
"The expanded error message effectively becomes a template. The text of the "
"template is the educational text that is explaining the message more more "
"detail. The template is then populated using the source lines, labels, and "
"spans from the same compiler message that's printed in the default mode. "
"This lets the message writer call out each label or span as appropriate in "
"the expanded text."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:293
msgid ""
"It's possible to also add additional labels that aren't necessarily shown in "
"the default error mode but would be available in the expanded error format. "
"This gives the explain text writer maximal flexibility without impacting the "
"readability of the default message. I'm currently prototyping an "
"implementation of how this templating could work in practice."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:298
msgid "Tying it together"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:300
msgid "Lastly, we propose that the final error message:"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:306
msgid "Be changed to notify users of this ability:"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:312
msgid "Drawbacks"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:314
msgid ""
"Changes in the error format can impact integration with other tools. For "
"example, IDEs that use a simple regex to detect the error would need to be "
"updated to support the new format. This takes time and community "
"coordination."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:318
msgid ""
"While the new error format has a lot of benefits, it's possible that some "
"errors will feel \"shoehorned\" into it and, even after careful selection of "
"secondary labels, may still not read as well as the original format."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:322
msgid ""
"There is a fair amount of work involved to update the errors and explain "
"text to the proposed format."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:325
msgid "Alternatives"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:327
msgid ""
"Rather than using the proposed error format format, we could only provide "
"the verbose --explain style that is proposed in this RFC. Respected "
"programmers like [John Carmack](https://twitter.com/ID_AA_Carmack/"
"status/735197548034412546) have praised the Elm error format."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:332
msgid ""
"```\n"
"Detected errors in 1 module.\n"
"\n"
"-- TYPE MISMATCH "
"---------------------------------------------------------------\n"
"The right argument of (+) is causing a type mismatch.\n"
"\n"
"25|       model + \"1\"\n"
"                  ^^^\n"
"(+) is expecting the right argument to be a:\n"
"\n"
"    number\n"
"\n"
"But the right argument is:\n"
"\n"
"    String\n"
"\n"
"Hint: To append strings in Elm, you need to use the (++) operator, not (+).\n"
"<http://package.elm-lang.org/packages/elm-lang/core/latest/Basics#++>\n"
"\n"
"Hint: I always figure out the type of the left argument first and if it is "
"acceptable on its own, I\n"
"assume it is \"correct\" in subsequent checks. So the problem may actually "
"be in how the left and\n"
"right arguments interact.\n"
"```"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:356
msgid "_Example of an Elm error_"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:358
msgid ""
"In developing this RFC, we experimented with both styles. The Elm error "
"format is great as an educational tool, and we wanted to leverage its style "
"in Rust. For day-to-day work, though, we favor an error format that puts "
"heavy emphasis on quickly guiding the user to what the error is and why it "
"occurred, with an easy way to get the richer explanations (using --explain) "
"when the user wants them."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:364
msgid "Stabilization"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:366
msgid ""
"Currently, this new rust error format is available on nightly using the "
"`export RUST_NEW_ERROR_FORMAT=true` environment variable. Ultimately, this "
"should become the default. In order to get there, we need to ensure that the "
"new error format is indeed an improvement over the existing format in "
"practice."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:371
msgid ""
"We also have not yet implemented the extended error format. This format will "
"also be gated by its own flag while we explore and stabilize it. Because of "
"the relative difference in maturity here, the default error message will be "
"behind a flag for a cycle before it becomes default. The extended error "
"format will be implemented and a follow-up RFC will be posted describing its "
"design. This will start its stabilization period, after which time it too "
"will be enabled."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:377
msgid ""
"How do we measure the readability of error messages?  This RFC details an "
"educated guess as to what would improve the current state but shows no ways "
"to measure success."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:380
msgid ""
"Likewise, while some of us have been dogfooding these errors, we don't know "
"what long-term use feels like. For example, after a time does the use of "
"color feel excessive?  We can always update the errors as we go, but it'd be "
"helpful to catch it early if possible."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:384
msgid "Unresolved questions"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:386
msgid "There are a few unresolved questions:"
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:387
msgid ""
"Editors that rely on pattern-matching the compiler output will need to be "
"updated. It's an open question how best to transition to using the new "
"errors. There is on-going discussion of standardizing the JSON output, which "
"could also be used."
msgstr ""

#: src/1644-default-and-expanded-rustc-errors.md:390
msgid ""
"Can additional error notes be shown without the \"rainbow problem\" where "
"too many colors and too much boldness cause errors to become less readable?"
msgstr ""
