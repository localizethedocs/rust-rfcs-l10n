msgid ""
msgstr ""
"Project-Id-Version: The Rust RFC Book\n"
"POT-Creation-Date: 2025-12-22T09:04:42Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"Language: zh_TW\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/0378-expr-macros.md:1
msgid "Start Date: 2014-10-09"
msgstr ""

#: src/0378-expr-macros.md:2
msgid "RFC PR #: https://github.com/rust-lang/rfcs/pull/378"
msgstr ""

#: src/0378-expr-macros.md:3
msgid "Rust Issue #: https://github.com/rust-lang/rust/issues/18635"
msgstr ""

#: src/0378-expr-macros.md:5
msgid "Summary"
msgstr "摘要"

#: src/0378-expr-macros.md:7
msgid ""
"Parse macro invocations with parentheses or square brackets as expressions "
"no matter the context, and require curly braces or a semicolon following the "
"invocation to invoke a macro as a statement."
msgstr ""

#: src/0378-expr-macros.md:11
msgid "Motivation"
msgstr "動機"

#: src/0378-expr-macros.md:13
msgid ""
"Currently, macros that start a statement want to be a whole statement, and "
"so expressions such as `foo!().bar` don’t parse if they start a statement. "
"The reason for this is because sometimes one wants a macro that expands to "
"an item or statement (for example, `macro_rules!`), and forcing the user to "
"add a semicolon to the end is annoying and easy to forget for long, multi-"
"line statements. However, the vast majority of macro invocations are not "
"intended to expand to an item or statement, leading to frustrating parser "
"errors."
msgstr ""

#: src/0378-expr-macros.md:21
msgid ""
"Unfortunately, this is not as easy to resolve as simply checking for an "
"infix operator after every statement-like macro invocation, because there "
"exist operators that are both infix and prefix. For example, consider the "
"following function:"
msgstr ""

#: src/0378-expr-macros.md:29
msgid "// Provide a default value\n"
msgstr ""

#: src/0378-expr-macros.md:34
msgid ""
"Today, this parses successfully. However, if a rule were added to the parser "
"that any macro invocation followed by an infix operator be parsed as a "
"single expression, this would still parse successfully, but not in the way "
"expected: it would be parsed as `(maybe_return!(x)) - 1`. This is an example "
"of how it is impossible to resolve this ambiguity properly without breaking "
"compatibility."
msgstr ""

#: src/0378-expr-macros.md:40
msgid "Detailed design"
msgstr "詳細設計"

#: src/0378-expr-macros.md:42
msgid ""
"Treat all macro invocations with parentheses, `()`, or square brackets, "
"`[]`, as expressions, and never attempt to parse them as statements or items "
"in a block context unless they are followed directly by a semicolon. Require "
"all item-position macro invocations to be either invoked with curly braces, "
"`{}`, or be followed by a semicolon (for consistency)."
msgstr ""

#: src/0378-expr-macros.md:48
msgid ""
"This distinction between parentheses and curly braces has precedent in Rust: "
"tuple structs, which use parentheses, must be followed by a semicolon, while "
"structs with fields do not need to be followed by a semicolon. Many "
"constructs like `match` and `if`, which use curly braces, also do not "
"require semicolons when they begin a statement."
msgstr ""

#: src/0378-expr-macros.md:54
msgid "Drawbacks"
msgstr ""

#: src/0378-expr-macros.md:56
msgid ""
"This introduces a difference between different macro invocation delimiters, "
"where previously there was no difference."
msgstr ""

#: src/0378-expr-macros.md:58
msgid ""
"This requires the use of semicolons in a few places where it was not "
"necessary before."
msgstr ""

#: src/0378-expr-macros.md:61
msgid "Alternatives"
msgstr "替代方案"

#: src/0378-expr-macros.md:63
msgid ""
"Require semicolons after all macro invocations that aren’t being used as "
"expressions. This would have the downside of requiring semicolons after "
"every `macro_rules!` declaration."
msgstr ""

#: src/0378-expr-macros.md:67
msgid "Unresolved questions"
msgstr "未解決的問題"

#: src/0378-expr-macros.md:69
msgid "None."
msgstr ""
