msgid ""
msgstr ""
"Project-Id-Version: The Rust RFC Book\n"
"POT-Creation-Date: 2025-12-01T05:53:04Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"Language: zh_TW\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/2057-refcell-replace.md:1
msgid "Feature Name: refcell-replace"
msgstr ""

#: src/2057-refcell-replace.md:2
msgid "Start Date: 2017-06-09"
msgstr ""

#: src/2057-refcell-replace.md:3
msgid ""
"RFC PR: [rust-lang/rfcs#2057](https://github.com/rust-lang/rfcs/pull/2057)"
msgstr ""

#: src/2057-refcell-replace.md:4
msgid ""
"Rust Issue: [rust-lang/rust#43570](https://github.com/rust-lang/rust/"
"issues/43570)"
msgstr ""

#: src/2057-refcell-replace.md:6
msgid "Summary"
msgstr "摘要"

#: src/2057-refcell-replace.md:9
msgid ""
"Add dedicated methods to RefCell for replacing and swapping the contents. "
"These functions will panic if the RefCell is currently borrowed, but will "
"otherwise behave exactly like their cousins on Cell."
msgstr ""

#: src/2057-refcell-replace.md:13
msgid "Motivation"
msgstr "動機"

#: src/2057-refcell-replace.md:16
msgid ""
"The main problem this intends to solve is that doing a replace by hand looks "
"like this:"
msgstr ""

#: src/2057-refcell-replace.md:23
msgid ""
"One of the most important parts of the ergonomics initiative has been "
"reducing \"type tetris\" exactly like that `&mut *`."
msgstr ""

#: src/2057-refcell-replace.md:26
msgid ""
"It also seems weird that this use-case is so much cleaner with a plain "
"`Cell`, even though plain `Cell` is strictly a less powerful abstraction. "
"Usually, people explain `RefCell` as being a superset of `Cell`, but "
"`RefCell` doesn't actually offer all of the functionality as seamlessly as "
"`Cell`."
msgstr ""

#: src/2057-refcell-replace.md:31
msgid "Detailed design"
msgstr "詳細設計"

#: src/2057-refcell-replace.md:45
msgid "How We Teach This"
msgstr ""

#: src/2057-refcell-replace.md:48
msgid ""
"The nicest aspect of this is that it maintains this story behind `Cell` and "
"`RefCell`:"
msgstr ""

#: src/2057-refcell-replace.md:50
msgid ""
"`RefCell` supports everything that `Cell` does. However, it has runtime "
"overhead, and it can panic."
msgstr ""

#: src/2057-refcell-replace.md:53
msgid "Drawbacks"
msgstr ""

#: src/2057-refcell-replace.md:56
msgid ""
"Depending on how we want people to use RefCell, this RFC might be removing "
"deliberate syntactic vinegar. For example, if RefCell is used to protect a "
"counter:"
msgstr ""

#: src/2057-refcell-replace.md:67
msgid ""
"In this case, if `do_some_work()` tries to modify `counter`, it will panic. "
"Since Rust tends to value explicitness over implicitness exactly because it "
"can surface bugs, this code is conceptually more dangerous:"
msgstr ""

#: src/2057-refcell-replace.md:77
msgid ""
"Also, we're adding more specific functions to a core type. That comes with "
"cost in documentation and maintenance."
msgstr ""

#: src/2057-refcell-replace.md:80
msgid "Alternatives"
msgstr ""

#: src/2057-refcell-replace.md:83
msgid ""
"Besides just-write-the-reborrow, these functions can also be put in a "
"separate crate with an extension trait. This has all the disadvantages that "
"two-line libraries usually have:"
msgstr ""

#: src/2057-refcell-replace.md:88
msgid "They tend to have low discoverability."
msgstr ""

#: src/2057-refcell-replace.md:89
msgid "They put strain on auditing."
msgstr ""

#: src/2057-refcell-replace.md:90
msgid ""
"The hassle of adding an import and a toml line is as high as the reborrow."
msgstr ""

#: src/2057-refcell-replace.md:92
msgid ""
"The other alternative, as far as getting rid of the reborrow goes, is to "
"change the language so that it implicitly does the reborrow. That "
"alternative is _massively_ more general, but it also has knock-on effects "
"throughout the rest of the language. It also still doesn't do anything about "
"the asymetry between Cell and RefCell."
msgstr ""

#: src/2057-refcell-replace.md:98
msgid "Unresolved questions"
msgstr "未解決的問題"

#: src/2057-refcell-replace.md:101
msgid ""
"Should we add `RefCell::get()` and `RefCell::set()`? The equivalent versions "
"with borrow(mut) and clone aren't as noisy, since all the reborrowing is "
"done implicitly because clone is a method, but that would bring us all the "
"way to RefCell-as-a-Cell-superset."
msgstr ""
