msgid ""
msgstr ""
"Project-Id-Version: The Rust RFC Book\n"
"POT-Creation-Date: 2025-12-01T05:53:04Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: zh_TW\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/2302-tuple-struct-self-ctor.md:1
msgid "Feature Name: `tuple_struct_self_ctor`"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:2
msgid "Start Date: 2017-01-18"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:3
msgid ""
"RFC PR: [rust-lang/rfcs#2302](https://github.com/rust-lang/rfcs/pull/2302)"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:4
msgid ""
"Rust Issue: [rust-lang/rust#51994](https://github.com/rust-lang/rust/"
"issues/51994)"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:6
msgid "Summary"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:9
msgid ""
"Tuple `struct`s can now be constructed and pattern matched with `Self(v1, "
"v2, ..)`. A simple example:"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:20
msgid ""
"Similarly, unit structs can also be constructed and pattern matched with "
"`Self`."
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:22
msgid "Motivation"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:25
msgid ""
"This RFC proposes a consistency fix allowing `Self` to be used in more "
"places to better match the users' intuition of the language and to get "
"closer to feature parity between tuple structs and structs with named fields."
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:29
msgid ""
"Currently, only structs with named fields can be constructed inside impls "
"using `Self` like so:"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:38 src/2302-tuple-struct-self-ctor.md:52
msgid "\"Ferris the Crab\""
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:45
msgid "while the following is not allowed:"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:57
msgid ""
"This discrepancy is unfortunate as many users reach for `Self(v0, v1, ..)` "
"from time to time, only to find that it doesn't work. This creates a break "
"in the users intuition and becomes a papercut. It also has the effect that "
"each user must remember this exception, making the rule-set to remember "
"larger wherefore the language becomes more complex."
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:63
msgid ""
"There are good reasons why `Self { f0: v0, f1: v1, .. }` is allowed. Chiefly "
"among those is that it becomes easier to refactor the code when one wants to "
"rename type names. Another important reason is that only having to keep "
"`Self` in mind means that a developer does not need to keep the type name "
"fresh in their working memory. This is beneficial for users with shorter "
"working memory such as the author of this RFC."
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:70
msgid ""
"Since `Self { f0: v0, .. }` is well motivated, those benefits and "
"motivations will also extend to tuple and unit structs. Eliminating this "
"discrepancy between tuple structs and those with named fields will therefore "
"have all the benefits associated with this feature for structs with named "
"fields."
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:75
msgid "Guide-level explanation"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:78
msgid "Basic concept"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:80
msgid "For structs with named fields such as:"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:90
msgid ""
"You may use the syntax `Self { field0: value0, .. }` as seen below instead "
"of writing `TypeName { field0: value0, .. }`:"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:95 src/2302-tuple-struct-self-ctor.md:111
#: src/2302-tuple-struct-self-ctor.md:145
#: src/2302-tuple-struct-self-ctor.md:161
msgid "/// Make a newborn person.\n"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:102
msgid "Through type aliases"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:104
msgid ""
"This ability does not extend to tuple structs however in current Rust but "
"will with this RFC. To continue on with the previous example, you can now "
"also write:"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:118
msgid ""
"As with structs with named fields, you may also use `Self` when you are "
"`impl`ing on a type alias of a struct as seen here:"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:128
msgid "// <-- Not allowed before.\n"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:133
msgid "Patterns"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:135
msgid ""
"Currently, you can pattern match using `Self { .. }` on a named struct as in "
"the following example:"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:148
msgid "// `Self { .. }` is permitted as a pattern!\n"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:155
msgid "This RFC extends this to tuple structs:"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:164
msgid "// `Self(..)` is permitted as a pattern!\n"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:171
msgid ""
"Of course, this redundant reconstruction is not recommended in actual code, "
"but illustrates what you can do."
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:174
msgid "`Self` as a function pointer"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:176
msgid "When you define a tuple struct today such as:"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:188
msgid ""
"you can use `Foo` as a function pointer typed at: `for<T> fn(T) -> T` as "
"seen in the example above."
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:191
msgid ""
"This RFC extends that such that `Self` can also be used as a function "
"pointer for tuple structs. Modifying the example above gives us:"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:202
msgid "Unit structs"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:204
msgid ""
"With this RFC, you can also use `Self` in pattern and expression contexts "
"when dealing with unit structs. For example:"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:217
msgid "Teaching the contents"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:219
msgid ""
"This RFC should not require additional effort other than spreading the news "
"that this now is possible as well as the reference. The changes are seen as "
"intuitive enough that it supports what the user already assumes should work "
"and will probably try at some point."
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:224
msgid "Reference-level explanation"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:227
msgid ""
"When entering one of the following contexts, a Rust compiler will extend the "
"value namespace with `Self` which maps to the tuple constructor `fn` in the "
"case of tuple struct, or a constant, in the case of a unit struct:"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:231
msgid "inherent `impl`s where the `Self` type is a tuple or unit struct"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:232
msgid "`trait` `impl`s where the `Self` type is a tuple or unit struct"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:234
msgid ""
"As a result, when referring to a tuple struct, `Self` can be legally coerced "
"into an `fn` pointer which accepts and returns expressions of the same type "
"as the function pointer `Self` is referring to accepts."
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:238
msgid ""
"Another consequence is that `Self(p_0, .., p_n)` and `Self` become legal "
"patterns. This works since `TupleCtor(p_0, .., p_n)` patterns are handled by "
"resolving them in the value namespace and checking that they resolve to a "
"tuple constructor. Since by definition, `Self` referring to a tuple struct "
"resolves to a tuple constructor, this is OK."
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:244
msgid "Implementation notes"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:246
msgid ""
"As an additional check on the sanity of a Rust compiler implementation, a "
"well formed expression `Self(v0, v1, ..)`, must be semantically equivalent "
"to `Self { 0: v0, 1: v1, .. }` and must also be permitted when the latter "
"would. Likewise the pattern `Self(p0, p1, ..)` must match exactly the same "
"set of values as `Self { 0: p0, 1: p1, .. }` would and must be permitted "
"when `Self { 0: p0, 1: p1, .. }` is well formed."
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:253
msgid ""
"Furthermore, a well formed expression or pattern `Self` must be semantically "
"equivalent to `Self {}` and permitted when `Self {}` is well formed in the "
"same context."
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:257
msgid "For example for tuple structs, we have the typing rule:"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:268
msgid "and the operational semantics:"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:276
msgid "for unit structs, the following holds:"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:285
msgid "with the operational semantics:"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:293
msgid "In relation to other RFCs"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:295
msgid ""
"This RFC expands on [RFC 593](0593-forbid-Self-definitions.md) and [RFC 1647]"
"(1647-allow-self-in-where-clauses.md) with respect to where the keyword "
"`Self` is allowed."
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:301
msgid "Drawbacks"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:304
msgid "There are potentially some, but the author could not think of any."
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:306
msgid "Rationale and alternatives"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:309
msgid ""
"This is the only design that makes sense in the sense that there really "
"aren't any other. Potentially, `Self(v0, ..)` should only work when the "
"`impl`ed type is not behind a type alias. However, since structs with named "
"fields supports type aliases in this respect, so should tuple structs."
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:314
msgid ""
"Not providing this feature would preserve papercuts and unintuitive "
"surprises for developers."
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:317
msgid "Unresolved questions"
msgstr ""

#: src/2302-tuple-struct-self-ctor.md:320
msgid "There are none."
msgstr ""
