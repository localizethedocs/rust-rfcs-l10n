msgid ""
msgstr ""
"Project-Id-Version: The Rust RFC Book\n"
"POT-Creation-Date: 2025-12-01T05:53:03Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"Language: zh_TW\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/1174-into-raw-fd-socket-handle-traits.md:1
msgid "Feature Name: into-raw-fd-socket-handle-traits"
msgstr ""

#: src/1174-into-raw-fd-socket-handle-traits.md:2
msgid "Start Date: 2015-06-24"
msgstr ""

#: src/1174-into-raw-fd-socket-handle-traits.md:3
msgid ""
"RFC PR: [rust-lang/rfcs#1174](https://github.com/rust-lang/rfcs/pull/1174)"
msgstr ""

#: src/1174-into-raw-fd-socket-handle-traits.md:4
msgid ""
"Rust Issue: [rust-lang/rust#27062](https://github.com/rust-lang/rust/"
"issues/27062)"
msgstr ""

#: src/1174-into-raw-fd-socket-handle-traits.md:6
msgid "Summary"
msgstr "摘要"

#: src/1174-into-raw-fd-socket-handle-traits.md:8
msgid ""
"Introduce and implement `IntoRaw{Fd, Socket, Handle}` traits to complement "
"the existing `AsRaw{Fd, Socket, Handle}` traits already in the standard "
"library."
msgstr ""

#: src/1174-into-raw-fd-socket-handle-traits.md:11
msgid "Motivation"
msgstr "動機"

#: src/1174-into-raw-fd-socket-handle-traits.md:13
msgid ""
"The `FromRaw{Fd, Socket, Handle}` traits each take ownership of the provided "
"handle, however, the `AsRaw{Fd, Socket, Handle}` traits do not give up "
"ownership. Thus, converting from one handle wrapper to another (for example "
"converting an open `fs::File` to a `process::Stdio`) requires the caller to "
"either manually `dup` the handle, or `mem::forget` the wrapper, which is "
"unergonomic and can be prone to mistakes."
msgstr ""

#: src/1174-into-raw-fd-socket-handle-traits.md:20
msgid ""
"Traits such as `IntoRaw{Fd, Socket, Handle}` will allow for easily "
"transferring ownership of OS handles, and it will allow wrappers to perform "
"any cleanup/setup as they find necessary."
msgstr ""

#: src/1174-into-raw-fd-socket-handle-traits.md:24
msgid "Detailed design"
msgstr "詳細設計"

#: src/1174-into-raw-fd-socket-handle-traits.md:26
msgid ""
"The `IntoRaw{Fd, Socket, Handle}` traits will behave exactly like their "
"`AsRaw{Fd, Socket, Handle}` counterparts, except they will consume the "
"wrapper before transferring ownership of the handle."
msgstr ""

#: src/1174-into-raw-fd-socket-handle-traits.md:30
msgid ""
"Note that these traits should **not** have a blanket implementation over `T: "
"AsRaw{Fd, Socket, Handle}`: these traits should be opt-in so that "
"implementors can decide if leaking through `mem::forget` is acceptable or "
"another course of action is required."
msgstr ""

#: src/1174-into-raw-fd-socket-handle-traits.md:36
msgid "// Unix\n"
msgstr ""

#: src/1174-into-raw-fd-socket-handle-traits.md:40
#: src/1174-into-raw-fd-socket-handle-traits.md:45
msgid "// Windows\n"
msgstr ""

#: src/1174-into-raw-fd-socket-handle-traits.md:52
msgid "Drawbacks"
msgstr ""

#: src/1174-into-raw-fd-socket-handle-traits.md:54
msgid ""
"This adds three new traits and methods which would have to be maintained."
msgstr ""

#: src/1174-into-raw-fd-socket-handle-traits.md:56
msgid "Alternatives"
msgstr "替代方案"

#: src/1174-into-raw-fd-socket-handle-traits.md:58
msgid ""
"Instead of defining three new traits we could instead use the `std::convert::"
"Into<T>` trait over the different OS handles. However, this approach will "
"not offer a duality between methods such as `as_raw_fd()`/`into_raw_fd()`, "
"but will instead be `as_raw_fd()`/`into()`."
msgstr ""

#: src/1174-into-raw-fd-socket-handle-traits.md:63
msgid ""
"Another possibility is defining both the newly proposed traits as well as "
"the `Into<T>` trait over the OS handles letting the caller choose what they "
"prefer."
msgstr ""

#: src/1174-into-raw-fd-socket-handle-traits.md:66
msgid "Unresolved questions"
msgstr "未解決的問題"

#: src/1174-into-raw-fd-socket-handle-traits.md:68
msgid "None at the moment."
msgstr ""
