msgid ""
msgstr ""
"Project-Id-Version: The Rust RFC Book\n"
"POT-Creation-Date: 2025-12-22T09:04:42Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"Language: zh_TW\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/0504-show-stabilization.md:1
msgid "Start Date: 2014-12-19"
msgstr ""

#: src/0504-show-stabilization.md:2
msgid ""
"RFC PR: [rust-lang/rfcs#504](https://github.com/rust-lang/rfcs/pull/504)"
msgstr ""

#: src/0504-show-stabilization.md:3
msgid ""
"Rust Issue: [rust-lang/rust#20013](https://github.com/rust-lang/rust/"
"issues/20013)"
msgstr ""

#: src/0504-show-stabilization.md:5
msgid "Summary"
msgstr "摘要"

#: src/0504-show-stabilization.md:7
msgid ""
"Today's `Show` trait will be tasked with the purpose of providing the "
"ability to inspect the representation of implementors of the trait. A new "
"trait, `String`, will be introduced to the `std::fmt` module to in order to "
"represent data that can essentially be serialized to a string, typically "
"representing the precise internal state of the implementor."
msgstr ""

#: src/0504-show-stabilization.md:13
msgid ""
"The `String` trait will take over the `{}` format specifier and the `Show` "
"trait will move to the now-open `{:?}` specifier."
msgstr ""

#: src/0504-show-stabilization.md:16
msgid "Motivation"
msgstr "動機"

#: src/0504-show-stabilization.md:18
msgid ""
"The formatting traits today largely provide clear guidance to what they are "
"intended for. For example the `Binary` trait is intended for printing the "
"binary representation of a data type. The ubiquitous `Show` trait, however, "
"is not quite well defined in its purpose. It is currently used for a number "
"of use cases which are typically at odds with one another."
msgstr ""

#: src/0504-show-stabilization.md:24
msgid ""
"One of the use cases of `Show` today is to provide a \"debugging view\" of a "
"type. This provides the easy ability to print _some_ string representation "
"of a type to a stream in order to debug an application. The `Show` trait, "
"however, is also used for printing user-facing information. This flavor of "
"usage is intended for display to all users as opposed to just developers. "
"Finally, the `Show` trait is connected to the `ToString` trait providing the "
"`to_string` method unconditionally."
msgstr ""

#: src/0504-show-stabilization.md:32
msgid ""
"From these use cases of `Show`, a number of pain points have arisen over "
"time:"
msgstr ""

#: src/0504-show-stabilization.md:34
msgid ""
"It's not clear whether all types should implement `Show` or not. Types like "
"`Path` quite intentionally avoid exposing a string representation (due to "
"paths not being valid UTF-8 always) and hence do not want a `to_string` "
"method to be defined on them."
msgstr ""

#: src/0504-show-stabilization.md:38
msgid ""
"It is quite common to use `#[deriving(Show)]` to easily print a Rust "
"structure. This is not possible, however, when particular members do not "
"implement `Show` (for example a `Path`)."
msgstr ""

#: src/0504-show-stabilization.md:41
msgid ""
"Some types, such as a `String`, desire the ability to \"inspect\" the "
"representation as well as printing the representation. An inspection mode, "
"for example, would escape characters like newlines."
msgstr ""

#: src/0504-show-stabilization.md:44
msgid ""
"Common pieces of functionality, such as `assert_eq!` are tied to the `Show` "
"trait which is not necessarily implemented for all types."
msgstr ""

#: src/0504-show-stabilization.md:47
msgid ""
"The purpose of this RFC is to clearly define what the `Show` trait is "
"intended to be used for, as well as providing guidelines to implementors of "
"what implementations should do."
msgstr ""

#: src/0504-show-stabilization.md:51
msgid "Detailed Design"
msgstr "詳細設計"

#: src/0504-show-stabilization.md:53
msgid ""
"As described in the motivation section, the intended use cases for the "
"current `Show` trait are actually motivations for two separate formatting "
"traits. One trait will be intended for all Rust types to implement in order "
"to easily allow debugging values for macros such as `assert_eq!` or general "
"`println!` statements. A separate trait will be intended for Rust types "
"which are faithfully represented as a string. These types can be represented "
"as a string in a non-lossy fashion and are intended for general consumption "
"by more than just developers."
msgstr ""

#: src/0504-show-stabilization.md:62
msgid ""
"This RFC proposes naming these two traits `Show` and `String`, respectively."
msgstr ""

#: src/0504-show-stabilization.md:64
msgid "The `String` trait"
msgstr ""

#: src/0504-show-stabilization.md:66
msgid "A new formatting trait will be added to `std::fmt` as follows:"
msgstr ""

#: src/0504-show-stabilization.md:74
msgid ""
"This trait is identical to all other formatting traits except for its name. "
"The `String` trait will be used with the `{}` format specifier, typically "
"considered the default specifier for Rust."
msgstr ""

#: src/0504-show-stabilization.md:78
msgid ""
"An implementation of the `String` trait is an assertion that the type can be "
"faithfully represented as a UTF-8 string at all times. If the type can be "
"reconstructed from a string, then it is recommended, but not required, that "
"the following relation be true:"
msgstr ""

#: src/0504-show-stabilization.md:84
msgid "\"{}\""
msgstr ""

#: src/0504-show-stabilization.md:87
msgid ""
"If the type cannot necessarily be reconstructed from a string, then the "
"output may be less descriptive than the type can provide, but it is "
"guaranteed to be human readable for all users."
msgstr ""

#: src/0504-show-stabilization.md:91
msgid ""
"It is **not** expected that all types implement the `String` trait. Not all "
"types can satisfy the purpose of this trait, and for example the following "
"types will not implement the `String` trait:"
msgstr ""

#: src/0504-show-stabilization.md:95
msgid ""
"`Path` will abstain as it is not guaranteed to contain valid UTF-8 data."
msgstr ""

#: src/0504-show-stabilization.md:96
msgid "`CString` will abstain for the same reasons as `Path`."
msgstr ""

#: src/0504-show-stabilization.md:97
msgid ""
"`RefCell` will abstain as it may not be accessed at all times to be "
"represented as a `String`."
msgstr ""

#: src/0504-show-stabilization.md:99
msgid "`Weak` references will abstain for the same reasons as `RefCell`."
msgstr ""

#: src/0504-show-stabilization.md:101
msgid ""
"Almost all types that implement `Show` in the standard library today, "
"however, will implement the `String` trait. For example all primitive "
"integer types, vectors, slices, strings, and containers will all implement "
"the `String` trait. The output format will not change from what it is today "
"(no extra escaping or debugging will occur)."
msgstr ""

#: src/0504-show-stabilization.md:107
msgid ""
"The compiler will **not** provide an implementation of `#[deriving(String)]` "
"for types."
msgstr ""

#: src/0504-show-stabilization.md:110
msgid "The `Show` trait"
msgstr ""

#: src/0504-show-stabilization.md:112
msgid ""
"The current `Show` trait will not change location nor definition, but it "
"will instead move to the `{:?}` specifier instead of the `{}` specifier "
"(which `String` now uses)."
msgstr ""

#: src/0504-show-stabilization.md:116
msgid ""
"An implementation of the `Show` trait is expected for **all** types in Rust "
"and provides very few guarantees about the output. Output will typically "
"represent the internal state as faithfully as possible, but it is not "
"expected that this will always be true. The output of `Show` should never be "
"used to reconstruct the object itself as it is not guaranteed to be possible "
"to do so."
msgstr ""

#: src/0504-show-stabilization.md:122
msgid ""
"The purpose of the `Show` trait is to facilitate debugging Rust code which "
"implies that it needs to be maximally useful by extending to all Rust types. "
"All types in the standard library which do not currently implement `Show` "
"will gain an implementation of the `Show` trait including `Path`, `RefCell`, "
"and `Weak` references."
msgstr ""

#: src/0504-show-stabilization.md:128
msgid ""
"Many implementations of `Show` in the standard library will differ from what "
"they currently are today. For example `str`'s implementation will escape all "
"characters such as newlines and tabs in its output. Primitive integers will "
"print the suffix of the type after the literal in all cases. Characters will "
"also be printed with surrounding single quotes while escaping values such as "
"newlines. The purpose of these implementations are to provide debugging "
"views into these types."
msgstr ""

#: src/0504-show-stabilization.md:136
msgid ""
"Implementations of the `Show` trait are expected to never `panic!` and "
"always produce valid UTF-8 data. The compiler will continue to provide a "
"`#[deriving(Show)]` implementation to facilitate printing and debugging user-"
"defined structures."
msgstr ""

#: src/0504-show-stabilization.md:141
msgid "The `ToString` trait"
msgstr ""

#: src/0504-show-stabilization.md:143
msgid ""
"Today the `ToString` trait is connected to the `Show` trait, but this RFC "
"proposes wiring it to the newly-proposed `String` trait instead. This switch "
"enables users of `to_string` to rely on the same guarantees provided by "
"`String` as well as not erroneously providing the `to_string` method on "
"types that are not intended to have one."
msgstr ""

#: src/0504-show-stabilization.md:149
msgid ""
"It is strongly discouraged to provide an implementation of the `ToString` "
"trait and not the `String` trait."
msgstr ""

#: src/0504-show-stabilization.md:152
msgid "Drawbacks"
msgstr ""

#: src/0504-show-stabilization.md:154
msgid ""
"It is inherently easier to understand fewer concepts from the standard "
"library and introducing multiple traits for common formatting "
"implementations may lead to frequently mis-remembering which to implement. "
"It is expected, however, that this will become such a common idiom in Rust "
"that it will become second nature."
msgstr ""

#: src/0504-show-stabilization.md:159
msgid ""
"This RFC establishes a convention that `Show` and `String` produce valid "
"UTF-8 data, but no static guarantee of this requirement is provided. "
"Statically guaranteeing this invariant would likely involve adding some form "
"of `TextWriter` which we are currently not willing to stabilize for the 1.0 "
"release."
msgstr ""

#: src/0504-show-stabilization.md:165
msgid ""
"The default format specifier, `{}`, will quickly become unable to print many "
"types in Rust. Without a `#[deriving]` implementation, manual "
"implementations are predicted to be fairly sparse. This means that the "
"defacto default may become `{:?}` for inspecting Rust types, providing "
"pressure to re-shuffle the specifiers. Currently it is seen as untenable, "
"however, for the default output format of a `String` to include escaped "
"characters (as opposed to printing the string). Due to the debugging nature "
"of `Show`, it is seen as a non-starter to make it the \"default\" via `{}`."
msgstr ""

#: src/0504-show-stabilization.md:174
msgid ""
"It may be too ambitious to define that `String` is a non-lossy "
"representation of a type, eventually motivating other formatting traits."
msgstr ""

#: src/0504-show-stabilization.md:177
msgid "Alternatives"
msgstr "替代方案"

#: src/0504-show-stabilization.md:179
msgid ""
"The names `String` and `Show` may not necessarily imply \"user readable\" "
"and \"debuggable\". An alternative proposal would be to use `Show` for user "
"readability and `Inspect` for debugging. This alternative also opens up the "
"door for other names of the debugging trait like `Repr`. This RFC, however, "
"has chosen `String` for user readability to provide a clearer connection "
"with the `ToString` trait as well as emphasizing that the type can be "
"faithfully represented as a `String`. Additionally, this RFC considers the "
"name `Show` roughly on par with other alternatives and would help reduce "
"churn for code migrating today."
msgstr ""

#: src/0504-show-stabilization.md:189
msgid "Unresolved Questions"
msgstr "未解決的問題"

#: src/0504-show-stabilization.md:191
msgid "None at this time."
msgstr ""
