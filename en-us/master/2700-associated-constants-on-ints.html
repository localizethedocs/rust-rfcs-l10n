<!DOCTYPE HTML>
<html lang="en_US" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>2700-associated-constants-on-ints - The Rust RFC Book</title>


        <!-- Custom HTML head -->
        <script type="text/javascript" src="ltd-provenance.js"></script>
        <script type="text/javascript" src="ltd-current.js"></script>
        <script type="text/javascript" src="../../ltd-config.js"></script>
        <script type="text/javascript" src="../../ltd-flyout.js"></script>

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-0060737d.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-5025baa3.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust RFC Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/rust-lang/rfcs" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <ul>
<li>Feature Name: <code>assoc_int_consts</code></li>
<li>Start Date: 2019-05-13</li>
<li>RFC PR: <a href="https://github.com/rust-lang/rfcs/pull/2700">rust-lang/rfcs#2700</a></li>
<li>Rust Issue: <a href="https://github.com/rust-lang/rust/issues/68490">rust-lang/rust#68490</a></li>
</ul>
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<p>Add the relevant associated constants to the numeric types in the standard library, and consider a
timeline for the deprecation of the corresponding (and originally intended to be temporary)
primitive numeric modules and associated functions.</p>
<h2 id="motivation"><a class="header" href="#motivation">Motivation</a></h2>
<p>All programming languages with bounded integers provide numeric constants for their maximum and
minimum extents. In Rust, <a href="https://github.com/rust-lang/rust/pull/23549">these constants were
stabilized</a> in the eleventh hour before Rust 1.0
(literally the day before the branching of 1.0-beta on April 1, 2015), with some
known-to-be-undesirable properties. In particular, associated consts were yet to be implemented
(these landed, amusingly, one month after 1.0-beta and two weeks before 1.0-stable), and so each of
the twelve numeric types were given their own top-level modules in the standard library, whose
contents are exclusively these constants (all related non-constants being defined in inherent impls
directly on each type). However, in the even-eleventh-er hour before 1.0-beta, it was realized that
this solution did not work for anyone seeking to reference these constants when working with types
such as <code>c_int</code>, which are defined as type aliases and can thus access inherent impls but not
modules that merely happen to be named the same as the original type; as a result, <a href="https://github.com/rust-lang/rust/pull/23947">an emergency
PR</a> also added redundant <code>max_value</code> and <code>min_value</code>
inherent functions as a last-second workaround. The PR itself notes how distasteful this remedy is:</p>
<blockquote>
<p>It’s unfortunate to freeze these as methods, but when we can provide inherent associated constants
these methods can be deprecated. [aturon, Apr 1, 2015]</p>
</blockquote>
<p>Meanwhile, the author of the associated consts patch
<a href="https://github.com/rust-lang/rust/pull/23606#issuecomment-88541583">despairs</a> of just barely
missing the deadline:</p>
<blockquote>
<p>@nikomatsakis The original motivation for trying to get this in before the beta was to get rid of
all the functions that deal with constants in Int/Float, and then to get rid of all the modules
like std::i64 that just hold constants as well. We could have dodged most of the issues (ICEs and
generic code design) by using inherent impls instead of associating the constants with traits. But
since <a href="https://github.com/rust-lang/rust/pull/23549">#23549</a> came in a bit earlier and stabilized
a bunch more of those constants before the beta, whereas this hasn’t landed yet, blegh.
[quantheory, Apr 1, 2015]</p>
</blockquote>
<p>Anticipating the situation, an <a href="https://github.com/rust-lang/rfcs/issues/1099">issue</a> was filed in
the RFCs repo regarding moving the contents of these modules into associated consts:</p>
<blockquote>
<p>I think it’s a minor enough breaking change to move the constants and deprecate the modules u8,
u16, etc. Not so sure about removing these modules entirely, I’d appreciate that, but it’ll break
all the code use-ing them. [petrochenkov, Apr 29, 2015]</p>
</blockquote>
<p>Finally, so obvious was this solution that <a href="https://github.com/nox/rust-rfcs/blob/master/text/0195-associated-items.md#expressiveness">the original RFC for associated
items</a>
used the numeric constants as the only motivating example for the feature of associated consts:</p>
<blockquote>
<p>For example, today’s Rust includes a variety of numeric traits, including Float, which must
currently expose constants as static functions […] Associated constants would allow the consts
to live directly on the traits</p>
</blockquote>
<p>Despite the obvious intent, 1.0 came and went and there were plenty of other things to occupy
everyone’s attention. Now, two days shy of Rust’s fourth anniversary, let’s re-examine the
situation. We propose to deprecate all of the aforementioned functions and constants in favor of
associated constants defined on the appropriate types, and to additionally deprecate all constants
living directly in the <code>i8</code>, <code>i16</code>, <code>i32</code>, <code>i64</code>, <code>i128</code>, <code>isize</code>, <code>u8</code>, <code>u16</code>, <code>u32</code>, <code>u64</code>,
<code>u128</code>, <code>usize</code>, <code>f32</code> and <code>f64</code> modules in <code>std</code>. Advantages of this:</p>
<ol>
<li>
<p>Consistency with the rest of the language. As demonstrated by the above quotes, associated consts
have been the natural way to express these concepts in Rust since before associated consts were even
implemented; this approach satisfies the principle of least surprise.</p>
</li>
<li>
<p>Documentation. On the front page of the <a href="https://doc.rust-lang.org/std/index.html">standard library API
docs</a>, 12 of the 60 modules in the standard library (20%)
are the aforementioned numeric modules which exist only to namespace two constants each. This
number will increase as new numeric primitives are added to Rust, as already seen with
<code>i128</code> and <code>u128</code>. Although deprecated modules cannot be easily removed from std, they can be
removed from the documentation, making the stdlib API docs less cluttered and easier to navigate.</p>
</li>
<li>
<p>Beginner ease. For a beginner, finding two identical ways to achieve something immediately raises
the question of “why”, to which the answer here is ultimately uninteresting (and mildly
embarrassing). Even then the question of “which one to use” remains unanswered; neither current
approach is more idiomatic than the other. As noted, deprecated items can be removed from the
documentation, thereby decreasing the likelihood of head-scratching and incredulous sidelong
glances from people new to Rust.</p>
</li>
<li>
<p>Removal of ambiguity between primitive types and their identically-named modules. Currently
if you import an integer module and access constants in the module and methods on the type,
one has no apparent indication as to what comes from where:</p>
</li>
</ol>
<pre><code class="language-rust">use std::u32;
assert_eq!(u32::MAX, u32::max_value());</code></pre>
<p>The fact that this sort of shadowing of primitive types works in the first place is surprising
even to experienced Rust programmers; the fact that such a pattern is seemingly encouraged by
the standard library is even more of a surprise. By making this change we would be able to
remove all modules in the standard library whose names shadow integral types.</p>
<ol start="5">
<li>Removal of a frustrating papercut. Even experienced Rust programmers are prone to trip over
this and curse at having to be reminded of a bizarre and jarring artifact of Rust 1.0.
By removing these artifacts we can make the experience of using Rust more universally pleasant.</li>
</ol>
<h2 id="guide-level-explanation"><a class="header" href="#guide-level-explanation">Guide-level explanation</a></h2>
<ol>
<li>
<p>Add the following associated constants to the relevant types in standard library, with their definitions taken from the corresponding legacy module-level constants:</p>
<ul>
<li>i8::{MAX, MIN}</li>
<li>i16::{MAX, MIN}</li>
<li>i32::{MAX, MIN}</li>
<li>i64::{MAX, MIN}</li>
<li>i128::{MAX, MIN}</li>
<li>isize::{MAX, MIN}</li>
<li>u8::{MAX, MIN}</li>
<li>u16::{MAX, MIN}</li>
<li>u32::{MAX, MIN}</li>
<li>u64::{MAX, MIN}</li>
<li>u128::{MAX, MIN}</li>
<li>usize::{MAX, MIN}</li>
<li>f32::{DIGITS, EPSILON, INFINITY, MANTISSA_DIGITS, MAX, MAX_10_EXP, MAX_EXP, MIN, MIN_10_EXP, MIN_EXP, MIN_POSITIVE, NAN, NEG_INFINITY, RADIX}</li>
<li>f64::{DIGITS, EPSILON, INFINITY, MANTISSA_DIGITS, MAX, MAX_10_EXP, MAX_EXP, MIN, MIN_10_EXP, MIN_EXP, MIN_POSITIVE, NAN, NEG_INFINITY, RADIX}</li>
</ul>
</li>
<li>
<p>Redefine the following module-level constants in terms of the associated constants added in step 1:</p>
<ul>
<li>std::i8::{<a href="https://doc.rust-lang.org/std/i8/constant.MIN.html">MIN</a>, <a href="https://doc.rust-lang.org/std/i8/constant.MAX.html">MAX</a>}</li>
<li>std::i16::{<a href="https://doc.rust-lang.org/std/i16/constant.MIN.html">MIN</a>, <a href="https://doc.rust-lang.org/std/i16/constant.MAX.html">MAX</a>}</li>
<li>std::i32::{<a href="https://doc.rust-lang.org/std/i32/constant.MIN.html">MIN</a>, <a href="https://doc.rust-lang.org/std/i32/constant.MAX.html">MAX</a>}</li>
<li>std::i64::{<a href="https://doc.rust-lang.org/std/i64/constant.MIN.html">MIN</a>, <a href="https://doc.rust-lang.org/std/i64/constant.MAX.html">MAX</a>}</li>
<li>std::i128::{<a href="https://doc.rust-lang.org/std/i128/constant.MIN.html">MIN</a>, <a href="https://doc.rust-lang.org/std/i128/constant.MAX.html">MAX</a>}</li>
<li>std::isize::{<a href="https://doc.rust-lang.org/std/isize/constant.MIN.html">MIN</a>, <a href="https://doc.rust-lang.org/std/isize/constant.MAX.html">MAX</a>}</li>
<li>std::u8::{<a href="https://doc.rust-lang.org/std/u8/constant.MIN.html">MIN</a>, <a href="https://doc.rust-lang.org/std/u8/constant.MAX.html">MAX</a>}</li>
<li>std::u16::{<a href="https://doc.rust-lang.org/std/u16/constant.MIN.html">MIN</a>, <a href="https://doc.rust-lang.org/std/u16/constant.MAX.html">MAX</a>}</li>
<li>std::u32::{<a href="https://doc.rust-lang.org/std/u32/constant.MIN.html">MIN</a>, <a href="https://doc.rust-lang.org/std/u32/constant.MAX.html">MAX</a>}</li>
<li>std::u64::{<a href="https://doc.rust-lang.org/std/u64/constant.MIN.html">MIN</a>, <a href="https://doc.rust-lang.org/std/u64/constant.MAX.html">MAX</a>}</li>
<li>std::u128::{<a href="https://doc.rust-lang.org/std/u128/constant.MIN.html">MIN</a>, <a href="https://doc.rust-lang.org/std/u128/constant.MAX.html">MAX</a>}</li>
<li>std::usize::{<a href="https://doc.rust-lang.org/std/usize/constant.MIN.html">MIN</a>, <a href="https://doc.rust-lang.org/std/usize/constant.MAX.html">MAX</a>}</li>
<li>std::f32::{<a href="https://doc.rust-lang.org/std/f32/constant.DIGITS.html">DIGITS</a>, <a href="https://doc.rust-lang.org/std/f32/constant.EPSILON.html">EPSILON</a>, <a href="https://doc.rust-lang.org/std/f32/constant.INFINITY.html">INFINITY</a>, <a href="https://doc.rust-lang.org/std/f32/constant.MANTISSA_DIGITS.html">MANTISSA_DIGITS</a>, <a href="https://doc.rust-lang.org/std/f32/constant.MAX.html">MAX</a>, <a href="https://doc.rust-lang.org/std/f32/constant.MAX_10_EXP.html">MAX_10_EXP</a>, <a href="https://doc.rust-lang.org/std/f32/constant.MAX_EXP.html">MAX_EXP</a>, <a href="https://doc.rust-lang.org/std/f32/constant.MIN.html">MIN</a>, <a href="https://doc.rust-lang.org/std/f32/constant.MIN_10_EXP.html">MIN_10_EXP</a>, <a href="https://doc.rust-lang.org/std/f32/constant.MIN_EXP.html">MIN_EXP</a>, <a href="https://doc.rust-lang.org/std/f32/constant.MIN_POSITIVE.html">MIN_POSITIVE</a>, <a href="https://doc.rust-lang.org/std/f32/constant.NAN.html">NAN</a>, <a href="https://doc.rust-lang.org/std/f32/constant.NEG_INFINITY.html">NEG_INFINITY</a>, <a href="https://doc.rust-lang.org/std/f32/constant.RADIX.html">RADIX</a>}</li>
<li>std::f64::{<a href="https://doc.rust-lang.org/std/f64/constant.DIGITS.html">DIGITS</a>, <a href="https://doc.rust-lang.org/std/f64/constant.EPSILON.html">EPSILON</a>, <a href="https://doc.rust-lang.org/std/f64/constant.INFINITY.html">INFINITY</a>, <a href="https://doc.rust-lang.org/std/f64/constant.MANTISSA_DIGITS.html">MANTISSA_DIGITS</a>, <a href="https://doc.rust-lang.org/std/f64/constant.MAX.html">MAX</a>, <a href="https://doc.rust-lang.org/std/f64/constant.MAX_10_EXP.html">MAX_10_EXP</a>, <a href="https://doc.rust-lang.org/std/f64/constant.MAX_EXP.html">MAX_EXP</a>, <a href="https://doc.rust-lang.org/std/f64/constant.MIN.html">MIN</a>, <a href="https://doc.rust-lang.org/std/f64/constant.MIN_10_EXP.html">MIN_10_EXP</a>, <a href="https://doc.rust-lang.org/std/f64/constant.MIN_EXP.html">MIN_EXP</a>, <a href="https://doc.rust-lang.org/std/f64/constant.MIN_POSITIVE.html">MIN_POSITIVE</a>, <a href="https://doc.rust-lang.org/std/f64/constant.NAN.html">NAN</a>, <a href="https://doc.rust-lang.org/std/f64/constant.NEG_INFINITY.html">NEG_INFINITY</a>, <a href="https://doc.rust-lang.org/std/f64/constant.RADIX.html">RADIX</a>}</li>
</ul>
</li>
<li>
<p>At a future point to be determined (see “Unresolved questions” below), deprecate the items listed in step 2. Additionally, deprecate the following associated functions:</p>
<ul>
<li>i8::{<a href="https://doc.rust-lang.org/std/primitive.i8.html#method.min_value">min_value</a>, <a href="https://doc.rust-lang.org/std/primitive.i8.html#method.max_value">max_value</a>}</li>
<li>i16::{<a href="https://doc.rust-lang.org/std/primitive.i16.html#method.min_value">min_value</a>, <a href="https://doc.rust-lang.org/std/primitive.i16.html#method.max_value">max_value</a>}</li>
<li>i32::{<a href="https://doc.rust-lang.org/std/primitive.i32.html#method.min_value">min_value</a>, <a href="https://doc.rust-lang.org/std/primitive.i32.html#method.max_value">max_value</a>}</li>
<li>i64::{<a href="https://doc.rust-lang.org/std/primitive.i64.html#method.min_value">min_value</a>, <a href="https://doc.rust-lang.org/std/primitive.i64.html#method.max_value">max_value</a>}</li>
<li>i128::{<a href="https://doc.rust-lang.org/std/primitive.i128.html#method.min_value">min_value</a>, <a href="https://doc.rust-lang.org/std/primitive.i128.html#method.max_value">max_value</a>}</li>
<li>isize::{<a href="https://doc.rust-lang.org/std/primitive.isize.html#method.min_value">min_value</a>, <a href="https://doc.rust-lang.org/std/primitive.isize.html#method.max_value">max_value</a>}</li>
<li>u8::{<a href="https://doc.rust-lang.org/std/primitive.u8.html#method.min_value">min_value</a>, <a href="https://doc.rust-lang.org/std/primitive.u8.html#method.max_value">max_value</a>}</li>
<li>u16::{<a href="https://doc.rust-lang.org/std/primitive.u16.html#method.min_value">min_value</a>, <a href="https://doc.rust-lang.org/std/primitive.u16.html#method.max_value">max_value</a>}</li>
<li>u32::{<a href="https://doc.rust-lang.org/std/primitive.u32.html#method.min_value">min_value</a>, <a href="https://doc.rust-lang.org/std/primitive.u32.html#method.max_value">max_value</a>}</li>
<li>u64::{<a href="https://doc.rust-lang.org/std/primitive.u64.html#method.min_value">min_value</a>, <a href="https://doc.rust-lang.org/std/primitive.u64.html#method.max_value">max_value</a>}</li>
<li>u128::{<a href="https://doc.rust-lang.org/std/primitive.u128.html#method.min_value">min_value</a>, <a href="https://doc.rust-lang.org/std/primitive.u128.html#method.max_value">max_value</a>}</li>
<li>usize::{<a href="https://doc.rust-lang.org/std/primitive.usize.html#method.min_value">min_value</a>, <a href="https://doc.rust-lang.org/std/primitive.usize.html#method.max_value">max_value</a>}</li>
</ul>
</li>
<li>
<p>Following step 3, the following modules will be made hidden from the front page of the stdlib documentation, as they no longer contain any non-deprecated items: <code>std::{i8, i16, i32, i64, i128, isize, u8, u16, u32, u64, u128, usize}</code> (note that this does not apply to either of <code>std::{f32, f64}</code>; see the Alternatives section below)</p>
</li>
</ol>
<h2 id="drawbacks"><a class="header" href="#drawbacks">Drawbacks</a></h2>
<ol>
<li>Deprecation warnings, although these can be easily addressed.</li>
<li>Because associated items cannot be directly imported, code of the form <code>use std::i32::MAX; foo(MAX, MAX);</code>
will most likely be changed to <code>foo(i32::MAX, i32::MAX)</code>, which may be marginally more verbose.
However, given how many <code>MAX</code> and <code>MIN</code> constants there are in the stdlib,
it is easy to argue that such unprefixed constants in the wild would be confusing,
and ought to be avoided in the first place. In any case, users desperate for such behavior
will be trivially capable of replacing <code>use std::i32::MAX;</code> with <code>const MAX: i32 = i32::MAX;</code>.</li>
</ol>
<h2 id="unresolved-questions"><a class="header" href="#unresolved-questions">Unresolved questions</a></h2>
<p>How long should we go before issuing a deprecation warning? At the extreme end of the scale we could wait until the next edition of Rust is released, and have the legacy items only issue deprecation warnings when opting in to the new edition; this would limit disruption only to people opting in to a new edition (and, being merely an trivially-addressed deprecation, would constitute far less of a disruption than any ordinary edition-related change; any impact of the deprecation would be mere noise in light of the broader edition-related impacts). However long it takes, it is the opinion of the author that deprecation should happen <em>eventually</em>, as we should not give the impression that it is the ideal state of things that there should exist three ways of finding the maximum value of an integer type; we expect experienced users to intuitively reach for the new way proposed in this RFC as the “natural” way these constants ought to be implemented, but for the sake of new users it would be a pedagogical wart to allow all three to exist without explicitly calling out the preferred one.</p>
<h2 id="alternatives"><a class="header" href="#alternatives">Alternatives</a></h2>
<ul>
<li>
<p>Unlike the twelve integral modules, the two floating-point modules would not themselves be
entirely deprecated by the changes proposed here. This is because the <code>std::f32</code> and <code>std::f64</code>
modules each contain a <code>consts</code> submodule, in which reside constants of a more mathematical bent
(the sort of things other languages might put in a <code>std::math</code> module).
It is the author’s opinion that special treatment for such “math-oriented constants” (as opposed to
the “machine-oriented constants” addressed by this RFC) is not particularly precedented; e.g. this
separation is not consistent with the existing set of associated functions implemented on <code>f32</code>
and <code>f64</code>, which consist of a mix of both functions concerned with mathematical operations
(e.g. <code>f32::atanh</code>) and functions concerned with machine representation (e.g.
<code>f32::is_sign_negative</code>). However, although earlier versions of this RFC proposed deprecating
<code>std::{f32, f64}::consts</code> (and thereby <code>std::{f32, f64}</code> as well), the current version does not do
so, as this was met with mild resistance (and, in any case, the greatest gains from this RFC will
be its impact on the integral modules).
Ultimately, there is no reason that such a change could not be left to a future RFC if desired.
However, one alternative design would be to turn all the constants in <code>{f32, f64}</code> into associated
consts as well, which would leave no more modules in the standard library that shadow primitive
types. A different alternative would be to restrict this RFC only to the integral modules, leaving
f32 and f64 for a future RFC, since the integral modules are the most important aspect of this
RFC and it would be a shame for them to get bogged down by the unrelated concerns of the
floating-point modules.</p>
</li>
<li>
<p>Rather than immediately deprecating the existing items in the standard library, we could add
the new associated consts without any corresponding deprecations. The downside of this idea is
that we now have <em>three</em> ways of doing the exact same thing, and without deprecation warnings
(and their associated notes) there is little enough to guide users as to which is solution
is the idiomatic one. It is the author’s opinion that there is no downside to deprecation
warnings in this case, especially since mitigation of the warning is trivial (as discussed in
the Drawbacks section above).</p>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="2696-debug-map-key-value.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="2707-dotdot-patterns.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="2696-debug-map-key-value.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="2707-dotdot-patterns.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
