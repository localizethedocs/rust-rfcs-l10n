<!DOCTYPE HTML>
<html lang="en_US" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>2115-argument-lifetimes - The Rust RFC Book</title>


        <!-- Custom HTML head -->
        <script type="text/javascript" src="ltd-provenance.js"></script>
        <script type="text/javascript" src="ltd-current.js"></script>
        <script type="text/javascript" src="../../ltd-config.js"></script>
        <script type="text/javascript" src="../../ltd-flyout.js"></script>

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-0060737d.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-5025baa3.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust RFC Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/rust-lang/rfcs" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <ul>
<li>Feature Name: argument_lifetimes</li>
<li>Start Date: 2017-08-17</li>
<li>RFC PR: <a href="https://github.com/rust-lang/rfcs/pull/2115">rust-lang/rfcs#2115</a></li>
<li>Rust Issue: <a href="https://github.com/rust-lang/rust/issues/44524">rust-lang/rust#44524</a></li>
</ul>
<blockquote>
<p>⚠ Update 4 years later ⚠</p>
<p>Much of this RFC was stabilized, including the wildcard lifetime and elision in <code>impl</code>s.</p>
<p>However, <a href="https://github.com/rust-lang/rust/issues/44524#issuecomment-988260463">the team decided to un-accept</a>
the parts of this RFC related to using lifetimes without a separate definition.</p>
</blockquote>
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<p>Eliminate the need for separately binding lifetime parameters in <code>fn</code>
definitions and <code>impl</code> headers, so that instead of writing:</p>
<pre><code class="language-rust">fn two_args&lt;'b&gt;(arg1: &amp;Foo, arg2: &amp;'b Bar) -&gt; &amp;'b Baz
fn two_lifetimes&lt;'a, 'b&gt;(arg1: &amp;'a Foo, arg2: &amp;'b Bar) -&gt; &amp;'a Quux&lt;'b&gt;

fn nested_lifetime&lt;'inner&gt;(arg: &amp;&amp;'inner Foo) -&gt; &amp;'inner Bar
fn outer_lifetime&lt;'outer&gt;(arg: &amp;'outer &amp;Foo) -&gt; &amp;'outer Bar</code></pre>
<p>you can write:</p>
<pre><code class="language-rust">fn two_args(arg1: &amp;Foo, arg2: &amp;'b Bar) -&gt; &amp;'b Baz
fn two_lifetimes(arg1: &amp;'a Foo, arg2: &amp;'b Bar) -&gt; &amp;'a Quux&lt;'b&gt;

fn nested_lifetime(arg: &amp;&amp;'inner Foo) -&gt; &amp;'inner Bar
fn outer_lifetime(arg: &amp;'outer &amp;Foo) -&gt; &amp;'outer Bar</code></pre>
<p>Lint against leaving off lifetime parameters in structs (like <code>Ref</code> or <code>Iter</code>),
instead nudging people to use explicit lifetimes in this case (but leveraging
the other improvements to make it ergonomic to do so).</p>
<p>The changes, in summary, are:</p>
<ul>
<li>A signature is taken to bind any lifetimes it mentions that are not already bound.</li>
<li>A style lint checks that lifetimes bound in <code>impl</code> headers are multiple
characters long, to reduce potential confusion with lifetimes bound within
functions. (There are some additional, less important lints proposed as well.)</li>
<li>You can write <code>'_</code> to explicitly elide a lifetime, and it is deprecated to
entirely leave off lifetime arguments for non-<code>&amp;</code> types</li>
</ul>
<p><strong>This RFC does not introduce any breaking changes</strong>.</p>
<h2 id="motivation"><a class="header" href="#motivation">Motivation</a></h2>
<p>Today’s system of lifetime elision has a kind of “cliff”. In cases where elision
applies (because the necessary lifetimes are clear from the signature), you
don’t need to write anything:</p>
<pre><code class="language-rust">fn one_arg(arg: &amp;Foo) -&gt; &amp;Baz</code></pre>
<p>But the moment that lifetimes need to be disambiguated, you suddenly have to
introduce a named lifetime parameter and refer to it throughout, which generally
requires changing three parts of the signature:</p>
<pre><code class="language-rust">fn two_args&lt;'a, 'b: 'a&gt;(arg1: &amp;'a Foo, arg2: &amp;'b Bar) -&gt; &amp;'a Baz&lt;'b&gt;</code></pre>
<p>These concerns are just a papercut for advanced Rust users, but they also
present a cliff in the learning curve, one affecting the most novel and
difficult to learn part of Rust. In particular, when first explaining borrowing,
we can say that <code>&amp;</code> means “borrowed” and that borrowed values coming out of a
function must come from borrowed values in its input:</p>
<pre><code class="language-rust">fn accessor(&amp;self) -&gt; &amp;Foo</code></pre>
<p>It’s then not too surprising that when there are multiple input borrows, you
need to disambiguate which one you’re borrowing from. But to learn how to do so,
you must learn not only lifetimes, but also the system of lifetime
parameterization and the subtle way you use it to tie lifetimes together. In
the next section, I’ll show how this RFC provides a gentler learning curve
around lifetimes and disambiguation.</p>
<p>Another point of confusion for newcomers and old hands alike is the fact that
you can leave off lifetime parameters for types:</p>
<pre><code class="language-rust">struct Iter&lt;'a&gt; { ... }

impl SomeType {
    // Iter here implicitly takes the lifetime from &amp;self
    fn iter(&amp;self) -&gt; Iter { ... }</code></pre>
<p>As detailed in the <a href="https://blog.rust-lang.org/2017/03/02/lang-ergonomics.html">ergonomics initiative blog post</a>, this bit of lifetime
elision is considered a mistake: it makes it difficult to see at a glance that
borrowing is occurring, especially if you’re unfamiliar with the types
involved. (The <code>&amp;</code> types, by contrast, are universally known to involve
borrowing.)  This RFC proposes some steps to rectify this situation without
regressing ergonomics significantly.</p>
<p>In short, this RFC seeks to improve the lifetime story for existing and new
users by simultaneously improving clarity and ergonomics. In practice it should
reduce the total occurrences of <code>&lt;</code>, <code>&gt;</code> and <code>'a</code> in signatures, while
<em>increasing</em> the overall clarity and explicitness of the lifetime system.</p>
<h2 id="guide-level-explanation"><a class="header" href="#guide-level-explanation">Guide-level explanation</a></h2>
<p><em>Note: this is a <strong>sketch</strong> of what it might look like to teach someone
lifetimes given this RFC</em>*.</p>
<h3 id="introducing-references-and-borrowing"><a class="header" href="#introducing-references-and-borrowing">Introducing references and borrowing</a></h3>
<p><em>Assume that ownership has already been introduced, but not yet borrowing</em>.</p>
<p>While ownership is important in Rust, it’s not very expressive or convenient by
itself; it’s quite common to want to “lend” a value to a function you’re
calling, without permanently relinquishing ownership of it.</p>
<p>Rust provides support for this kind of temporary lending through <em>references</em>
<code>&amp;T</code>, which signify <em>a temporarily borrowed value of type <code>T</code></em>. So, for example,
you can write:</p>
<pre><code class="language-rust">fn print_vec(vec: &amp;Vec&lt;i32&gt;) {
    for i in vec {
        println!("{}", i);
    }
}</code></pre>
<p>and you designate lending by writing an <code>&amp;</code> on the callee side:</p>
<pre><code class="language-rust">print_vec(&amp;my_vec)</code></pre>
<p>This borrow of <code>my_vec</code> lasts only for the duration of the <code>print_vec</code> call.</p>
<p><em>Imagine more explanation here…</em></p>
<h3 id="functions-that-return-borrowed-data"><a class="header" href="#functions-that-return-borrowed-data">Functions that return borrowed data</a></h3>
<p>So far we’ve only seen functions that <em>consume</em> borrowed data; what about
producing it?</p>
<p>In general, borrowed data is always borrowed <em>from something</em>. And that thing
must always be available for longer than the borrow is. When a function returns,
its stack frame is destroyed, which means that any borrowed data it returns must
come from outside of its stack frame.</p>
<p>The most typical case is producing new borrowed data from already-borrowed
data. For example, consider a “getter” method:</p>
<pre><code class="language-rust">struct MyStruct {
    field1: Foo,
    field2: Bar,
}

impl MyStruct {
    fn get_field1(&amp;self) -&gt; &amp;Foo {
        &amp;self.field1
    }
}</code></pre>
<p>Here we’re making what looks like a “fresh” borrow, it’s “derived” from the
existing borrow of <code>self</code>, and hence fine to return back to our caller; the
actual <code>MyStruct</code> value must live outside our stack frame anyway.</p>
<h4 id="pinpointing-borrows-with-lifetimes"><a class="header" href="#pinpointing-borrows-with-lifetimes">Pinpointing borrows with lifetimes</a></h4>
<p>For Rust to guarantee safety, it needs to track the <em>lifetime</em> of each loan,
which says <em>for what portion of code the loan is valid</em>.</p>
<p>In particular, each <code>&amp;</code> type also has an associated lifetime—but you can
usually leave it off. The reason is that a lot of code works like the getter
example above, where you’re returning borrowed data which could only have come
from the borrowed data you took in. Thus, in <code>get_field1</code> the lifetime for
<code>&amp;self</code> and for <code>&amp;Foo</code> are assumed to be the same.</p>
<p>Rust is conservative about leaving lifetimes off, though: if there’s any
ambiguity, you need to say explicitly state the relationships between the
loans. So for example, the following function signature is <em>not</em> accepted:</p>
<pre><code class="language-rust">fn select(data: &amp;Data, params: &amp;Params) -&gt; &amp;Item;</code></pre>
<p>Rust cannot tell how long the resulting borrow of <code>Item</code> is valid for; it can’t
deduce its lifetime. Instead, you need to connect it to one or both of the input
borrows:</p>
<pre><code class="language-rust">fn select(data: &amp;'data Data, params: &amp;Params) -&gt; &amp;'data Item;
fn select(data: &amp;'both Data, params: &amp;'both Params) -&gt; &amp;'both Item;</code></pre>
<p>This notation lets you <em>name</em> the lifetime associated with a borrow and refer to
it later:</p>
<ul>
<li>
<p>In the first variant, we name the <code>Data</code> borrow lifetime <code>'data</code>, and make
clear that the returned <code>Item</code> borrow is valid for the same lifetime.</p>
</li>
<li>
<p>In the second variant, we give <em>both</em> input lifetimes the <em>same</em> name <code>'both</code>,
which is a way of asking the compiler to determine their “intersection”
(i.e. the period for which both of the loans are active); we then say the
returned <code>Item</code> borrow is valid for that period (which means it may incorporate
data from both of the input borrows).</p>
</li>
</ul>
<h3 id="structs-and-lifetimes"><a class="header" href="#structs-and-lifetimes"><code>struct</code>s and lifetimes</a></h3>
<p>Sometimes you need to build data types that contain borrowed data. Since those
types can then be used in many contexts, you can’t say in advance what the
lifetime of those borrows will be. Instead, you must take it as a parameter:</p>
<pre><code class="language-rust">struct VecIter&lt;'vec, T&gt; {
    vec: &amp;'vec Vec&lt;T&gt;,
    index: usize,
}</code></pre>
<p>Here we’re defining a type for iterating over a vector, without requiring
<em>ownership</em> of that vector. To do so, we store a <em>borrow</em> of the vector. But
because our new <code>VecIter</code> struct contains borrowed data, it needs to surface
that fact, and the lifetime connected with it. It does so by taking an explicit
<code>'vec</code> parameter for the relevant lifetime, and using it within.</p>
<p>When using this struct, you can apply explicitly-named lifetimes as usual:</p>
<pre><code class="language-rust">impl&lt;T&gt; Vec&lt;T&gt; {
    fn iter(&amp;'vec self) -&gt; VecIter&lt;'vec, T&gt; { ... }
}</code></pre>
<p>However, in cases like this example, we would normally be able to leave off the
lifetime with <code>&amp;</code>, since there’s only one source of data we could be borrowing
from. We can do something similar with structs:</p>
<pre><code class="language-rust">impl&lt;T&gt; Vec&lt;T&gt; {
    fn iter(&amp;self) -&gt; VecIter&lt;'_, T&gt; { ... }
}</code></pre>
<p>The <code>'_</code> marker makes clear to the reader that <em>borrowing is happening</em>, which
might not otherwise be clear.</p>
<h3 id="impl-blocks-and-lifetimes"><a class="header" href="#impl-blocks-and-lifetimes"><code>impl</code> blocks and lifetimes</a></h3>
<p>When writing an <code>impl</code> block for a structure that takes a lifetime parameter,
you can give that parameter a name, which you should strive to make
<em>meaningful</em>:</p>
<pre><code class="language-rust">impl&lt;T&gt; VecIter&lt;'vec, T&gt; { ... }</code></pre>
<p>This name can then be referred to in the body:</p>
<pre><code class="language-rust">impl&lt;T&gt; VecIter&lt;'vec, T&gt; {
    fn foo(&amp;self) -&gt; &amp;'vec T { ... }
    fn bar(&amp;self, arg: &amp;'a Bar) -&gt; &amp;'a Bar { ... }
}</code></pre>
<p>If the type’s lifetime is not relevant, you can leave it off using <code>'_</code>:</p>
<pre><code class="language-rust">impl&lt;T&gt; VecIter&lt;'_, T&gt; { ... }</code></pre>
<h2 id="reference-level-explanation"><a class="header" href="#reference-level-explanation">Reference-level explanation</a></h2>
<p><strong>Note: these changes are designed to <em>not</em> require a new edition</strong>. They do
expand our naming style lint, however.</p>
<h3 id="lifetimes-in-impl-headers"><a class="header" href="#lifetimes-in-impl-headers">Lifetimes in <code>impl</code> headers</a></h3>
<p>When writing an <code>impl</code> header, you can mention lifetimes without binding them in
the generics list. Any lifetimes that are not already in scope (which, today,
means any lifetime whatsoever) is treated as being bound as a parameter of the
<code>impl</code>.</p>
<p>Thus, where today you would write:</p>
<pre><code class="language-rust">impl&lt;'a&gt; Iterator for MyIter&lt;'a&gt; { ... }
impl&lt;'a, 'b&gt; SomeTrait&lt;'a&gt; for SomeType&lt;'a, 'b&gt; { ... }</code></pre>
<p>tomorrow you would write:</p>
<pre><code class="language-rust">impl Iterator for MyIter&lt;'iter&gt; { ... }
impl SomeTrait&lt;'tcx, 'gcx&gt; for SomeType&lt;'tcx, 'gcx&gt; { ... }</code></pre>
<p>If any lifetime names are explicitly bound, they all must be.</p>
<p>This change goes hand-in-hand with a convention that lifetimes introduced in
<code>impl</code> headers (and perhaps someday, modules) should be multiple characters,
i.e. “meaningful” names, to reduce the chance of collision with typical <code>'a</code>
usage in functions.</p>
<h3 id="lifetimes-in-fn-signatures"><a class="header" href="#lifetimes-in-fn-signatures">Lifetimes in <code>fn</code> signatures</a></h3>
<p>When writing a <code>fn</code> declaration, if a lifetime appears that is not already in
scope, it is taken to be a new binding, i.e. treated as a parameter to the
function.</p>
<p>Thus, where today you would write:</p>
<pre><code class="language-rust">fn elided(&amp;self) -&gt; &amp;str
fn two_args&lt;'b&gt;(arg1: &amp;Foo, arg2: &amp;'b Bar) -&gt; &amp;'b Baz
fn two_lifetimes&lt;'a, 'b: 'a&gt;(arg1: &amp;'a Foo, arg2: &amp;'b Bar) -&gt; &amp;'a Quux&lt;'b&gt;

impl&lt;'a&gt; MyStruct&lt;'a&gt; {
    fn foo(&amp;self) -&gt; &amp;'a str
    fn bar&lt;'b&gt;(&amp;self, arg: &amp;'b str) -&gt; &amp;'b str
}

fn take_fn_simple(f: fn(&amp;Foo) -&gt; &amp;Bar)
fn take_fn&lt;'a&gt;(x: &amp;'a u32, y: for&lt;'b&gt; fn(&amp;'a u32, &amp;'b u32, &amp;'b u32))</code></pre>
<p>tomorrow you would write:</p>
<pre><code class="language-rust">fn elided(&amp;self) -&gt; &amp;str
fn two_args(arg1: &amp;Foo, arg2: &amp;'arg2 Bar) -&gt; &amp;'arg2 Baz
fn two_lifetimes(arg1: &amp;'arg1 Foo, arg2: &amp;'arg2 Bar) -&gt; &amp;'arg1 Quux&lt;'arg2&gt;

impl MyStruct&lt;'A&gt; {
    fn foo(&amp;self) -&gt; &amp;'A str
    fn bar(&amp;self, arg: &amp;'b str) -&gt; &amp;'b str
}

fn take_fn_simple(f: fn(&amp;Foo) -&gt; &amp;Bar)
fn take_fn(x: &amp;'a u32, y: for&lt;'b&gt; fn(&amp;'a u32, &amp;'b u32, &amp;'b u32))</code></pre>
<p>If any lifetime names are explicitly bound, they all must be.</p>
<p>For higher-ranked types (including cases like <code>Fn</code> syntax), elision works as it
does today. However, <strong>it is an error to mention a lifetime in a higher-ranked
type that hasn’t been explicitly bound</strong> (either at the outer <code>fn</code> definition,
or within an explicit <code>for&lt;&gt;</code>). These cases are extremely rare, and making them
an error keeps our options open for providing an interpretation later on.</p>
<p>Similarly, if a <code>fn</code> definition is nested inside another <code>fn</code> definition, it is
an error to mention lifetimes from that outer definition (without binding them
explicitly). This is again intended for future-proofing and clarity, and is an
edge case.</p>
<h3 id="the-wildcard-lifetime"><a class="header" href="#the-wildcard-lifetime">The wildcard lifetime</a></h3>
<p>When referring to a type (other than <code>&amp;</code>/<code>&amp;mut</code>) that requires lifetime
arguments, it is deprecated to leave off those parameters.</p>
<p>Instead, you can write a <code>'_</code> for the parameters, rather than giving a lifetime
name, which will have identical behavior to leaving them off today.</p>
<p>Thus, where today you would write:</p>
<pre><code class="language-rust">fn foo(&amp;self) -&gt; Ref&lt;SomeType&gt;
fn iter(&amp;self) -&gt; Iter&lt;T&gt;</code></pre>
<p>tomorrow you would write:</p>
<pre><code class="language-rust">fn foo(&amp;self) -&gt; Ref&lt;'_, SomeType&gt;
fn iter(&amp;self) -&gt; Iter&lt;'_, T&gt;</code></pre>
<h3 id="additional-lints"><a class="header" href="#additional-lints">Additional lints</a></h3>
<p>Beyond the change to the style lint for <code>impl</code> header lifetimes, two more lints
are provided:</p>
<ul>
<li>
<p>One deny-by-default lint against <code>fn</code> definitions in which an unbound lifetime
occurs exactly once. Such lifetimes can always be replaced by <code>'_</code> (or for
<code>&amp;</code>, elided altogether), and giving an explicit name is confusing at best, and
indicates a typo at worst.</p>
</li>
<li>
<p>An expansion of Clippy’s lints so that they warn when a signature contains
other unnecessary elements, e.g. when it could be using elision or could leave
off lifetimes from its generics list.</p>
</li>
</ul>
<h2 id="drawbacks"><a class="header" href="#drawbacks">Drawbacks</a></h2>
<p>The style lint for <code>impl</code> headers could introduce some amount of churn. This
could be mitigated by only applying that lint for lifetimes not bound in the
generics list.</p>
<p>The fact that lifetime parameters are not bound in an out-of-band way is
somewhat unusual and might be confusing—but then, so are lifetime parameters!
Putting the bindings out of band buys us very little, as argued in the next
section.</p>
<p>It’s possible that the inconsistency with type parameters, which must always be
bound explicitly, will be confusing. In particular, lifetime parameters for
<code>struct</code> definitions appear side-by-side with parameter lists, but elsewhere are
bound differently. However, users are virtually certain to encounter type
generics prior to explicit lifetime generics, and if they try to follow the same
style – by binding lifetime parameters explicitly – that will work just fine
(but may be linted in Clippy as unnecessary).</p>
<p>Requiring a <code>'_</code> rather than being able to leave off lifetimes altogether may be
a slight decrease in ergonomics in some cases. In particular, <code>SomeType&lt;'_&gt;</code> is
pretty sigil-heavy.</p>
<p>Cases where you could write <code>fn foo&lt;'a, 'b: 'a&gt;(...)</code> now need the <code>'b: 'a</code> to
be given in a <code>where</code> clause, which might be slightly more verbose. These are
relatively rare, though, due to our type well-formedness rule.</p>
<p>Otherwise, it’s a bit hard to see drawbacks here: nothings is made less explicit
or harder to determine, since the binding structure continues to be completely
unambiguous; ergonomics and, arguably, learnability both improve. And
signatures become less noisy and easier to read.</p>
<h2 id="rationale-and-alternatives"><a class="header" href="#rationale-and-alternatives">Rationale and Alternatives</a></h2>
<h3 id="core-rationale"><a class="header" href="#core-rationale">Core rationale</a></h3>
<p>The key insight of the proposed design is that out-of-band bindings for lifetime
parameters is buying us very little today:</p>
<ul>
<li>For free functions, it’s completely unnecessary; the only lifetime “in scope”
is <code>'static</code>, so everything else <em>must</em> be a parameter.</li>
<li>For functions within <code>impl</code> blocks, it is solely serving the purpose of
distinguishing between lifetimes bound by the <code>impl</code> header and those bounds
by the <code>fn</code>.</li>
</ul>
<p>While this might change if we ever allow modules to be parameterized by
lifetimes, it won’t change in any essential way: the point is that there are
generally going to be <em>very</em> few in-scope lifetimes when writing a function
signature. So the premise is that we can use naming conventions to distinguish
between the <code>impl</code> header (or eventual module headers) and <code>fn</code> bindings.</p>
<p>Alternatively, we could instead distinguish these cases at the use-site, for
example by writing <code>outer('a)</code> or some such to refer to the <code>impl</code> block
bindings.</p>
<h3 id="possible-extension-or-alternative-backreferences"><a class="header" href="#possible-extension-or-alternative-backreferences">Possible extension or alternative: “backreferences”</a></h3>
<p>A different approach would be referring to elided lifetimes through their
parameter name, like so:</p>
<pre><code class="language-rust">fn scramble(&amp;self, arg: &amp;Foo) -&gt; &amp;'self Bar</code></pre>
<p>The idea is that each parameter that involves a single, elided lifetime will be
understood to <em>bind</em> a lifetime using that parameter’s name.</p>
<p>Earlier iterations of this RFC combined these “backreferences” with the rest of
the proposal, but this was deemed too confusing and error-prone, and in
particular harmed readability by requiring you to scan both lifetime mentions
<em>and</em> parameter names.</p>
<p>We could consider <em>only</em> allowing “backreferences” (i.e. references to argument
names), and otherwise keeping binding as-is. However, this has a few downsides:</p>
<ul>
<li>It doesn’t help with <code>impl</code> headers</li>
<li>It doesn’t entirely eliminate the need for lifetimes in generics lists for
<code>fn</code> definitions, meaning that there’s still <em>another</em> step of learning to
reach fully expressive lifetimes.</li>
<li>As @rpjohnst <a href="https://github.com/rust-lang/rfcs/pull/2115#issuecomment-324147717">argued</a>,
backreferences can end up reinforcing an importantly-wrong mental model, namely
that you’re borrowing from an argument, rather than from its (already-borrowed)
contents. By contrast, requiring you to write the lifetime reinforces the opposite
idea: that borrowing has already occurred, and that what you’re tying together is
that existing lifetime.</li>
<li>On a similar note, using backreferences to tie multiple arguments together is
often nonsensical, since there’s no sense in which one argument is the “primary
definer” of the lifetime.</li>
</ul>
<h3 id="alternatives"><a class="header" href="#alternatives">Alternatives</a></h3>
<p>We could consider using this as an opportunity to eliminate <code>'</code> altogether, by
tying these improvements to a new way of providing lifetimes, e.g. <code>&amp;ref(x) T</code>.</p>
<p>The <a href="(https://internals.rust-lang.org/t/lang-team-minutes-elision-2-0/5182)">internals thread</a> on this topic covers a wide array of syntactic options
for leaving off a struct lifetime (which is <code>'_</code> in this RFC), including: <code>_</code>,
<code>&amp;</code>, <code>ref</code>. The choice of <code>'_</code> was driven by two factors: it’s short, and it’s
self-explanatory, given our use of wildcards elsewhere. On the other hand, the
syntax is pretty clunky.</p>
<p>As mentioned above, we could consider alternatives to the case distinction in
lifetime variables, instead using something like <code>outer('a)</code> to refer to
lifetimes from an <code>impl</code> header.</p>
<h2 id="unresolved-questions"><a class="header" href="#unresolved-questions">Unresolved questions</a></h2>
<ul>
<li>How to treat examples like <code>fn f() -&gt; &amp;'a str { "static string" }</code>.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="2113-dyn-trait-syntax.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="2116-alloc-me-maybe.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="2113-dyn-trait-syntax.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="2116-alloc-me-maybe.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
