<!DOCTYPE HTML>
<html lang="en_US" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>1859-try-trait - The Rust RFC Book</title>


        <!-- Custom HTML head -->
        <script type="text/javascript" src="ltd-provenance.js"></script>
        <script type="text/javascript" src="ltd-current.js"></script>
        <script type="text/javascript" src="../../ltd-config.js"></script>
        <script type="text/javascript" src="../../ltd-flyout.js"></script>

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-0060737d.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-5025baa3.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust RFC Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/rust-lang/rfcs" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <ul>
<li>Feature Name: <code>try_trait</code></li>
<li>Start Date: 2017-01-19</li>
<li>RFC PR: <a href="https://github.com/rust-lang/rfcs/pull/1859">rust-lang/rfcs#1859</a></li>
<li>Rust Issue: <a href="https://github.com/rust-lang/rust/issues/31436">rust-lang/rust#31436</a></li>
</ul>
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<p>Introduce a trait <code>Try</code> for customizing the behavior of the <code>?</code>
operator when applied to types other than <code>Result</code>.</p>
<h2 id="motivation"><a class="header" href="#motivation">Motivation</a></h2>
<h3 id="using--with-types-other-than-result"><a class="header" href="#using--with-types-other-than-result">Using <code>?</code> with types other than <code>Result</code></a></h3>
<p>The <code>?</code> operator is very useful for working with <code>Result</code>, but it
really applies to any sort of short-circuiting computation. As the
existence and popularity of the <code>try_opt!</code> macro confirms, it is
common to find similar patterns when working with <code>Option</code> values and
other types. Consider these two lines <a href="https://github.com/rust-lang-nursery/rustfmt/blob/29e89136957b9eedf54255c8059f8a51fbd82a68/src/expr.rs#L294-L295">from rustfmt</a>:</p>
<pre><code class="language-rust">let lhs_budget = try_opt!(width.checked_sub(prefix.len() + infix.len()));
let rhs_budget = try_opt!(width.checked_sub(suffix.len()));</code></pre>
<p>The overarching goal of this RFC is to allow lines like those to be
written using the <code>?</code> operator:</p>
<pre><code class="language-rust">let lhs_budget = width.checked_sub(prefix.len() + infix.len())?;
let rhs_budget = width.checked_sub(suffix.len())?;</code></pre>
<p>Naturally, this has all the advantages that <code>?</code> offered over <code>try!</code> to begin with:</p>
<ul>
<li>suffix notation, allowing for more fluent APIs;</li>
<li>concise, yet noticeable.</li>
</ul>
<p>However, there are some tensions to be resolved. We don’t want to
hardcode the behavior of <code>?</code> to <code>Result</code> and <code>Option</code>, rather we would
like to make something more extensible. For example, futures defined
using the <code>futures</code> crate typically return one of three values:</p>
<ul>
<li>a successful result;</li>
<li>a “not ready yet” value, indicating that the caller should try again later;</li>
<li>an error.</li>
</ul>
<p>Code working with futures typically wants to proceed only if a
successful result is returned. “Not ready yet” values as well as
errors should be propagated to the caller. This is exemplified by
<a href="https://github.com/alexcrichton/futures-rs/blob/4b027f4ac668e5024baeb51ad7146652df0b4380/src/poll.rs#L6">the <code>try_ready!</code> macro used in futures</a>. If
this 3-state value were written as an enum:</p>
<pre><code class="language-rust">enum Poll&lt;T, E&gt; {
    Ready(T),
    NotReady,
    Error(E),
}</code></pre>
<p>Then one could replace code like <code>try_ready!(self.stream.poll())</code> with
<code>self.stream.poll()?</code>.</p>
<p>(Currently, the type <code>Poll</code> in the futures crate is defined
differently, but
<a href="https://github.com/rust-lang/rfcs/issues/1718#issuecomment-273323992">alexcrichton indicates</a>
that in fact the original design <em>did</em> use an <code>enum</code> like <code>Poll</code>, and
it was changed to be more compatible with the existing <code>try!</code> macro,
and hence could be changed back to be more in line with this RFC.)</p>
<h3 id="support-interconversion-but-with-caution"><a class="header" href="#support-interconversion-but-with-caution">Support interconversion, but with caution</a></h3>
<p>The existing <code>try!</code> macro and <code>?</code> operator already allow a limit
amount of type conversion, specifically in the error case. That is, if
you apply <code>?</code> to a value of type <code>Result&lt;T, E&gt;</code>, the surrounding
function can have some other return type <code>Result&lt;U, F&gt;</code>, so long as
the error types are related by the <code>From</code> trait (<code>F: From&lt;E&gt;</code>). The
idea is that if an error occurs, we will wind up returning
<code>F::from(err)</code>, where <code>err</code> is the actual error. This is used (for
example) to “upcast” various errors that can occur in a function into
a common error type (e.g., <code>Box&lt;Error&gt;</code>).</p>
<p>In some cases, it would be useful to be able to convert even more
freely. At the same time, there may be some cases where it makes sense
to allow interconversion between types. For example,
<a href="https://github.com/rust-lang/rfcs/issues/1718#issuecomment-241631468">a library might wish to permit a <code>Result&lt;T, HttpError&gt;</code> to be converted into an <code>HttpResponse</code></a>
(or vice versa). Or, in the futures example given above, we might wish
to apply <code>?</code> to a <code>Poll</code> value and use that in a function that itself
returns a <code>Poll</code>:</p>
<pre><code class="language-rust">fn foo() -&gt; Poll&lt;T, E&gt; {
    let x = bar()?; // propagate error case
}</code></pre>
<p>and we might wish to do the same, but in a function returning a <code>Result</code>:</p>
<pre><code class="language-rust">fn foo() -&gt; Result&lt;T, E&gt; {
    let x = bar()?; // propagate error case
}</code></pre>
<p>However, we wish to be sure that this sort of interconversion is
<em>intentional</em>. In particular, <code>Result</code> is often used with a semantic
intent to mean an “unhandled error”, and thus if <code>?</code> is used to
convert an error case into a “non-error” type (e.g., <code>Option</code>), there
is a risk that users accidentally overlook error cases. To mitigate
this risk, we adopt certain conventions (see below) in that case to
help ensure that “accidental” interconversion does not occur.</p>
<h2 id="detailed-design"><a class="header" href="#detailed-design">Detailed design</a></h2>
<h3 id="playground"><a class="header" href="#playground">Playground</a></h3>
<p>Note: if you wish to experiment,
<a href="https://play.rust-lang.org/?gist=9ef8effa0c1c81bc8bb8dccb07505c54&amp;version=stable&amp;backtrace=0">this Rust playground link</a>
contains the traits and impls defined herein.</p>
<h3 id="desugaring-and-the-try-trait"><a class="header" href="#desugaring-and-the-try-trait">Desugaring and the <code>Try</code> trait</a></h3>
<p>The desugaring of the <code>?</code> operator is changed to the following, where
<code>Try</code> refers to a new trait that will be introduced shortly:</p>
<pre><code class="language-rust">match Try::into_result(expr) {
    Ok(v) =&gt; v,

    // here, the `return` presumes that there is
    // no `catch` in scope:
    Err(e) =&gt; return Try::from_error(From::from(e)),
}</code></pre>
<p>If a <code>catch</code> is in scope, the desugaring is roughly the same, except
that instead of returning, we would break out of the <code>catch</code> with <code>e</code>
as the error value.</p>
<p>This definition refers to a trait <code>Try</code>. This trait is defined in
<code>libcore</code> in the <code>ops</code> module; it is also mirrored in <code>std::ops</code>. The
trait <code>Try</code> is defined as follows:</p>
<pre><code class="language-rust">trait Try {
    type Ok;
    type Error;
    
    /// Applies the "?" operator. A return of `Ok(t)` means that the
    /// execution should continue normally, and the result of `?` is the
    /// value `t`. A return of `Err(e)` means that execution should branch
    /// to the innermost enclosing `catch`, or return from the function.
    ///
    /// If an `Err(e)` result is returned, the value `e` will be "wrapped"
    /// in the return type of the enclosing scope (which must itself implement
    /// `Try`). Specifically, the value `X::from_error(From::from(e))`
    /// is returned, where `X` is the return type of the enclosing function.
    fn into_result(self) -&gt; Result&lt;Self::Ok, Self::Error&gt;;

    /// Wrap an error value to construct the composite result. For example,
    /// `Result::Err(x)` and `Result::from_error(x)` are equivalent.
    fn from_error(v: Self::Error) -&gt; Self;

    /// Wrap an OK value to construct the composite result. For example,
    /// `Result::Ok(x)` and `Result::from_ok(x)` are equivalent.
    ///
    /// *The following function has an anticipated use, but is not used
    /// in this RFC. It is included because we would not want to stabilize
    /// the trait without including it.*
    fn from_ok(v: Self::Ok) -&gt; Self;
}</code></pre>
<h3 id="initial-impls"><a class="header" href="#initial-impls">Initial impls</a></h3>
<p>libcore will also define the following impls for the following types.</p>
<p><strong>Result</strong></p>
<p>The <code>Result</code> type includes an impl as follows:</p>
<pre><code class="language-rust">impl&lt;T,E&gt; Try for Result&lt;T, E&gt; {
    type Ok = T;
    type Error = E;

    fn into_result(self) -&gt; Self {
        self
    }
    
    fn from_ok(v: T) -&gt; Self {
        Ok(v)
    }

    fn from_error(v: E) -&gt; Self {
        Err(v)
    }
}</code></pre>
<p>This impl permits the <code>?</code> operator to be used on results in the same
fashion as it is used today.</p>
<p><strong>Option</strong></p>
<p>The <code>Option</code> type includes an impl as follows:</p>
<pre><code class="language-rust">mod option {
    pub struct Missing;

    impl&lt;T&gt; Try for Option&lt;T&gt;  {
        type Ok = T;
        type Error = Missing;

        fn into_result(self) -&gt; Result&lt;T, Missing&gt; {
            self.ok_or(Missing)
        }
    
        fn from_ok(v: T) -&gt; Self {
            Some(v)
        }

        fn from_error(_: Missing) -&gt; Self {
            None
        }
    }
}    </code></pre>
<p>Note the use of the <code>Missing</code> type, which is specific to <code>Option</code>,
rather than a generic type like <code>()</code>. This is intended to mitigate the
risk of accidental <code>Result -&gt; Option</code> conversion. In particular, we
will only allow conversion from <code>Result&lt;T, Missing&gt;</code> to <code>Option&lt;T&gt;</code>.
The idea is that if one uses the <code>Missing</code> type as an error, that
indicates an error that can be “handled” by converting the value into
an <code>Option</code>. (This rationale was originally
<a href="https://github.com/rust-lang/rfcs/pull/1859#issuecomment-282091865">explained in a comment by Aaron Turon</a>.)</p>
<p>The use of a fresh type like <code>Missing</code> is recommended whenever one
implements <code>Try</code> for a type that does not have the <code>#[must_use]</code>
attribute (or, more semantically, that does not represent an
“unhandled error”).</p>
<h3 id="interaction-with-type-inference"><a class="header" href="#interaction-with-type-inference">Interaction with type inference</a></h3>
<p>Supporting more types with the <code>?</code> operator can be somewhat limiting
for type inference. In particular, if <code>?</code> only works on values of type
<code>Result</code> (as did the old <code>try!</code> macro), then <code>x?</code> forces the type of
<code>x</code> to be <code>Result</code>. This can be significant in an expression like
<code>vec.iter().map(|e| ...).collect()?</code>, since the behavior of the
<code>collect()</code> function is determined by the type it returns. In the old
<code>try!</code> macro days, <code>collect()</code> would have been forced to return a
<code>Result&lt;_, _&gt;</code> – but <code>?</code> leaves it more open.</p>
<p>This implies that callers of <code>collect()</code> will have to either use
<code>try!</code>, or write an explicit type annotation, something like this:</p>
<pre><code class="language-rust">vec.iter().map(|e| ...).collect::&lt;Result&lt;_, _&gt;&gt;()?</code></pre>
<p>Another problem (which also occurs with <code>try!</code>) stems from the use of
<code>From</code> to interconvert errors. This implies that ‘nested’ uses of <code>?</code>
are
<a href="https://internals.rust-lang.org/t/pre-rfc-fold-ok-is-composable-internal-iteration/4434/23">often insufficiently constrained for inference to make a decision</a>.
The problem here is that the nested use of <code>?</code> effectively returns
something like <code>From::from(From::from(err))</code> – but only the starting
point (<code>err</code>) and the final type are constrained. The inner type is
not.  It’s unclear how to address this problem without introducing
some form of inference fallback, which seems orthogonal from this RFC.</p>
<h2 id="how-we-teach-this"><a class="header" href="#how-we-teach-this">How We Teach This</a></h2>
<h3 id="where-and-how-to-document-it"><a class="header" href="#where-and-how-to-document-it">Where and how to document it</a></h3>
<p>This RFC proposes extending an existing operator to permit the same
general short-circuiting pattern to be used with more types. When
initially teaching the <code>?</code> operator, it would probably be best to
stick to examples around <code>Result</code>, so as to avoid confusing the
issue. However, at that time we can also mention that <code>?</code> can be
overloaded and offer a link to more comprehensive documentation, which
would show how <code>?</code> can be applied to <code>Option</code> and then explain the
desugaring and how one goes about implementing one’s own impls.</p>
<p>The reference will have to be updated to include the new trait,
naturally.  The Rust book and Rust by example should be expanded to
include coverage of the <code>?</code> operator being used on a variety of types.</p>
<p>One important note is that we should publish guidelines explaining
when it is appropriate to introduce a special error type (analogous to
the <code>option::Missing</code> type included in this RFC) for use with <code>?</code>. As
expressed earlier, the rule of thumb ought to be that a special error
type should be used whenever implementing <code>Try</code> for a type that does
not, semantically, indicates an unhandled error (i.e., a type for
which the <code>#[must_use]</code> attribute would be inappropriate).</p>
<h3 id="error-messages"><a class="header" href="#error-messages">Error messages</a></h3>
<p>Another important factor is the error message when <code>?</code> is used in a
function whose return type is not suitable. The current error message
in this scenario is quite opaque and directly references the <code>Carrer</code>
trait. A better message would consider various possible cases.</p>
<p><strong>Source type does not implement Try.</strong> If <code>?</code> is applied to a value
that does not implement the <code>Try</code> trait (for any return type), we can
give a message like</p>
<blockquote>
<p><code>?</code> cannot be applied to a value of type <code>Foo</code></p>
</blockquote>
<p><strong>Return type does not implement Try.</strong> Otherwise, if the return type
of the function does not implement <code>Try</code>, then we can report something
like this (in this case, assuming a fn that returns <code>()</code>):</p>
<blockquote>
<p>cannot use the <code>?</code> operator in a function that returns <code>()</code></p>
</blockquote>
<p>or perhaps if we want to be more strictly correct:</p>
<blockquote>
<p><code>?</code> cannot be applied to a <code>Result&lt;T, Box&lt;Error&gt;&gt;</code> in a function that returns <code>()</code></p>
</blockquote>
<p>At this point, we could likely make a suggestion such as “consider
changing the return type to <code>Result&lt;(), Box&lt;Error&gt;&gt;</code>”.</p>
<p>Note however that if <code>?</code> is used within an impl of a trait method, or
within <code>main()</code>, or in some other context where the user is not free
to change the type signature (modulo
<a href="https://github.com/rust-lang/rfcs/pull/1937">RFC 1937</a>), then we
should not make this suggestion. In the case of an impl of a trait
defined in the current crate, we could consider suggesting that the
user change the definition of the trait.</p>
<p><strong>Errors cannot be interconverted.</strong> Finally, if the return type <code>R</code>
does implement <code>Try</code>, but a value of type <code>R</code> cannot be constructed
from the resulting error (e.g., the function returns <code>Option&lt;T&gt;</code>, but
<code>?</code> is applied to a <code>Result&lt;T, ()&gt;</code>), then we can instead report
something like this:</p>
<blockquote>
<p><code>?</code> cannot be applied to a <code>Result&lt;T, Box&lt;Error&gt;&gt;</code> in a function that returns <code>Option&lt;T&gt;</code></p>
</blockquote>
<p>This last part can be tricky, because the error can result for one of
two reasons:</p>
<ul>
<li>a missing <code>From</code> impl, perhaps a mistake;</li>
<li>the impl of <code>Try</code> is intentionally limited, as in the case of <code>Option</code>.</li>
</ul>
<p>We could help the user diagnose this, most likely, by offering some labels
like the following:</p>
<pre><code class="language-rust">22 | fn foo(...) -&gt; Option&lt;T&gt; {
   |                --------- requires an error of type `option::Missing`
   |     write!(foo, ...)?;
   |     ^^^^^^^^^^^^^^^^^ produces an error of type `io::Error`
   | }</code></pre>
<p><strong>Consider suggesting the use of catch.</strong> Especially in contexts
where the return type cannot be changed, but possibly in other
contexts as well, it would make sense to advise the user about how
they can catch an error instead, if they chose. Once <code>catch</code> is
stabilized, this could be as simple as saying “consider introducing a
<code>catch</code>, or changing the return type to …”. In the absence of
<code>catch</code>, we would have to suggest the introduction of a <code>match</code> block.</p>
<p><strong>Extended error message text.</strong> In the extended error message, for
those cases where the return type cannot easily be changed, we might
consider suggesting that the fallible portion of the code is
refactored into a helper function, thus roughly following this
pattern:</p>
<pre><code class="language-rust">fn inner_main() -&gt; Result&lt;(), HLError&gt; {
    let args = parse_cmdline()?;
    // all the real work here
}

fn main() {
    process::exit(match inner_main() {
        Ok(_) =&gt; 0,
        Err(ref e) =&gt; {
            writeln!(io::stderr(), "{}", e).unwrap();
            1
        }
    });
}</code></pre>
<p><strong>Implementation note:</strong> it may be helpful for improving the error
message if <code>?</code> were not desugared when lowering from AST to HIR but
rather when lowering from HIR to MIR; however, the use of source
annotations may suffice.</p>
<h2 id="drawbacks"><a class="header" href="#drawbacks">Drawbacks</a></h2>
<p>One drawback of supporting more types is that type inference becomes
harder. This is because an expression like <code>x?</code> no longer implies that
the type of <code>x</code> is <code>Result</code>.</p>
<p>There is also the risk that results or other “must use” values are
accidentally converted into other types. This is mitigated by the use
of newtypes like <code>option::Missing</code> (rather than, say, a generic type
like <code>()</code>).</p>
<h2 id="alternatives"><a class="header" href="#alternatives">Alternatives</a></h2>
<h3 id="the-essentialist-approach"><a class="header" href="#the-essentialist-approach">The “essentialist” approach</a></h3>
<p>When this RFC was first proposed, the <code>Try</code> trait looked quite different:</p>
<pre><code class="language-rust">trait Try&lt;E&gt; {
    type Success;
    fn try(self) -&gt; Result&lt;Self::Success, E&gt;;
}    </code></pre>
<p>In this version, <code>Try::try()</code> converted either to an unwrapped
“success” value, or to a error value to be propagated. This allowed
the conversion to take into account the context (i.e., one might
interconvert from a <code>Foo</code> to a <code>Bar</code> in some distinct way as one
interconverts from a <code>Foo</code> to a <code>Baz</code>).</p>
<p>This was changed to adopt the current “reductionist” approach, in
which all values are <em>first</em> interconverted (in a context independent
way) to an OK/Error value, and then interconverted again to match the
context using <code>from_error</code>. The reasons for the change are roughly as follows:</p>
<ul>
<li>The resulting trait feels simpler and more straight-forward. It also
supports <code>from_ok</code> in a simple fashion.</li>
<li>Context dependent behavior has the potential to be quite surprising.</li>
<li>The use of specific types like <code>option::Missing</code> mitigates the
primary concern that motivated the original design (avoiding overly
loose interconversion).</li>
<li>It is nice that the use of the <code>From</code> trait is now part of the <code>?</code> desugaring,
and hence supported universally across all types.</li>
<li>The interaction with the orphan rules is made somewhat nicer. For example,
using the essentialist alternative, one might like to have a trait
that permits a <code>Result</code> to be returned in a function that yields <code>Poll</code>.
That would require an impl like this <code>impl&lt;T,E&gt; Try&lt;Poll&lt;T,E&gt;&gt; for Result&lt;T, E&gt;</code>,
but this impl runs afoul of the orphan rules.</li>
</ul>
<h3 id="traits-implemented-over-higher-kinded-types"><a class="header" href="#traits-implemented-over-higher-kinded-types">Traits implemented over higher-kinded types</a></h3>
<p>The desire to avoid “free interconversion” between <code>Result</code> and
<code>Option</code> seemed to suggest that the <code>Carrier</code> trait ought to be
defined over higher-kinded types (or generic associated types) in some
form. The most obvious downside of such a design is that Rust does not
offer higher-kinded types nor anything equivalent to them today, and
hence we would have to block on that design effort. But it also turns
out that HKT is
<a href="https://github.com/rust-lang/rust/pull/35056#issuecomment-240129923">not a particularly good fit for the problem</a>. To
start, consider what “kind” the <code>Self</code> parameter on the <code>Try</code> trait
would have to have.  If we were to implement <code>Try</code> on <code>Option</code>, it
would presumably then have kind <code>type -&gt; type</code>, but we also wish to
implement <code>Try</code> on <code>Result</code>, which has kind <code>type -&gt; type -&gt; type</code>. There has even been talk of implementing <code>Try</code> for simple types
like <code>bool</code>, which simply have kind <code>type</code>. More generally, the
problems encountered are quite similar to the problems that
<a href="https://www.microsoft.com/en-us/research/wp-content/uploads/1997/01/multi.pdf">Simon Peyton-Jones describes in attempting to model collections using HKT</a>:
we wish the <code>Try</code> trait to be implemented in a great number of
scenarios.  Some of them, like converting <code>Result&lt;T,E&gt;</code> to
<code>Result&lt;U,F&gt;</code>, allow for the type of the success value and the error
value to both be changed, though not arbitrarily (subject to the
<code>From</code> trait, in particular).  Others, like converting <code>Option&lt;T&gt;</code> to
<code>Option&lt;U&gt;</code>, allow only the type of the success value to change,
whereas others (like converting <code>bool</code> to <code>bool</code>) do not allow either
type to change.</p>
<h3 id="what-to-name-the-trait"><a class="header" href="#what-to-name-the-trait">What to name the trait</a></h3>
<p>A number of names have been proposed for this trait. The original name
was <code>Carrier</code>, as the implementing type was the “carrier” for an error
value. A proposed alternative was <code>QuestionMark</code>, named after the
operator <code>?</code>. However, the general consensus seemed to be that since
Rust operator overloading traits tend to be named after the
<em>operation</em> that the operator performed (e.g., <code>Add</code> and not <code>Plus</code>,
<code>Deref</code> and not <code>Star</code> or <code>Asterisk</code>), it was more appropriate to name
the trait <code>Try</code>, which seems to be the best name for the operation in
question.</p>
<h2 id="unresolved-questions"><a class="header" href="#unresolved-questions">Unresolved questions</a></h2>
<p>None.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="1857-stabilize-drop-order.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="1860-manually-drop.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="1857-stabilize-drop-order.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="1860-manually-drop.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
