<!DOCTYPE HTML>
<html lang="en_US" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>2300-self-in-typedefs - The Rust RFC Book</title>


        <!-- Custom HTML head -->
        <script type="text/javascript" src="ltd-provenance.js"></script>
        <script type="text/javascript" src="ltd-current.js"></script>
        <script type="text/javascript" src="../../ltd-config.js"></script>
        <script type="text/javascript" src="../../ltd-flyout.js"></script>

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-0060737d.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-5025baa3.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust RFC Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/rust-lang/rfcs" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <ul>
<li>Feature Name: <code>self_in_typedefs</code></li>
<li>Start Date: 2018-01-17</li>
<li>RFC PR: <a href="https://github.com/rust-lang/rfcs/pull/2300">rust-lang/rfcs#2300</a></li>
<li>Rust Issue: <a href="https://github.com/rust-lang/rust/issues/49303">rust-lang/rust#49303</a></li>
</ul>
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<p>The special <code>Self</code> identifier is now permitted in <code>struct</code>, <code>enum</code>, and <code>union</code>
type definitions. A simple example <code>struct</code> is:</p>
<pre><code class="language-rust">enum List&lt;T&gt;
where
    Self: PartialOrd&lt;Self&gt; // &lt;-- Notice the `Self` instead of `List&lt;T&gt;`
{
    Nil,
    Cons(T, Box&lt;Self&gt;) // &lt;-- And here.
}</code></pre>
<h2 id="motivation"><a class="header" href="#motivation">Motivation</a></h2>
<h3 id="removing-exceptions-and-making-the-language-more-uniform"><a class="header" href="#removing-exceptions-and-making-the-language-more-uniform">Removing exceptions and making the language more uniform</a></h3>
<p>The contextual identifier <code>Self</code> can already be used in type context in cases
such as when defining what an associated type is for a particular type as well
as for generic parameters in <code>impl</code>s as in:</p>
<pre><code class="language-rust">trait Foo&lt;T = Self&gt; {
    type Bar;

    fn wibble&lt;U&gt;() where Self: Sized;
}

struct Quux;

impl Foo&lt;Self&gt; for Quux {
    type Bar = Self;

    fn wibble&lt;U&gt;() where Self: Sized {}
}</code></pre>
<p>But this is not currently possible inside both fields and where clauses of
type definitions. This makes the language less consistent with respect to what
is allowed in type positions than what it could be.</p>
<h3 id="principle-of-least-surprise"><a class="header" href="#principle-of-least-surprise">Principle of least surprise</a></h3>
<p>Users, just new to the language and experts in the language alike, also
have a reasonable expectations that using <code>Self</code> inside type definitions is
in fact already possible. Users may have and have these expectations because
<code>Self</code> already works in other places where a type is expected. If a user
attempts to use <code>Self</code> today, that attempt will fail, breaking the users
intuition of the languages semantics. Avoiding that breakage will reduce the
paper cuts newcomers face when using the language. It will also allow the
community to focus on answering more important questions.</p>
<h3 id="better-ergonomics-with-smaller-edit-distances"><a class="header" href="#better-ergonomics-with-smaller-edit-distances">Better ergonomics with smaller edit distances</a></h3>
<p>When you have complex recursive <code>enum</code>s with many variants and generic types,
and want to rename a type parameter or the type itself, it would make renaming
and refactoring the type definitions easier if you did not have to make changes
in the variant fields which mention the type. This can be helped by IDEs to some
extent, but you do not always have such IDEs and even then, the readability of
using <code>Self</code> is superior to repeating the type in variants and fields since it
is a more visual cue that can be highlighted for specially.</p>
<h3 id="encouraging-descriptively-named-types-type-variables-and-more-generic-code"><a class="header" href="#encouraging-descriptively-named-types-type-variables-and-more-generic-code">Encouraging descriptively named types, type variables, and more generic code</a></h3>
<p>Making it simpler and more ergonomic to have longer type names and more
generic parameters in type definitions can also encourage using more
descriptive identifiers for both the type and the type variables used.
It may also encourage more generic code altogether.</p>
<h2 id="guide-level-explanation"><a class="header" href="#guide-level-explanation">Guide-level explanation</a></h2>
<blockquote>
<p><a href="http://cglab.ca/~abeinges/blah/too-many-lists/book/#an-obligatory-public-service-announcement">An Obligatory Public Service Announcement</a>: When reading this RFC,
keep in mind that these lists are only examples.
<strong>Always consider if you really need to use linked lists!</strong></p>
</blockquote>
<p>We will now go through a few examples of what you can and can’t do with this RFC.</p>
<h3 id="simple-example"><a class="header" href="#simple-example">Simple example</a></h3>
<p>Let’s look at a simple cons-list of <code>u8</code>s. Before this RFC, you had to write:</p>
<pre><code class="language-rust">enum U8List {
    Nil,
    Cons(u8, Box&lt;U8List&gt;)
}</code></pre>
<p>But with this RFC, you can now instead write:</p>
<pre><code class="language-rust">enum U8List {
    Nil,
    Cons(u8, Box&lt;Self&gt;) // &lt;-- Notice 'Self' here
}</code></pre>
<p>If you had written this example with <code>Self</code> without this RFC,
the compiler would have greeted you with:</p>
<pre><code>error[E0411]: cannot find type `Self` in this scope
 --&gt; src/main.rs:3:18
  |
3 |     Cons(u8, Box&lt;Self&gt;) // &lt;-- Notice 'Self' here
  |                  ^^^^ `Self` is only available in traits and impls
</code></pre>
<p>With this RFC, the compiler will never do so.</p>
<p>This new way of writing with <code>Self</code> can be thought of as literally
desugaring to the way it is written in the example before it. This also
extends to generic types (non-nullary type constructors) that are recursive.</p>
<h3 id="with-generic-type-parameters"><a class="header" href="#with-generic-type-parameters">With generic type parameters</a></h3>
<p>Continuing with the cons lists, let’s take a look at how the canonical
linked-list example can be rewritten using this RFC.</p>
<p>We start off with:</p>
<pre><code class="language-rust">enum List&lt;T&gt; {
    Nil,
    Cons(T, Box&lt;List&lt;T&gt;&gt;)
}</code></pre>
<p>With this RFC, the snippet above can be rewritten as:</p>
<pre><code class="language-rust">enum List&lt;T&gt; {
    Nil,
    Cons(T, Box&lt;Self&gt;) // &lt;-- Notice 'Self' here
}</code></pre>
<p>Notice in particular how we used just <code>Self</code> for both <code>U8List</code> and <code>List&lt;T&gt;</code>.
This applies to types with any number of parameters, including those that are
parameterized by lifetimes.</p>
<h3 id="examples-with-lifetimes"><a class="header" href="#examples-with-lifetimes">Examples with lifetimes</a></h3>
<p>An example of this can be seen in the following cons list:</p>
<pre><code class="language-rust">enum StackList&lt;'a, T: 'a&gt; {
    Nil,
    Cons(T, &amp;'a StackList&lt;'a, T&gt;)
}</code></pre>
<p>which is rewritten with this RFC as:</p>
<pre><code class="language-rust">enum StackList&lt;'a, T: 'a&gt; {
    Nil,
    Cons(T, &amp;'a Self) // &lt;-- Still using just 'Self'
}</code></pre>
<h3 id="structs-and-unions"><a class="header" href="#structs-and-unions">Structs and unions</a></h3>
<p>You can also use <code>Self</code> in <code>struct</code>s as in:</p>
<pre><code class="language-rust">struct NonEmptyList&lt;T&gt; {
    head: T,
    tail: Option&lt;Box&lt;NonEmptyList&lt;T&gt;&gt;&gt;,
}</code></pre>
<p>which is written with this RFC as:</p>
<pre><code class="language-rust">struct NonEmptyList&lt;T&gt; {
    head: T,
    tail: Option&lt;Box&lt;Self&gt;&gt;,
}</code></pre>
<p>This also extends to <code>union</code>s.</p>
<h3 id="where-clauses"><a class="header" href="#where-clauses"><code>where</code>-clauses</a></h3>
<p>In today’s Rust, it is possible to define a type such as:</p>
<pre><code class="language-rust">struct Foo&lt;T&gt;
where
    Foo&lt;T&gt;: SomeTrait
{
    // Some fields..
}</code></pre>
<p>and with some <code>impl</code>s:</p>
<pre><code class="language-rust">trait SomeTrait { ... }

impl SomeTrait for Foo&lt;u32&gt; { ... }
impl SomeTrait for Foo&lt;String&gt; { ... }</code></pre>
<p>this idiom bounds the types that the type parameter <code>T</code> can be of but also
avoids defining an <code>Auxiliary</code> trait which one bound <code>T</code> with as in:</p>
<pre><code class="language-rust">struct Foo&lt;T: Auxiliary&gt; {
    // Some fields..
}</code></pre>
<p>You could also have the type on the right hand side of the bound in the <code>where</code>
clause as in:</p>
<pre><code class="language-rust">struct Bar&lt;T&gt;
where
    T: PartialEq&lt;Bar&lt;T&gt;&gt;
{
    // Some fields..
}</code></pre>
<p>with this RFC, you can now redefine <code>Foo&lt;T&gt;</code> and <code>Bar&lt;T&gt;</code> as:</p>
<pre><code class="language-rust">struct Foo&lt;T&gt;
where
    Self: SomeTrait // &lt;-- Notice `Self`!
{
    // Some fields..
}

struct Bar&lt;T&gt;
where
    T: PartialEq&lt;Self&gt; // &lt;-- Notice `Self`!
{
    // Some fields..
}</code></pre>
<p>This makes the bound involving <code>Self</code> slightly more clear.</p>
<h3 id="when-self-can-not-be-used"><a class="header" href="#when-self-can-not-be-used">When <code>Self</code> can <strong>not</strong> be used</a></h3>
<p>Consider the following small expression language:</p>
<pre><code class="language-rust">trait Ty { type Repr: ::std::fmt::Debug; }

#[derive(Debug)]
struct Int;
impl Ty for Int { type Repr = usize; }

#[derive(Debug)]
struct Bool;
impl Ty for Bool { type Repr = bool; }

#[derive(Debug)]
enum Expr&lt;T: Ty&gt; {
    Lit(T::Repr),
    Add(Box&lt;Expr&lt;Int&gt;&gt;, Box&lt;Expr&lt;Int&gt;&gt;),
    If(Box&lt;Expr&lt;Bool&gt;&gt;, Box&lt;Expr&lt;T&gt;&gt;, Box&lt;Expr&lt;T&gt;&gt;),
}

fn main() {
    let expr: Expr&lt;Int&gt; =
        Expr::If(
            Box::new(Expr::Lit(true)),
            Box::new(Expr::Lit(1)),
            Box::new(Expr::Add(
                Box::new(Expr::Lit(1)),
                Box::new(Expr::Lit(1))
            ))
        );
    println!("{:#?}", expr);
}</code></pre>
<p>You may perhaps reach for this:</p>
<pre><code class="language-rust">#[derive(Debug)]
enum Expr&lt;T: Ty&gt; {
    Lit(T::Repr),
    Add(Box&lt;Self&gt;, Box&lt;Self&gt;),
    If(Box&lt;Self&gt;, Box&lt;Self&gt;, Box&lt;Self&gt;),
}</code></pre>
<p>But you have now changed the definition of <code>Expr</code> semantically.
The changed semantics are due to the fact that <code>Self</code> in this context is not
the same type as <code>Expr&lt;Int&gt;</code> or <code>Expr&lt;Bool&gt;</code>. The compiler, when desugaring
<code>Self</code> in this context, will simply substitute <code>Self</code> with what it sees in
<code>Expr&lt;T: Ty&gt;</code> (with any bounds removed).</p>
<p>You may at most use <code>Self</code> by changing the definition of <code>Expr&lt;T&gt;</code> to:</p>
<pre><code class="language-rust">#[derive(Debug)]
enum Expr&lt;T: Ty&gt; {
    Lit(T::Repr),
    Add(Box&lt;Expr&lt;Int&gt;&gt;, Box&lt;Expr&lt;Int&gt;&gt;),
    If(Box&lt;Expr&lt;Bool&gt;&gt;, Box&lt;Self&gt;, Box&lt;Self&gt;),
}</code></pre>
<h3 id="types-of-infinite-size"><a class="header" href="#types-of-infinite-size">Types of infinite size</a></h3>
<p>Consider the following example:</p>
<pre><code class="language-rust">enum List&lt;T&gt; {
    Nil,
    Cons(T, List&lt;T&gt;)
}</code></pre>
<p>If you try to compile it this today, the compiler will greet you with:</p>
<pre><code>error[E0072]: recursive type `List` has infinite size
 --&gt; src/main.rs:1:1
  |
1 | enum List&lt;T&gt; {
  | ^^^^^^^^^^^^ recursive type has infinite size
2 |     Nil,
3 |     Cons(T, List&lt;T&gt;)
  |             -------- recursive without indirection
  |
  = help: insert indirection (e.g., a `Box`, `Rc`, or `&amp;`) at some point to make `List` representable
</code></pre>
<p>If we use the syntax introduced by this RFC as in:</p>
<pre><code class="language-rust">enum List&lt;T&gt; {
    Nil,
    Cons(T, Self)
}</code></pre>
<p>you will still get an error since
<a href="https://doc.rust-lang.org/error-index.html#E0072">it is fundamentally impossible to construct a type of infinite size</a>.
The error message would however use <code>Self</code> as you wrote it instead of <code>List&lt;T&gt;</code>
as seen in this snippet:</p>
<pre><code>error[E0072]: recursive type `List` has infinite size
 --&gt; src/main.rs:1:1
  |
1 | enum List&lt;T&gt; {
  | ^^^^^^^^^^^^ recursive type has infinite size
2 |     Nil,
3 |     Cons(T, Self)
  |             ----- recursive without indirection
  |
  = help: insert indirection (e.g., a `Box`, `Rc`, or `&amp;`) at some point to make `List` representable
</code></pre>
<h3 id="teaching-the-contents-of-this-rfc"><a class="header" href="#teaching-the-contents-of-this-rfc">Teaching the contents of this RFC</a></h3>
<p>When talking about and teaching recursive types in Rust, since it is now
possible to use <code>Self</code>, the ability to use <code>Self</code> in this context should
be taught along side those types. An example of where this can be introduced
is the <a href="http://cglab.ca/~abeinges/blah/too-many-lists/book/first-layout.html"><em>“Learning Rust With Entirely Too Many Linked Lists”</em> guide</a>.</p>
<h2 id="reference-level-explanation"><a class="header" href="#reference-level-explanation">Reference-level explanation</a></h2>
<p>The identifier <code>Self</code> is (now) allowed in type contexts in fields of <code>struct</code>s,
<code>union</code>s, and the variants of <code>enum</code>s. The identifier <code>Self</code> is also allowed
as the left hand side of a bound in a <code>where</code> clause and as a type argument
to a trait bound on the right hand side of a <code>where</code> clause.</p>
<h3 id="desugaring"><a class="header" href="#desugaring">Desugaring</a></h3>
<p>When the compiler encounters <code>Self</code> in type contexts inside the places
described above, it will substitute them with the header of the type
definition but remove any bounds on generic parameters prior.</p>
<p>An example: the following cons list:</p>
<pre><code class="language-rust">enum StackList&lt;'a, T: 'a + InterestingTrait&gt; {
    Nil,
    Cons(T, &amp;'a Self)
}</code></pre>
<p>desugars into:</p>
<pre><code class="language-rust">enum StackList&lt;'a, T: 'a + InterestingTrait&gt; {
    Nil,
    Cons(T, &amp;'a StackList&lt;'a, T&gt;)
}</code></pre>
<p>Note in particular that the source code is <strong>not</strong> desugared into:</p>
<pre><code class="language-rust">enum StackList&lt;'a, T: 'a + InterestingTrait&gt; {
    Nil,
    Cons(T, &amp;'a StackList&lt;'a, T: 'a + InterestingTrait&gt;)
}</code></pre>
<p>An example of <code>Self</code> in <code>where</code> bounds is:</p>
<pre><code class="language-rust">struct Foo&lt;T&gt;
where
    Self: PartialEq&lt;Self&gt;
{
    // Some fields..
}</code></pre>
<p>which desugars into:</p>
<pre><code class="language-rust">struct Foo&lt;T&gt;
where
    Foo&lt;T&gt;: PartialEq&lt;Foo&lt;T&gt;&gt;
{
    // Some fields..
}</code></pre>
<h3 id="in-relation-to-rfc-2102-and-what-self-refers-to"><a class="header" href="#in-relation-to-rfc-2102-and-what-self-refers-to">In relation to <a href="https://github.com/rust-lang/rfcs/pull/2102">RFC 2102</a> and what <code>Self</code> refers to.</a></h3>
<p>It should be noted that <code>Self</code> always refers to the top level type and not
the inner unnamed <code>struct</code> or <code>union</code> because those are unnamed. Specifically,
<em>Self always applies to the innermost nameable type</em>. In type definitions in
particular, this is equivalent: <em>Self always applies to the top level type</em>.</p>
<h3 id="error-messages"><a class="header" href="#error-messages">Error messages</a></h3>
<p>When <code>Self</code> is used to construct an infinite type as in:</p>
<pre><code class="language-rust">enum List&lt;T&gt; {
    Nil,
    Cons(T, Self)
}</code></pre>
<p>The compiler will emit error <code>E0072</code> as in:</p>
<pre><code>error[E0072]: recursive type `List` has infinite size
 --&gt; src/main.rs:1:1
  |
1 | enum List&lt;T&gt; {
  | ^^^^^^^^^^^^ recursive type has infinite size
2 |     Nil,
3 |     Cons(T, Self)
  |             ----- recursive without indirection
  |
  = help: insert indirection (e.g., a `Box`, `Rc`, or `&amp;`) at some point to make `List` representable
</code></pre>
<p>Note in particular that <code>Self</code> is used and not <code>List&lt;T&gt;</code> on line <code>3</code>.</p>
<h3 id="in-relation-to-other-rfcs"><a class="header" href="#in-relation-to-other-rfcs">In relation to other RFCs</a></h3>
<p>This RFC expands on <a href="0593-forbid-Self-definitions.html">RFC 593</a> and <a href="1647-allow-self-in-where-clauses.html">RFC 1647</a> with respect to where the keyword
<code>Self</code> is allowed.</p>
<h2 id="drawbacks"><a class="header" href="#drawbacks">Drawbacks</a></h2>
<p>Some may argue that we shouldn’t have many ways to do the same thing and
that it introduces new syntax whereby making the surface language more complex.
However, the RFC may equally be said to simplify the surface language since
it removes exceptional cases especially in the users mental model.</p>
<p>Using <code>Self</code> in a type definition makes it harder to search for all positions
in which a pattern can appear in an AST.</p>
<h2 id="rationale-and-alternatives"><a class="header" href="#rationale-and-alternatives">Rationale and alternatives</a></h2>
<p>The rationale for this particular design is straightforward as it would be
uneconomic, confusing, and inconsistent to use other keywords.</p>
<h3 id="the-consistency-of-what-self-refers-to"><a class="header" href="#the-consistency-of-what-self-refers-to">The consistency of what <code>Self</code> refers to</a></h3>
<p>As explained in the [reference-level explanation], we said that:</p>
<blockquote>
<p><em>Self always applies to the innermost nameable type</em>.</p>
</blockquote>
<p>We arrive at this conclusion by examining a few different cases and what
they have in common.</p>
<h4 id="current-rust---shadowing-in-impls"><a class="header" href="#current-rust---shadowing-in-impls">Current Rust - Shadowing in <code>impl</code>s</a></h4>
<p>First, let’s take a look at shadowing in <code>impl</code>s.</p>
<pre><code class="language-rust">fn main() { Foo {}.foo(); }

#[derive(Debug)]
struct Foo;

impl Foo {
    fn foo(&amp;self) {
        // Prints "Foo", which is the innermost type.
        println!("{:?}", Self {});

        #[derive(Debug)]
        struct Bar;

        impl Bar {
            fn bar(&amp;self) {
                // Prints "Bar", also the innermost type in this context.
                println!("{:?}", Self {});
            }
        }
        Bar {}.bar();
    }
}</code></pre>
<p>Let’s also consider trait impls instead of inherent impls:</p>
<pre><code class="language-rust">impl Trait for Foo {
    fn foo(&amp;self) {
        impl Trait for Bar {
            // Self is shadowed here...
        }
    }
}</code></pre>
<p>We see that the conclusion holds for both examples.</p>
<h4 id="in-relation-to-rfc-2102"><a class="header" href="#in-relation-to-rfc-2102">In relation to <a href="https://github.com/rust-lang/rfcs/pull/2102">RFC 2102</a></a></h4>
<p>Let’s consider a modified example from <a href="https://github.com/rust-lang/rfcs/pull/2102">RFC 2102</a>:</p>
<pre><code class="language-rust">#[repr(C)]
struct S {
    a: u32,
    _: union {
        b: Box&lt;Self&gt;,
        c: f32,
    },
    d: u64,
}</code></pre>
<p>In this example, the inner union is not nameable, and so <code>Self</code> refers to the
only nameable introduced type <code>S</code>. Therefore, the conclusion holds.</p>
<h4 id="type-definitions-inside-impls"><a class="header" href="#type-definitions-inside-impls">Type definitions inside <code>impl</code>s</a></h4>
<p>If in the future we decide to permit type definitions inside <code>impl</code>s as in:</p>
<pre><code class="language-rust">impl Trait for Foo {
    struct Bar {
        head: u8,
        tail: Option&lt;Box&lt;Self&gt;&gt;,
    }
}</code></pre>
<p>as sugar for:</p>
<pre><code class="language-rust">enum _Bar {
    head: u8,
    tail: Option&lt;Box&lt;Self&gt;&gt;,
}
impl Trait for Foo {
    type Bar = _Bar;
}</code></pre>
<p>In the desugared example, we see that the only possible meaning of <code>Self</code> is
that it refers to <code>_Bar</code> and not <code>Foo</code>. To be consistent with the desugared
form, the sugared variant should have the same meaning and so <code>Self</code> refers
to <code>Bar</code> there.</p>
<p>Let’s now consider an alternative possible syntax:</p>
<pre><code class="language-rust">impl Trait for Foo {
    type Bar = struct /* there is no ident here */ {
        outer: Option&lt;Box&lt;Self&gt;&gt;,
        inner: Option&lt;Box&lt;Self::Item&gt;&gt;,
    }
}</code></pre>
<p>Notice here in particular that there is no identifier after the keyword
<code>struct</code>. Because of this, it is reasonable to say that the <code>struct</code>
assigned to the associated type <code>Bar</code> is not directly nameable as <code>Bar</code>.
Instead, a user must qualify <code>Bar</code> with <code>Self::Bar</code>. With this in mind,
we arrive at the following interpretation:</p>
<pre><code class="language-rust">impl Trait for Foo {
    type Bar = struct /* there is no ident here */ {
        outer: Option&lt;Box&lt;Foo&gt;&gt;,
        inner: Option&lt;Box&lt;Foo::Bar&gt;&gt;,
    }
}</code></pre>
<h4 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h4>
<p>We’ve now examined a few cases and seen that indeed, the meaning of <code>Self</code> is
consistent in all of them as well as with what the meaning in today’s Rust.</p>
<h3 id="doing-nothing"><a class="header" href="#doing-nothing">Doing nothing</a></h3>
<p>One alternative to the changes proposed in this RFC is to simply not implement
those changes. However, this has the downsides of not increasing the ergonomics
and keeping the language less consistent than what it could be. Not improving
the ergonomics here may be especially problematic when dealing with “recursive”
types that have long names and/or many generic parameters and may encourage
developers to use type names which are less descriptive and keep their code
less generic than what is appropriate.</p>
<h3 id="internal-scoped-type-aliases"><a class="header" href="#internal-scoped-type-aliases">Internal scoped type aliases</a></h3>
<p>Another alternative is to allow users to specify type aliases inside type
definitions and use any generic parameters specified in that definition.
An example is:</p>
<pre><code class="language-rust">enum Tree&lt;T&gt; {
    type S = Box&lt;Tree&lt;T&gt;&gt;;

    Nil,
    Node(T, S, S),
}</code></pre>
<p>instead of:</p>
<pre><code class="language-rust">enum Tree&lt;T&gt; {
    Nil,
    Node(T, Box&lt;Self&gt;, Box&lt;Self&gt;),
}</code></pre>
<p>When dealing with <em><a href="https://github.com/rust-lang/rfcs/blob/master/text/1598-generic_associated_types.md">generic associated types</a> (GATs)</em>, we can then write:</p>
<pre><code class="language-rust">enum Tree&lt;T, P: PointerFamily&gt; {
    type S = P::Pointer&lt;Tree&lt;T&gt;&gt;;

    Nil,
    Node(T, S, S),
}</code></pre>
<p>instead of:</p>
<pre><code class="language-rust">enum Tree&lt;T, P: PointerFamily&gt; {
    Nil,
    Node(T, P::Pointer&lt;Tree&lt;T&gt;&gt;, P::Pointer&lt;Tree&lt;T&gt;&gt;),
}</code></pre>
<p>As we can see, this approach and alternative is more flexible compared to
what is proposed in this RFC, particularly in the case of GATs. However,
this alternative requires introducing and teaching more concepts compared
to this RFC, which comparatively builds more on what users already know.
Mixing <code>;</code> and <code>,</code> has also proven to be controversial in the past. The
alternative also opens up questions such as if the type alias should be
permitted before the variants, or after the variants.</p>
<p>For simpler cases such as the first tree-example, using <code>Self</code> is also more
readable as it is a special construct that you can easily syntax-highlight
for in a more noticeable way. Further, while there is an expectation from
some users that <code>Self</code> already works, as discussed in the <a href="#motivation">motivation</a>,
the expectation that this alternative already works has not been brought
forth by anyone as far as this RFC’s author is aware.</p>
<p>It is also unclear how internal scoped type aliases would syntactically work
with <code>where</code> bounds.</p>
<p>Strictly speaking, this particular alternative is not in conflict with this
RFC in that both can be supported technically. The alternative should be
considered interesting future work, but for now, a more conservative approach
is preferred.</p>
<h2 id="unresolved-questions"><a class="header" href="#unresolved-questions">Unresolved questions</a></h2>
<ul>
<li>This syntax creates ambiguity if we ever permit types to be declared directly
within impls (for example, as the value for an associated type). Do we ever want
to support that, and if so, how should we resolve the ambiguity? <strong>A</strong> possible,
interpretation and way to solve the ambiguity consistently is discussed in the
rationale.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="2298-macro-at-most-once-rep.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="2302-tuple-struct-self-ctor.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="2298-macro-at-most-once-rep.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="2302-tuple-struct-self-ctor.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
