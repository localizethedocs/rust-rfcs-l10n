<!DOCTYPE HTML>
<html lang="en_US" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>0439-cmp-ops-reform - The Rust RFC Book</title>


        <!-- Custom HTML head -->
        <script type="text/javascript" src="ltd-provenance.js"></script>
        <script type="text/javascript" src="ltd-current.js"></script>
        <script type="text/javascript" src="../../ltd-config.js"></script>
        <script type="text/javascript" src="../../ltd-flyout.js"></script>

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-0060737d.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-5025baa3.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust RFC Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/rust-lang/rfcs" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <ul>
<li>Start Date: 2014-11-03</li>
<li>RFC PR: <a href="https://github.com/rust-lang/rfcs/pull/439">rust-lang/rfcs#439</a></li>
<li>Rust Issue: <a href="https://github.com/rust-lang/rust/issues/19148">rust-lang/rfcs#19148</a></li>
</ul>
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<p>This RFC proposes a number of design improvements to the <code>cmp</code> and
<code>ops</code> modules in preparation for 1.0. The impetus for these
improvements, besides the need for stabilization, is that we’ve added
several important language features (like multidispatch) that greatly
impact the design. Highlights:</p>
<ul>
<li>Make basic unary and binary operators work by value and use associated types.</li>
<li>Generalize comparison operators to work across different types; drop <code>Equiv</code>.</li>
<li>Refactor slice notation in favor of <em>range notation</em> so that special
traits are no longer needed.</li>
<li>Add <code>IndexSet</code> to better support maps.</li>
<li>Clarify ownership semantics throughout.</li>
</ul>
<h2 id="motivation"><a class="header" href="#motivation">Motivation</a></h2>
<p>The operator and comparison traits play a double role: they are lang
items known to the compiler, but are also library APIs that need to be
stabilized.</p>
<p>While the traits have been fairly stable, a lot has changed in the
language recently, including the addition of multidispatch, associated
types, and changes to method resolution (especially around smart
pointers). These are all things that impact the ideal design of the traits.</p>
<p>Since it is now relatively clear how these language features will work
at 1.0, there is enough information to make final decisions about the
construction of the comparison and operator traits. That’s what this
RFC aims to do.</p>
<h2 id="detailed-design"><a class="header" href="#detailed-design">Detailed design</a></h2>
<p>The traits in <code>cmp</code> and <code>ops</code> can be broken down into several
categories, and to keep things manageable this RFC discusses each
category separately:</p>
<ul>
<li>Basic operators:
<ul>
<li>Unary: <code>Neg</code>, <code>Not</code></li>
<li>Binary: <code>Add</code>, <code>Sub</code>, <code>Mul</code>, <code>Div</code>, <code>Rem</code>, <code>Shl</code>, <code>Shr</code>, <code>BitAnd</code>, <code>BitOr</code>, <code>BitXor</code>,</li>
</ul>
</li>
<li>Comparison: <code>PartialEq</code>, <code>PartialOrd</code>, <code>Eq</code>, <code>Ord</code>, <code>Equiv</code></li>
<li>Indexing and slicing: <code>Index</code>, <code>IndexMut</code>, <code>Slice</code>, <code>SliceMut</code></li>
<li>Special traits: <code>Deref</code>, <code>DerefMut</code>, <code>Drop</code>, <code>Fn</code>, <code>FnMut</code>, <code>FnOnce</code></li>
</ul>
<h3 id="basic-operators"><a class="header" href="#basic-operators">Basic operators</a></h3>
<p>The basic operators include arithmetic and bitwise notation with both
unary and binary operators.</p>
<h4 id="current-design"><a class="header" href="#current-design">Current design</a></h4>
<p>Here are two example traits, one unary and one binary, for basic operators:</p>
<pre><code class="language-rust">pub trait Not&lt;Result&gt; {
    fn not(&amp;self) -&gt; Result;
}

pub trait Add&lt;Rhs, Result&gt; {
    fn add(&amp;self, rhs: &amp;Rhs) -&gt; Result;
}</code></pre>
<p>The rest of the operators follow the same pattern. Note that <code>self</code>
and <code>rhs</code> are taken by reference, and the compiler introduce <em>silent</em>
uses of <code>&amp;</code> for the operands.</p>
<p>The traits also take <code>Result</code> as an
<a href="https://github.com/rust-lang/rfcs/pull/195"><em>input</em></a> type.</p>
<h4 id="proposed-design"><a class="header" href="#proposed-design">Proposed design</a></h4>
<p>This RFC proposes to make <code>Result</code> an associated (output) type, and to
make the traits work by value:</p>
<pre><code class="language-rust">pub trait Not {
    type Result;
    fn not(self) -&gt; Result;
}

pub trait Add&lt;Rhs = Self&gt; {
    type Result;
    fn add(self, rhs: Rhs) -&gt; Result;
}</code></pre>
<p>The reason to make <code>Result</code> an associated type is straightforward: it
should be uniquely determined given <code>Self</code> and other input types, and
making it an associated type is better for both type inference and for
keeping things concise when using these traits in bounds.</p>
<p>Making these traits work by value is motivated by cases like <code>DList</code>
concatenation, where you may want the operator to actually consume the
operands in producing its output (by welding the two lists together).</p>
<p>It also means that the compiler does not have to introduce a silent
<code>&amp;</code> for the operands, which means that the ownership semantics when
using these operators is much more clear.</p>
<p>Fortunately, there is no loss in expressiveness, since you can always
implement the trait on reference types. However, for types that <em>do</em>
need to be taken by reference, there is a slight loss in ergonomics
since you may need to explicitly borrow the operands with <code>&amp;</code>. The
upside is that the ownership semantics become clearer: they more
closely resemble normal function arguments.</p>
<p>By keeping <code>Rhs</code> as an input trait on the trait, you can overload on the
types of both operands via
<a href="https://github.com/rust-lang/rfcs/pull/195">multidispatch</a>.  By
defaulting <code>Rhs</code> to <code>Self</code>, in
<a href="https://github.com/rust-lang/rfcs/pull/213">the future</a> it will be
possible to simply say <code>T: Add</code> as shorthand for <code>T: Add&lt;T&gt;</code>, which is
the common case.</p>
<p>Examples:</p>
<pre><code class="language-rust">// Basic setup for Copy types:
impl Add&lt;uint&gt; for uint {
    type Result = uint;
    fn add(self, rhs: uint) -&gt; uint { ... }
}

// Overloading on the Rhs:
impl Add&lt;uint&gt; for Complex {
    type Result = Complex;
    fn add(self, rhs: uint) -&gt; Complex { ... }
}

impl Add&lt;Complex&gt; for Complex {
    type Result = Complex;
    fn add(self, rhs: Complex) -&gt; Complex { ... }
}

// Recovering by-ref semantics:
impl&lt;'a, 'b&gt; Add&lt;&amp;'a str&gt; for &amp;'b str {
    type Result = String;
    fn add(self, rhs: &amp;'a str) -&gt; String { ... }
}</code></pre>
<h3 id="comparison-traits"><a class="header" href="#comparison-traits">Comparison traits</a></h3>
<p>The comparison traits provide overloads for operators like <code>==</code> and <code>&gt;</code>.</p>
<h4 id="current-design-1"><a class="header" href="#current-design-1">Current design</a></h4>
<p>Comparisons are subtle, because some types (notably <code>f32</code> and <code>f64</code>)
do not actually provide full equivalence relations or total
orderings. The current design therefore splits the comparison traits
into “partial” variants that do not promise full equivalence
relations/ordering, and “total” variants which inherit from them but
make stronger semantic guarantees. The floating point types implement
the partial variants, and the operators defer to them. But certain
collection types require e.g. total rather than partial orderings:</p>
<pre><code class="language-rust">pub trait PartialEq {
    fn eq(&amp;self, other: &amp;Self) -&gt; bool;

    fn ne(&amp;self, other: &amp;Self) -&gt; bool { !self.eq(other) }
}

pub trait Eq: PartialEq {}

pub trait PartialOrd: PartialEq {
    fn partial_cmp(&amp;self, other: &amp;Self) -&gt; Option&lt;Ordering&gt;;
    fn lt(&amp;self, other: &amp;Self) -&gt; bool { .. }
    fn le(&amp;self, other: &amp;Self) -&gt; bool { .. }
    fn gt(&amp;self, other: &amp;Self) -&gt; bool { .. }
    fn ge(&amp;self, other: &amp;Self) -&gt; bool { .. }
}

pub trait Ord: Eq + PartialOrd {
    fn cmp(&amp;self, other: &amp;Self) -&gt; Ordering;
}

pub trait Equiv&lt;T&gt; {
    fn equiv(&amp;self, other: &amp;T) -&gt; bool;
}</code></pre>
<p>In addition there is an <code>Equiv</code> trait that can be used to compare
values of <em>different</em> types for equality, but does not correspond to
any operator sugar. (It was introduced in part to help solve some
problems in map APIs, which are now resolved in a different way.)</p>
<p>The comparison traits all work by reference, and the compiler inserts
implicit uses of <code>&amp;</code> to make this ergonomic.</p>
<h4 id="proposed-design-1"><a class="header" href="#proposed-design-1">Proposed design</a></h4>
<p>This RFC proposes to follow largely the same design strategy, but to
remove <code>Equiv</code> and instead generalize the traits via multidispatch:</p>
<pre><code class="language-rust">pub trait PartialEq&lt;Rhs = Self&gt; {
    fn eq(&amp;self, other: &amp;Rhs) -&gt; bool;

    fn ne(&amp;self, other: &amp;Rhs) -&gt; bool { !self.eq(other) }
}

pub trait Eq&lt;Rhs = Self&gt;: PartialEq&lt;Rhs&gt; {}

pub trait PartialOrd&lt;Rhs = Self&gt;: PartialEq&lt;Rhs&gt; {
    fn partial_cmp(&amp;self, other: &amp;Rhs) -&gt; Option&lt;Ordering&gt;;
    fn lt(&amp;self, other: &amp;Rhs) -&gt; bool { .. }
    fn le(&amp;self, other: &amp;Rhs) -&gt; bool { .. }
    fn gt(&amp;self, other: &amp;Rhs) -&gt; bool { .. }
    fn ge(&amp;self, other: &amp;Rhs) -&gt; bool { .. }
}

pub trait Ord&lt;Rhs = Self&gt;: Eq&lt;Rhs&gt; + PartialOrd&lt;Rhs&gt; {
    fn cmp(&amp;self, other: &amp;Rhs) -&gt; Ordering;
}</code></pre>
<p>Due to the use of defaulting, this generalization loses no
ergonomics. However, it makes it <em>possible</em> to overload notation like
<code>==</code> to compare different types without needing an explicit
conversion. (Precisely <em>which</em> overloadings we provide in <code>std</code> will
be subject to API stabilization.) This more general design will allow
us to eliminate the <code>iter::order</code> submodule in favor of comparison
notation, for example.</p>
<p>This design suffers from the problem that it is somewhat painful to
implement or derive <code>Eq</code>/<code>Ord</code>, which is the common case. We can
likely improve e.g. <code>#[deriving(Ord)]</code> to automatically derive
<code>PartialOrd</code>. See Alternatives for a more radical design (and the
reasons that it’s not feasible right now.)</p>
<h3 id="indexing-and-slicing"><a class="header" href="#indexing-and-slicing">Indexing and slicing</a></h3>
<p>There are a few traits that support <code>[]</code> notation for indexing and slicing.</p>
<h4 id="current-design-2"><a class="header" href="#current-design-2">Current design:</a></h4>
<p>The current design is as follows:</p>
<pre><code class="language-rust">pub trait Index&lt;Index, Sized? Result&gt; {
    fn index&lt;'a&gt;(&amp;'a self, index: &amp;Index) -&gt; &amp;'a Result;
}

pub trait IndexMut&lt;Index, Result&gt; {
    fn index_mut&lt;'a&gt;(&amp;'a mut self, index: &amp;Index) -&gt; &amp;'a mut Result;
}

pub trait Slice&lt;Idx, Sized? Result&gt; for Sized? {
    fn as_slice_&lt;'a&gt;(&amp;'a self) -&gt; &amp;'a Result;
    fn slice_from_or_fail&lt;'a&gt;(&amp;'a self, from: &amp;Idx) -&gt; &amp;'a Result;
    fn slice_to_or_fail&lt;'a&gt;(&amp;'a self, to: &amp;Idx) -&gt; &amp;'a Result;
    fn slice_or_fail&lt;'a&gt;(&amp;'a self, from: &amp;Idx, to: &amp;Idx) -&gt; &amp;'a Result;
}

// and similar for SliceMut...</code></pre>
<p>The index and slice traits work somewhat differently. For
<code>Index</code>/<code>IndexMut</code>, the return value is <em>implicitly</em> dereferenced, so
that notation like <code>v[i] = 3</code> makes sense. If you want to get your
hands on the actual reference, you usually need an explicit <code>&amp;</code>, for
example <code>&amp;v[i]</code> or <code>&amp;mut v[i]</code> (the compiler determines whether to use
<code>Index</code> or <code>IndexMut</code> by context). This follows the C notational
tradition.</p>
<p>Slice notation, on the other hand, does <em>not</em> automatically dereference
and so requires a special <code>mut</code> marker: <code>v[mut 1..]</code>.</p>
<p>For both of these traits, the indexes themselves are taken by
reference, and the compiler automatically introduces a <code>&amp;</code> (so you
write <code>v[3]</code> not <code>v[&amp;3]</code>).</p>
<h4 id="proposed-design-2"><a class="header" href="#proposed-design-2">Proposed design</a></h4>
<p>This RFC proposes to refactor the slice design into more modular
components, which as a side-product will make slicing automatically
dereference the result (consistently with indexing). The latter is
desirable because <code>&amp;mut v[1..]</code> is more consistent with the rest of
the language than <code>v[mut 1..]</code> (and also makes the borrowing semantics
more explicit).</p>
<h5 id="index-revisions"><a class="header" href="#index-revisions">Index revisions</a></h5>
<p>In the new design, the index traits take the index by value and the
compiler no longer introduces a silent <code>&amp;</code>. This follows the same
design as for e.g. <code>Add</code> above, and for much the same reasons. That
means in particular that it will be possible to write <code>map["key"]</code>
rather than <code>map[*"key"]</code> when using a map with <code>String</code> keys, and
will still be possible to write <code>v[3]</code> for vectors. In addition, the
<code>Result</code> becomes an associated type, again following the same design
outlined above:</p>
<pre><code class="language-rust">pub trait Index&lt;Idx&gt; for Sized?  {
    type Sized? Result;
    fn index&lt;'a&gt;(&amp;'a self, index: Idx) -&gt; &amp;'a Result;
}

pub trait IndexMut&lt;Idx&gt; for Sized? {
    type Sized? Result;
    fn index_mut&lt;'a&gt;(&amp;'a mut self, index: Idx) -&gt; &amp;'a mut Result;
}</code></pre>
<p>In addition, this RFC proposes another trait, <code>IndexSet</code>, that is used for <code>expr[i] = expr</code>:</p>
<pre><code class="language-rust">pub trait IndexSet&lt;Idx&gt; {
    type Val;
    fn index_set&lt;'a&gt;(&amp;'a mut self, index: Idx, val: Val);
}</code></pre>
<p>(This idea is borrowed from
<a href="https://github.com/rust-lang/rfcs/pull/159/files">@sfackler’s earlier RFC</a>.)</p>
<p>The motivation for this trait is cases like <code>map["key"] = val</code>, which
should correspond to an <em>insertion</em> rather than a mutable lookup. With
today’s setup, that expression would result in a panic if “key” was
not already present in the map.</p>
<p>Of course, <code>IndexSet</code> and <code>IndexMut</code> overlap, since <code>expr[i] = expr</code>
could be interpreted using either. Some types may implement <code>IndexSet</code>
but not <code>IndexMut</code> (for example, if it doesn’t make sense to produce
an interior reference). But for types providing both, the compiler
will use <code>IndexSet</code> to interpret the <code>expr[i] = expr</code> syntax. (You can
always get <code>IndexMut</code> by instead writing <code>* &amp;mut expr[i] = expr</code>, but
this will likely be extremely rare.)</p>
<h5 id="slice-revisions"><a class="header" href="#slice-revisions">Slice revisions</a></h5>
<p>The changes to slice notation are more radical: this RFC proposes to
remove the slice traits altogether! The replacement is to introduce
<em>range notation</em> and overload indexing on it.</p>
<p>The current slice notation allows you to write <code>v[i..j]</code>, <code>v[i..]</code>,
<code>v[..j]</code> and <code>v[]</code>. The idea for handling the first three is to add
the following desugaring:</p>
<pre><code class="language-rust">i..j  ==&gt;  Range(i, j)
i..   ==&gt;  RangeFrom(i)
..j   ==&gt;  RangeTo(j)

where

struct Range&lt;Idx&gt;(Idx, Idx);
struct RangeFrom&lt;Idx&gt;(Idx);
struct RangeTo&lt;Idx&gt;(Idx);</code></pre>
<p>Then, to implement slice notation, you just implement <code>Index</code>/<code>IndexMut</code> with
<code>Range</code>, <code>RangeFrom</code>, and <code>RangeTo</code> index types.</p>
<p>This cuts down on the number of special traits and machinery. It makes
indexing and slicing more consistent (since both will implicitly deref
their result); you’ll write <code>&amp;mut v[1..]</code> to get a mutable slice. It
also opens the door to other uses of the range notation:</p>
<pre><code>for x in 1..100 { ... }
</code></pre>
<p>because the refactored design is more modular.</p>
<p>What about <code>v[]</code> notation? The proposal is to desugar this to
<code>v[FullRange]</code> where <code>struct FullRange;</code>.</p>
<p>Note that <code>..</code> is already used in a few places in the grammar, notably
fixed length arrays and functional record update. The former is at the
type level, however, and the latter is not ambiguous: <code>Foo { a: x, .. bar}</code> since the <code>.. bar</code> component will never be parsed as an
expression.</p>
<h3 id="special-traits"><a class="header" href="#special-traits">Special traits</a></h3>
<p>Finally, there are a few “special” traits that hook into the compiler
in various ways that go beyond basic operator overlaoding.</p>
<h4 id="deref-and-derefmut"><a class="header" href="#deref-and-derefmut"><code>Deref</code> and <code>DerefMut</code></a></h4>
<p>The <code>Deref</code> and <code>DerefMut</code> traits are used for overloading
dereferencing, typically for smart pointers.</p>
<p>The current traits look like so:</p>
<pre><code class="language-rust">pub trait Deref&lt;Sized? Result&gt; {
    fn deref&lt;'a&gt;(&amp;'a self) -&gt; &amp;'a Result;
}</code></pre>
<p>but the <code>Result</code> type should become an associated type, dictating that
a smart pointer can only deref to a single other type (which is also
needed for inference and other magic around deref):</p>
<pre><code class="language-rust">pub trait Deref {
    type Sized? Result;
    fn deref&lt;'a&gt;(&amp;'a self) -&gt; &amp;'a Result;
}</code></pre>
<h4 id="drop"><a class="header" href="#drop"><code>Drop</code></a></h4>
<p>This RFC proposes no changes to the <code>Drop</code> trait.</p>
<h4 id="closure-traits"><a class="header" href="#closure-traits">Closure traits</a></h4>
<p>This RFC proposes no changes to the closure traits. The current design looks like:</p>
<pre><code class="language-rust">pub trait Fn&lt;Args, Result&gt; {
    fn call(&amp;self, args: Args) -&gt; Result;
}</code></pre>
<p>and, given the way that multidispatch has worked out, it is safe and
more flexible to keep both <code>Args</code> and <code>Result</code> as input types (which
means that custom implementations could overload on either). In
particular, the sugar for these traits requires writing all of these
types anyway.</p>
<p>These traits should <em>not</em> be exposed as <code>#[stable]</code> for 1.0, meaning
that you will not be able to implement or use them directly from the
<a href="http://blog.rust-lang.org/2014/10/30/Stability.html">stable release channel</a>. There
are a few reasons for this. For one, when bounding by these traits you
generally want to use the sugar <code>Fn (T, U) -&gt; V</code> instead, which will
be stable. Keeping the traits themselves unstable leaves us room to
change their definition to support
<a href="https://github.com/rust-lang/rfcs/issues/376">variadic generics</a> in
the future.</p>
<h2 id="drawbacks"><a class="header" href="#drawbacks">Drawbacks</a></h2>
<p>The main drawback is that implementing the above will take a bit of
time, which is something we’re currently very short on. However,
stabilizing <code>cmp</code> and <code>ops</code> has always been part of the plan, and has
to be done for 1.0.</p>
<h2 id="alternatives"><a class="header" href="#alternatives">Alternatives</a></h2>
<h3 id="comparison-traits-1"><a class="header" href="#comparison-traits-1">Comparison traits</a></h3>
<p>We could pursue a more aggressive change to the comparison traits by
not having <code>PartialOrd</code> be a super trait of <code>Ord</code>, but instead
providing a blanket <code>impl</code> for <code>PartialOrd</code> for any <code>T: Ord</code>. Unfortunately, this design poses some problems when it comes to
things like tuples, which want to provide <code>PartialOrd</code> and <code>Ord</code> if
all their components do: you would end up with overlapping
<code>PartialOrd</code> <code>impl</code>s. It’s possible to work around this, but at the
expense of additional language features (like “negative bounds”, the
ability to make an <code>impl</code> apply only when certain things are <em>not</em>
true).</p>
<p>Since it’s unlikely that these other changes can happen in time for
1.0, this RFC takes a more conservative approach.</p>
<h3 id="slicing"><a class="header" href="#slicing">Slicing</a></h3>
<p>We may want to drop the <code>[]</code> notation. This notation was introduced to
improve ergonomics (from <code>foo(v.as_slice())</code> to <code>foo(v[]</code>), but now
that <a href="https://github.com/rust-lang/rfcs/pull/235">collections reform</a>
is starting to land we can instead write <code>foo(&amp;*v)</code>. If we also had
<a href="https://github.com/rust-lang/rfcs/pull/241">deref coercions</a>, that
would be just <code>foo(&amp;v)</code>.</p>
<p>While <code>&amp;*v</code> notation is more ergonomic than <code>v.as_slice()</code>, it is also
somewhat intimidating notation for a situation that newcomers to the
language are likely to face quickly.</p>
<p>In the opinion of this RFC author, we should either keep <code>[]</code>
notation, or provide deref coercions so that you can just say <code>&amp;v</code>.</p>
<h2 id="unresolved-questions"><a class="header" href="#unresolved-questions">Unresolved questions</a></h2>
<p>In the long run, we should support overloading of operators like <code>+=</code>
which often have a more efficient implementation than desugaring into
a <code>+</code> and an <code>=</code>. However, this can be added backwards-compatibly and
is not significantly blocking library stabilization, so this RFC
postpones consideration until a later date.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="0438-precedence-of-plus.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="0445-extension-trait-conventions.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="0438-precedence-of-plus.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="0445-extension-trait-conventions.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
