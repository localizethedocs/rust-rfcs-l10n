msgid ""
msgstr ""
"Project-Id-Version: The Rust RFC Book\n"
"POT-Creation-Date: 2025-12-22T09:04:44Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/1961-clamp.md:1
msgid "Feature Name: clamp functions"
msgstr ""

#: src/1961-clamp.md:2
msgid "Start Date: 2017-03-26"
msgstr ""

#: src/1961-clamp.md:3
msgid ""
"RFC PR: [rust-lang/rfcs#1961](https://github.com/rust-lang/rfcs/pull/1961)/"
msgstr ""

#: src/1961-clamp.md:4
msgid ""
"Rust Issue: [rust-lang/rust#44095](https://github.com/rust-lang/rust/"
"issues/44095)"
msgstr ""

#: src/1961-clamp.md:6
msgid "Summary"
msgstr ""

#: src/1961-clamp.md:9
msgid ""
"Add functions to the language which take a value and an inclusive range, and "
"will \"clamp\" the input to the range.  I.E."
msgstr ""

#: src/1961-clamp.md:22
msgid ""
"These would be on the Ord trait, and have a special version implemented for "
"f32 and f64."
msgstr ""

#: src/1961-clamp.md:24
msgid "Motivation"
msgstr ""

#: src/1961-clamp.md:27
msgid ""
"Clamp is a very common pattern in Rust libraries downstream.  Some observed "
"implementations of this include:"
msgstr ""

#: src/1961-clamp.md:29
msgid "http://nalgebra.org/rustdoc/nalgebra/fn.clamp.html"
msgstr ""

#: src/1961-clamp.md:31
msgid "http://rust-num.github.io/num/num/fn.clamp.html"
msgstr ""

#: src/1961-clamp.md:33
msgid ""
"Many libraries don't expose or consume a clamp function but will instead use "
"patterns like this:"
msgstr ""

#: src/1961-clamp.md:44
msgid "and"
msgstr ""

#: src/1961-clamp.md:48
msgid "and even"
msgstr ""

#: src/1961-clamp.md:57
msgid ""
"Typically these patterns exist where there is a need to interface with APIs "
"that take normalized values or when sending output to hardware that expects "
"values to be in a certain range, such as audio samples or painting to pixels "
"on a display."
msgstr ""

#: src/1961-clamp.md:60
msgid ""
"While this is pretty trivial to implement downstream there are quite a few "
"ways to do it and just writing the clamp inline usually results in rather a "
"lot of control flow structure to describe a fairly simple and common concept."
msgstr ""

#: src/1961-clamp.md:63
msgid "Detailed design"
msgstr ""

#: src/1961-clamp.md:66
msgid "Add the following to std::cmp::Ord"
msgstr ""

#: src/1961-clamp.md:69
msgid ""
"/// Returns max if self is greater than max, and min if self is less than "
"min.  \n"
"/// Otherwise this will return self.  Panics if min > max.\n"
msgstr ""

#: src/1961-clamp.md:85
msgid "And the following to libstd/f32.rs, and a similar version for f64"
msgstr ""

#: src/1961-clamp.md:88
msgid ""
"/// Returns max if self is greater than max, and min if self is less than "
"min.\n"
"/// Otherwise this returns self.  Panics if min > max, min equals NaN, or "
"max equals NaN.\n"
"///\n"
"/// # Examples\n"
"///\n"
"/// ```\n"
"/// assert!((-3.0f32).clamp(-2.0f32, 1.0f32) == -2.0f32);\n"
"/// assert!((0.0f32).clamp(-2.0f32, 1.0f32) == 0.0f32);\n"
"/// assert!((2.0f32).clamp(-2.0f32, 1.0f32) == 1.0f32);\n"
"/// ```\n"
msgstr ""

#: src/1961-clamp.md:107
msgid ""
"This NaN handling behavior was chosen because a range with NaN on either "
"side isn't really a range at all and the function can't be guaranteed to "
"behave correctly if that is the case."
msgstr ""

#: src/1961-clamp.md:109
msgid "How We Teach This"
msgstr ""

#: src/1961-clamp.md:112
msgid ""
"The proposed changes would not mandate modifications to any Rust educational "
"material."
msgstr ""

#: src/1961-clamp.md:114
msgid "Drawbacks"
msgstr ""

#: src/1961-clamp.md:117
msgid ""
"This is trivial to implement downstream, and several versions of it exist "
"downstream."
msgstr ""

#: src/1961-clamp.md:119
msgid "Alternatives"
msgstr ""

#: src/1961-clamp.md:122
msgid ""
"Alternatives were explored at https://internals.rust-lang.org/t/clamp-"
"function-for-primitive-types/4999"
msgstr ""

#: src/1961-clamp.md:124
msgid ""
"Additionally there is the option of placing clamp in std::cmp in order to "
"avoid backwards compatibility problems.  This is however semantically "
"undesirable, as `1.clamp(2, 3);` is more readable than `clamp(1, 2, 3);`"
msgstr ""

#: src/1961-clamp.md:126
msgid "Unresolved questions"
msgstr ""

#: src/1961-clamp.md:129
msgid "None"
msgstr ""
